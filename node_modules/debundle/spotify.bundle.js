!function(e){function t(r){if(n[r])return n[r].exports;var i=n[r]={exports:{},id:r,loaded:!1};return e[r].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p="https://open.scdn.co/static/",t(0)}(function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))switch(typeof e[t]){case"function":break;case"object":e[t]=function(t){var n=t.slice(1),r=e[t[0]];return function(e,t,i){r.apply(this,[e,t,i].concat(n))}}(e[t]);break;default:e[t]=e[e[t]]}return e}([function(e,t,n){e.exports=n(330)},function(e,t,n){"use strict";e.exports=n(39)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0}),t._=t.I18n=void 0;var o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(333),u=r(s),l=null,c=t.I18n=function(){function e(){i(this,e),this._dictionary=new Map,this._locale="en"}return a(e,[{key:"setDictionary",value:function(e,t){var n=e;t&&(this._locale=t),null!==e&&"function"!=typeof e[Symbol.iterator]&&(n=Object.keys(e).map(function(t){return[t,e[t]]})),this._dictionary=new Map(n)}},{key:"translate",value:function(e){for(var t=this._dictionary.has(e)?this._dictionary.get(e):e,n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];if("object"===("undefined"==typeof t?"undefined":o(t))&&1===r.length){var a=r[0],s=u.default[this._locale],l=s(a);if(t[l])return t[l];if(t.other)return t.other}if(r&&r.length>0)for(var c=0;c<r.length;c++)t=t.replace("{"+c+"}",r[c]);if(r&&"object"===o(r[0])){var p=!0,f=!1,d=void 0;try{for(var h,y=Object.keys(r[0])[Symbol.iterator]();!(p=(h=y.next()).done);p=!0){var _=h.value,m=r[0][_];t=t.replace("%"+_+"%",m)}}catch(e){f=!0,d=e}finally{try{!p&&y.return&&y.return()}finally{if(f)throw d}}}return t}},{key:"locale",get:function(){return this._locale}}],[{key:"getInstance",value:function(){return l||(l=new e),l}},{key:"destroy",value:function(){l=null}},{key:"getTranslationFunction",value:function(){var e=this.getInstance();return e.translate.bind(e)}}]),e}(),p=c.getTranslationFunction();t._=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.connect=t.connectAdvanced=t.Provider=void 0;var i=n(545),o=r(i),a=n(195),s=r(a),u=n(546),l=r(u);t.Provider=o.default,t.connectAdvanced=s.default,t.connect=l.default},function(e,t,n){"use strict";function r(e,t,n,r,o,a,s,u){if(i(t),!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,o,a,s,u],p=0;l=new Error(t.replace(/%s/g,function(){return c[p++]})),l.name="Invariant Violation"}throw l.framesToPop=1,l}}var i=function(e){};e.exports=r},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=t.types={REQUEST_ALBUM:"REQUEST_ALBUM",REQUEST_ALBUM_FAILURE:"REQUEST_ALBUM_FAILURE",REQUEST_ALBUM_SUCCESS:"REQUEST_ALBUM_SUCCESS",REQUEST_ALBUM_TRACKS:"REQUEST_ALBUM_TRACKS",REQUEST_ALBUM_TRACKS_FAILURE:"REQUEST_ALBUM_TRACKS_FAILURE",REQUEST_ALBUM_TRACKS_SUCCESS:"REQUEST_ALBUM_TRACKS_SUCCESS",REQUEST_ARTIST:"REQUEST_ARTIST",REQUEST_ARTIST_ALBUMS:"REQUEST_ARTIST_ALBUMS",REQUEST_ARTIST_ALBUMS_FAILURE:"REQUEST_ARTIST_ALBUMS_FAILURE",REQUEST_ARTIST_ALBUMS_SUCCESS:"REQUEST_ARTIST_ALBUMS_SUCCESS",REQUEST_ARTIST_COMPLEMENTARY_DATA:"REQUEST_ARTIST_COMPLEMENTARY_DATA",REQUEST_ARTIST_FAILURE:"REQUEST_ARTIST_FAILURE",REQUEST_ARTIST_METADATA:"REQUEST_ARTIST_METADATA",REQUEST_ARTIST_METADATA_FAILURE:"REQUEST_ARTIST_METADATA_FAILURE",REQUEST_ARTIST_METADATA_SUCCESS:"REQUEST_ARTIST_METADATA_SUCCESS",REQUEST_ARTIST_RELATED_ARTISTS:"REQUEST_ARTIST_RELATED_ARTISTS",REQUEST_ARTIST_RELATED_ARTISTS_FAILURE:"REQUEST_ARTIST_RELATED_ARTISTS_FAILURE",REQUEST_ARTIST_RELATED_ARTISTS_SUCCESS:"REQUEST_ARTIST_RELATED_ARTISTS_SUCCESS",REQUEST_ARTIST_SUCCESS:"REQUEST_ARTIST_SUCCESS",REQUEST_ARTIST_TOP_TRACKS:"REQUEST_ARTIST_TOP_TRACKS",REQUEST_ARTIST_TOP_TRACKS_FAILURE:"REQUEST_ARTIST_TOP_TRACKS_FAILURE",REQUEST_ARTIST_TOP_TRACKS_SUCCESS:"REQUEST_ARTIST_TOP_TRACKS_SUCCESS",REQUEST_CURRENT_USER_PLAYLISTS:"REQUEST_CURRENT_USER_PLAYLISTS",REQUEST_CURRENT_USER_PLAYLISTS_FAILURE:"REQUEST_CURRENT_USER_PLAYLISTS_FAILURE",REQUEST_CURRENT_USER_PLAYLISTS_SUCCESS:"REQUEST_CURRENT_USER_PLAYLISTS_SUCCESS",REQUEST_CURRENT_USER_PLAYLISTS_MORE:"REQUEST_CURRENT_USER_PLAYLISTS_MORE",REQUEST_CURRENT_USER_PLAYLISTS_MORE_SUCCESS:"REQUEST_CURRENT_USER_PLAYLISTS_MORE_SUCCESS",REQUEST_PLAYLIST:"REQUEST_PLAYLIST",REQUEST_PLAYLIST_FAILURE:"REQUEST_PLAYLIST_FAILURE",REQUEST_PLAYLIST_SUCCESS:"REQUEST_PLAYLIST_SUCCESS",REQUEST_PLAYLIST_TRACKS:"REQUEST_PLAYLIST_TRACKS",REQUEST_PLAYLIST_TRACKS_FAILURE:"REQUEST_PLAYLIST_TRACKS_FAILURE",REQUEST_PLAYLIST_TRACKS_SUCCESS:"REQUEST_PLAYLIST_TRACKS_SUCCESS",REQUEST_PLAYLIST_PUBLISHED_STATE:"REQUEST_PLAYLIST_PUBLISHED_STATE",REQUEST_PLAYLIST_PUBLISHED_STATE_SUCCESS:"REQUEST_PLAYLIST_PUBLISHED_STATE_SUCCESS",REQUEST_PLAYLIST_PUBLISHED_STATE_FAILURE:"REQUEST_PLAYLIST_PUBLISHED_STATE_FAILURE",REQUEST_SEARCH:"REQUEST_SEARCH",REQUEST_SEARCH_SUCCESS:"REQUEST_SEARCH_SUCCESS",REQUEST_SEARCH_FAILURE:"REQUEST_SEARCH_FAILURE",REQUEST_SEARCH_TRACKS_MORE:"REQUEST_SEARCH_TRACKS_MORE",REQUEST_SEARCH_TRACKS_MORE_SUCCESS:"REQUEST_SEARCH_TRACKS_MORE_SUCCESS",REQUEST_SEARCH_ALBUMS_MORE:"REQUEST_SEARCH_ALBUMS_MORE",REQUEST_SEARCH_ALBUMS_MORE_SUCCESS:"REQUEST_SEARCH_ALBUMS_MORE_SUCCESS",REQUEST_SEARCH_ARTISTS_MORE:"REQUEST_SEARCH_ARTISTS_MORE",REQUEST_SEARCH_ARTISTS_MORE_SUCCESS:"REQUEST_SEARCH_ARTISTS_MORE_SUCCESS",REQUEST_SEARCH_PLAYLISTS_MORE:"REQUEST_SEARCH_PLAYLISTS_MORE",REQUEST_SEARCH_PLAYLISTS_MORE_SUCCESS:"REQUEST_SEARCH_PLAYLISTS_MORE_SUCCESS",REQUEST_TRACK:"REQUEST_TRACK",REQUEST_TRACK_SUCCESS:"REQUEST_TRACK_SUCCESS",REQUEST_TRACK_FAILURE:"REQUEST_TRACK_FAILURE",REQUEST_ME:"REQUEST_ME",REQUEST_ME_FAILURE:"REQUEST_ME_FAILURE",REQUEST_ME_SUCCESS:"REQUEST_ME_SUCCESS",REQUEST_PRODUCT_STATE_SUCCESS:"REQUEST_PRODUCT_STATE_SUCCESS",REQUEST_USER:"REQUEST_USER",REQUEST_USER_SUCCESS:"REQUEST_USER_SUCCESS",REQUEST_USER_FAILURE:"REQUEST_USER_FAILURE",REQUEST_USER_PLAYLISTS:"REQUEST_USER_PLAYLISTS",REQUEST_USER_PLAYLISTS_SUCCESS:"REQUEST_USER_PLAYLISTS_SUCCESS",REQUEST_USER_PLAYLISTS_FAILURE:"REQUEST_USER_PLAYLISTS_FAILURE",REQUEST_USER_PLAYLISTS_MORE:"REQUEST_USER_PLAYLISTS_MORE",REQUEST_USER_PLAYLISTS_MORE_SUCCESS:"REQUEST_USER_PLAYLISTS_MORE_SUCCESS",REQUEST_USER_PLAYLISTS_MORE_FAILURE:"REQUEST_USER_PLAYLISTS_MORE_FAILURE",REQUEST_COLLECTION_TRACKS:"REQUEST_COLLECTION_TRACKS",REQUEST_COLLECTION_TRACKS_FAILURE:"REQUEST_COLLECTION_TRACKS_FAILURE",REQUEST_COLLECTION_TRACKS_SUCCESS:"REQUEST_COLLECTION_TRACKS_SUCCESS",REQUEST_COLLECTION_TRACKS_MORE:"REQUEST_COLLECTION_TRACKS_MORE",REQUEST_COLLECTION_TRACKS_MORE_SUCCESS:"REQUEST_COLLECTION_TRACKS_MORE_SUCCESS",REQUEST_COLLECTION_ALBUMS:"REQUEST_COLLECTION_ALBUMS",REQUEST_COLLECTION_ALBUMS_FAILURE:"REQUEST_COLLECTION_ALBUMS_FAILURE",REQUEST_COLLECTION_ALBUMS_SUCCESS:"REQUEST_COLLECTION_ALBUMS_SUCCESS",REQUEST_COLLECTION_ALBUMS_MORE:"REQUEST_COLLECTION_ALBUMS_MORE",REQUEST_COLLECTION_ALBUMS_MORE_SUCCESS:"REQUEST_COLLECTION_ALBUMS_MORE_SUCCESS",REQUEST_COLLECTION_ARTISTS:"REQUEST_COLLECTION_ARTISTS",REQUEST_COLLECTION_ARTISTS_FAILURE:"REQUEST_COLLECTION_ARTISTS_FAILURE",REQUEST_COLLECTION_ARTISTS_SUCCESS:"REQUEST_COLLECTION_ARTISTS_SUCCESS",REQUEST_COLLECTION_ARTISTS_MORE:"REQUEST_COLLECTION_ARTISTS_MORE",REQUEST_COLLECTION_ARTISTS_MORE_SUCCESS:"REQUEST_COLLECTION_ARTISTS_MORE_SUCCESS",REQUEST_COLLECTION_CONTAINS_TRACK:"REQEUST_COLLECTION_CONTAINS_TRACK",REQUEST_COLLECTION_CONTAINS_TRACK_SUCCESS:"REQEUST_COLLECTION_CONTAINS_TRACK_SUCCESS",REQUEST_IS_FOLLOWING_PLAYLIST:"REQUEST_IS_FOLLOWING_PLAYLIST",REQUEST_IS_FOLLOWING_PLAYLIST_SUCCESS:"REQUEST_IS_FOLLOWING_PLAYLIST_SUCCESS",REQUEST_IS_FOLLOWING_PLAYLIST_FAILURE:"REQUEST_IS_FOLLOWING_PLAYLIST_FAILURE",REQUEST_IS_FOLLOWING_ARTIST:"REQUEST_IS_FOLLOWING_ARTIST",REQUEST_IS_FOLLOWING_ARTIST_SUCCESS:"REQUEST_IS_FOLLOWING_ARTIST_SUCCESS",REQUEST_IS_FOLLOWING_ARTIST_FAILURE:"REQUEST_IS_FOLLOWING_ARTIST_FAILURE",REQUEST_IS_ALBUM_SAVED:"REQUEST_IS_ALBUM_SAVED",REQUEST_IS_ALBUM_SAVED_SUCCESS:"REQUEST_IS_ALBUM_SAVED_SUCCESS",REQUEST_IS_ALBUM_SAVED_FAILURE:"REQUEST_IS_ALBUM_SAVED_FAILURE",REQUEST_CONNECT_DEVICES:"REQUEST_CONNECT_DEVICES",REQUEST_CONNECT_DEVICES_SUCCESS:"REQUEST_CONNECT_DEVICES_SUCCESS",REQUEST_CONNECT_DEVICES_FAILURE:"REQUEST_CONNECT_DEVICES_FAILURE",REQUEST_CLEAR_DATA:"REQUEST_CLEAR_DATA",REQUEST_VIEW:"REQUEST_VIEW",REQUEST_VIEW_SUCCESS:"REQUEST_VIEW_SUCCESS",REQUEST_VIEW_FAILURE:"REQUEST_VIEW_FAILURE",REQUEST_VIEW_MORE:"REQUEST_VIEW_MORE",REQUEST_VIEW_MORE_SUCCESS:"REQUEST_VIEW_MORE_SUCCESS",REQUEST_VIEW_MORE_FAILURE:"REQUEST_VIEW_MORE_FAILURE",REQUEST_RADIO:"REQUEST_RADIO",REQUEST_RADIO_SUCCESS:"REQUEST_RADIO_SUCCESS",REQUEST_RADIO_FAILURE:"REQUEST_RADIO_FAILURE",REQUEST_STATION_DETAILS:"REQUEST_STATION_DETAILS",REQUEST_STATION_DETAILS_SUCCESS:"REQUEST_STATION_DETAILS_SUCCESS",REQUEST_STATION_DETAILS_FAILURE:"REQUEST_STATION_DETAILS_FAILURE",REQUEST_SHOW:"REQUEST_SHOW",REQUEST_SHOW_SUCCESS:"REQUEST_SHOW_SUCCESS",REQUEST_SHOW_FAILURE:"REQUEST_SHOW_FAILURE",REQUEST_SHOW_MORE:"REQUEST_SHOW_MORE",REQUEST_SHOW_MORE_SUCCESS:"REQUEST_SHOW_MORE_SUCCESS",REQUEST_SHOW_MORE_FAILURE:"REQUEST_SHOW_MORE_FAILURE",REQUEST_EPISODE:"REQUEST_EPISODE",REQUEST_EPISODE_SUCCESS:"REQUEST_EPISODE_SUCCESS",REQUEST_EPISODE_FAILURE:"REQUEST_EPISODE_FAILURE"};t.requestEpisode=function(e){return{type:n.REQUEST_EPISODE,uri:e}},t.requestEpisodeSuccess=function(e,t){return{type:n.REQUEST_EPISODE_SUCCESS,uri:e,data:t}},t.requestEpisodeFailure=function(e,t){return{type:n.REQUEST_EPISODE_FAILURE,uri:e,err:t}},t.requestShow=function(e){return{type:n.REQUEST_SHOW,showId:e}},t.requestShowSuccess=function(e){return{type:n.REQUEST_SHOW_SUCCESS,data:e}},t.requestShowFailure=function(e){return{type:n.REQUEST_SHOW_FAILURE,err:e}},t.requestShowMore=function(e){return{type:n.REQUEST_SHOW_MORE,showId:e}},t.requestShowMoreSuccess=function(e,t){return{type:n.REQUEST_SHOW_MORE_SUCCESS,showId:e,data:t}},t.requestShowMoreFailure=function(e){return{type:n.REQUEST_SHOW_MORE_FAILURE,err:e}},t.requestStationDetails=function(e,t){return{type:n.REQUEST_STATION_DETAILS,clusterId:e,userId:t}},t.requestStationDetailsSuccess=function(e){return{type:n.REQUEST_STATION_DETAILS_SUCCESS,data:e}},t.requestStationDetailsFailure=function(e){return{type:n.REQUEST_STATION_DETAILS_FAILURE,err:e}},t.requestRadio=function(){return{type:n.REQUEST_RADIO}},t.requestRadioSuccess=function(e){return{type:n.REQUEST_RADIO_SUCCESS,data:e}},t.requestRadioFailure=function(e){return{type:n.REQUEST_RADIO_FAILURE,err:e}},t.requestSearch=function(e){return{type:n.REQUEST_SEARCH,query:e}},t.requestSearchSuccess=function(e,t){return{type:n.REQUEST_SEARCH_SUCCESS,query:e,data:t}},t.requestSearchFailure=function(e){return{type:n.REQUEST_SEARCH_FAILURE,err:e}},t.requestSearchTracksMore=function(e){return{type:n.REQUEST_SEARCH_TRACKS_MORE,query:e}},t.requestSearchTracksMoreSuccess=function(e,t){return{type:n.REQUEST_SEARCH_TRACKS_MORE_SUCCESS,query:e,data:t}},t.requestSearchAlbumsMore=function(e){return{type:n.REQUEST_SEARCH_ALBUMS_MORE,query:e}},t.requestSearchAlbumsMoreSuccess=function(e,t){return{type:n.REQUEST_SEARCH_ALBUMS_MORE_SUCCESS,query:e,data:t}},t.requestSearchArtistsMore=function(e){return{type:n.REQUEST_SEARCH_ARTISTS_MORE,query:e}},t.requestSearchArtistsMoreSuccess=function(e,t){return{type:n.REQUEST_SEARCH_ARTISTS_MORE_SUCCESS,query:e,data:t}},t.requestSearchPlaylistsMore=function(e){return{type:n.REQUEST_SEARCH_PLAYLISTS_MORE,query:e}},t.requestSearchPlaylistsMoreSuccess=function(e,t){return{type:n.REQUEST_SEARCH_PLAYLISTS_MORE_SUCCESS,query:e,data:t}},t.requestConnectDevices=function(){return{type:n.REQUEST_CONNECT_DEVICES}},t.requestConnectDevicesSuccess=function(e){return{type:n.REQUEST_CONNECT_DEVICES_SUCCESS,devices:e.devices}},t.requestConnectDevicesFailure=function(e){return{type:n.REQUEST_CONNECT_DEVICES_FAILURE,err:e}},t.requestArtist=function(e){return{type:n.REQUEST_ARTIST,uri:e}},t.requestArtistSuccess=function(e,t){return{type:n.REQUEST_ARTIST_SUCCESS,uri:e,data:t}},t.requestArtistFailure=function(e,t){return{type:n.REQUEST_ARTIST_FAILURE,uri:e,err:t}},t.requestArtistComplementaryData=function(e){return{type:n.REQUEST_ARTIST_COMPLEMENTARY_DATA,uri:e}},t.requestArtistTopTracks=function(e){return{type:n.REQUEST_ARTIST_TOP_TRACKS,uri:e}},t.requestArtistTopTracksSuccess=function(e,t){return{type:n.REQUEST_ARTIST_TOP_TRACKS_SUCCESS,uri:e,data:t}},t.requestArtistTopTracksFailure=function(e,t){return{type:n.REQUEST_ARTIST_TOP_TRACKS_FAILURE,uri:e,err:t}},t.requestArtistAlbums=function(e){return{type:n.REQUEST_ARTIST_ALBUMS,uri:e}},t.requestArtistAlbumsSuccess=function(e,t){return{type:n.REQUEST_ARTIST_ALBUMS_SUCCESS,uri:e,data:t}},t.requestArtistAlbumsFailure=function(e,t){return{type:n.REQUEST_ARTIST_ALBUMS_FAILURE,uri:e,err:t}},t.requestArtistRelatedArtists=function(e){return{type:n.REQUEST_ARTIST_RELATED_ARTISTS,uri:e}},t.requestArtistRelatedArtistsSuccess=function(e,t){return{type:n.REQUEST_ARTIST_RELATED_ARTISTS_SUCCESS,uri:e,data:t}},t.requestArtistRelatedArtistsFailure=function(e,t){return{type:n.REQUEST_ARTIST_RELATED_ARTISTS_FAILURE,uri:e,err:t}},t.requestArtistMetadata=function(e){return{type:n.REQUEST_ARTIST_METADATA,uri:e}},t.requestArtistMetadataSuccess=function(e,t){return{type:n.REQUEST_ARTIST_METADATA_SUCCESS,uri:e,data:t}},t.requestArtistMetadataFailure=function(e,t){return{type:n.REQUEST_ARTIST_METADATA_FAILURE,uri:e,err:t}},t.requestTrack=function(e){return{type:n.REQUEST_TRACK,uri:e}},t.requestTrackSuccess=function(e,t){return{type:n.REQUEST_TRACK_SUCCESS,uri:e,data:t}},t.requestTrackFailure=function(e,t){return{type:n.REQUEST_TRACK_SUCCESS,uri:e,err:t}},t.requestAlbum=function(e){return{type:n.REQUEST_ALBUM,uri:e}},t.requestAlbumSuccess=function(e,t){return{type:n.REQUEST_ALBUM_SUCCESS,uri:e,data:t}},t.requestAlbumFailure=function(e,t){return{type:n.REQUEST_ALBUM_FAILURE,uri:e,err:t}},t.requestAlbumTracks=function(e){return{type:n.REQUEST_ALBUM_TRACKS,uri:e}},t.requestAlbumTracksSuccess=function(e,t){return{type:n.REQUEST_ALBUM_TRACKS_SUCCESS,uri:e,data:t}},t.requestAlbumTracksFailure=function(e,t){return{type:n.REQUEST_ALBUM_TRACKS_FAILURE,uri:e,err:t}},t.requestPlaylist=function(e){return{type:n.REQUEST_PLAYLIST,uri:e}},t.requestPlaylistSuccess=function(e,t){return{type:n.REQUEST_PLAYLIST_SUCCESS,uri:e,data:t}},t.requestPlaylistFailure=function(e,t){return{type:n.REQUEST_PLAYLIST_FAILURE,uri:e,err:t}},t.requestPlaylistTracks=function(e){return{type:n.REQUEST_PLAYLIST_TRACKS,uri:e}},t.requestPlaylistTracksSuccess=function(e,t){return{type:n.REQUEST_PLAYLIST_TRACKS_SUCCESS,uri:e,data:t}},t.requestPlaylistTracksFailure=function(e,t){return{type:n.REQUEST_PLAYLIST_TRACKS_FAILURE,uri:e,err:t}},t.requestPlaylistPublishedState=function(e){return{type:n.REQUEST_PLAYLIST_PUBLISHED_STATE,uri:e}},t.requestPlaylistPublishedStateSuccess=function(e,t){return{type:n.REQUEST_PLAYLIST_PUBLISHED_STATE_SUCCESS,uri:e,isPublic:t}},t.requestPlaylistPublishedStateFailure=function(e,t){return{type:n.REQUEST_PLAYLIST_PUBLISHED_STATE_FAILURE,uri:e,err:t}},t.requestCurrentUserPlaylists=function(){return{type:n.REQUEST_CURRENT_USER_PLAYLISTS}},t.requestCurrentUserPlaylistsSuccess=function(e){return{type:n.REQUEST_CURRENT_USER_PLAYLISTS_SUCCESS,data:e}},t.requestCurrentUserPlaylistsFailure=function(e){return{type:n.REQUEST_CURRENT_USER_PLAYLISTS_FAILURE,err:e}},t.requestCurrentUserPlaylistsMore=function(){return{type:n.REQUEST_CURRENT_USER_PLAYLISTS_MORE}},t.requestCurrentUserPlaylistsMoreSuccess=function(e){return{type:n.REQUEST_CURRENT_USER_PLAYLISTS_MORE_SUCCESS,data:e}},t.requestMeSuccess=function(e){return{type:n.REQUEST_ME_SUCCESS,data:e}},t.requestMeFailure=function(e){return{type:n.REQUEST_ME_FAILURE,err:e}},t.requestProductStateSuccess=function(e){return{type:n.REQUEST_PRODUCT_STATE_SUCCESS,data:e}},t.requestCollectionTracks=function(){return{type:n.REQUEST_COLLECTION_TRACKS}},t.requestCollectionTracksSuccess=function(e){return{type:n.REQUEST_COLLECTION_TRACKS_SUCCESS,data:e}},t.requestCollectionTracksFailure=function(e){return{type:n.REQUEST_COLLECTION_TRACKS_FAILURE,err:e}},t.requestCollectionTracksMore=function(){return{type:n.REQUEST_COLLECTION_TRACKS_MORE}},t.requestCollectionTracksMoreSuccess=function(e){return{type:n.REQUEST_COLLECTION_TRACKS_MORE_SUCCESS,data:e}},t.requestCollectionAlbums=function(){return{type:n.REQUEST_COLLECTION_ALBUMS}},t.requestCollectionAlbumsSuccess=function(e){return{type:n.REQUEST_COLLECTION_ALBUMS_SUCCESS,data:e}},t.requestCollectionAlbumsFailure=function(e){return{type:n.REQUEST_COLLECTION_ALBUMS_FAILURE,err:e}},t.requestCollectionAlbumsMore=function(){return{type:n.REQUEST_COLLECTION_ALBUMS_MORE}},t.requestCollectionAlbumsMoreSuccess=function(e){return{type:n.REQUEST_COLLECTION_ALBUMS_MORE_SUCCESS,data:e}},t.requestCollectionArtists=function(){return{type:n.REQUEST_COLLECTION_ARTISTS}},t.requestCollectionArtistsSuccess=function(e){return{type:n.REQUEST_COLLECTION_ARTISTS_SUCCESS,data:e}},t.requestCollectionArtistsFailure=function(e){return{type:n.REQUEST_COLLECTION_ARTISTS_FAILURE,err:e}},t.requestCollectionArtistsMore=function(){return{type:n.REQUEST_COLLECTION_ARTISTS_MORE}},t.requestCollectionArtistsMoreSuccess=function(e){return{type:n.REQUEST_COLLECTION_ARTISTS_MORE_SUCCESS,data:e}},t.requestCollectionContainsTrack=function(e){return{type:n.REQUEST_COLLECTION_CONTAINS_TRACK,uri:e}},t.requestCollectionContainsTrackSuccess=function(e,t){return{type:n.REQUEST_COLLECTION_CONTAINS_TRACK_SUCCESS,uri:e,containsTrack:t}},t.requestUser=function(e){return{type:n.REQUEST_USER,uri:e}},t.requestUserSuccess=function(e,t){return{type:n.REQUEST_USER_SUCCESS,uri:e,data:t}},t.requestUserFailure=function(e,t){return{type:n.REQUEST_USER_FAILURE,uri:e,err:t}},t.requestUserPlaylists=function(e){return{type:n.REQUEST_USER_PLAYLISTS,uri:e}},t.requestUserPlaylistsSuccess=function(e,t){return{type:n.REQUEST_USER_PLAYLISTS_SUCCESS,uri:e,data:t}},t.requestUserPlaylistsFailure=function(e,t){return{type:n.REQUEST_USER_PLAYLISTS_FAILURE,uri:e,err:t}},t.requestUserPlaylistsMore=function(e){return{type:n.REQUEST_USER_PLAYLISTS_MORE,uri:e}},t.requestUserPlaylistsMoreSuccess=function(e,t){return{type:n.REQUEST_USER_PLAYLISTS_MORE_SUCCESS,uri:e,data:t}},t.requestUserPlaylistsMoreFailure=function(e,t){return{type:n.REQUEST_USER_PLAYLISTS_MORE_FAILURE,uri:e,err:t}},t.requestIsFollowingPlaylist=function(e){return{type:n.REQUEST_IS_FOLLOWING_PLAYLIST,uri:e}},t.requestIsFollowingPlaylistSuccess=function(e,t){return{type:n.REQUEST_IS_FOLLOWING_PLAYLIST_SUCCESS,uri:e,data:t}},t.requestIsFollowingPlaylistFailure=function(e,t){return{type:n.REQUEST_IS_FOLLOWING_PLAYLIST_FAILURE,uri:e,err:t}},t.requestIsFollowingArtist=function(e){return{type:n.REQUEST_IS_FOLLOWING_ARTIST,uri:e}},t.requestIsFollowingArtistSuccess=function(e,t){return{type:n.REQUEST_IS_FOLLOWING_ARTIST_SUCCESS,uri:e,data:t}},t.requestIsFollowingArtistFailure=function(e,t){return{type:n.REQUEST_IS_FOLLOWING_ARTIST_FAILURE,uri:e,err:t}},t.requestIsAlbumSaved=function(e){return{type:n.REQUEST_IS_ALBUM_SAVED,uri:e}},t.requestIsAlbumSavedSuccess=function(e,t){return{type:n.REQUEST_IS_ALBUM_SAVED_SUCCESS,uri:e,data:t}},t.requestIsAlbumSavedFailure=function(e,t){return{type:n.REQUEST_IS_ALBUM_SAVED_FAILURE,uri:e,err:t}},t.clearData=function(){return{type:n.REQUEST_CLEAR_DATA}},t.requestView=function(e,t){return{type:n.REQUEST_VIEW,id:e,country:t}},t.requestViewSuccess=function(e,t){return{type:n.REQUEST_VIEW_SUCCESS,id:e,data:t}},t.requestViewFailure=function(e,t){return{type:n.REQUEST_VIEW_FAILURE,id:e,err:t}},t.requestViewMore=function(e,t){return{type:n.REQUEST_VIEW_MORE,id:e,country:t}},t.requestViewMoreSuccess=function(e,t){return{type:n.REQUEST_VIEW_MORE_SUCCESS,id:e,data:t}},t.requestViewMoreFailure=function(e,t){return{type:n.REQUEST_VIEW_MORE_FAILURE,id:e,err:t}}},function(e,t,n){"use strict";var r=n(31),i=r;e.exports=i},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=t.types={NEXT:"NEXT",START_RADIO:"START_RADIO",PLAY_ALBUM:"PLAY_ALBUM",PLAY_ARTIST:"PLAY_ARTIST",PLAY_PLAYLIST:"PLAY_PLAYLIST",PLAY_CONTEXT:"PLAY_CONTEXT",PLAY_SHOW:"PLAY_SHOW",PLAY_TRACK:"PLAY_TRACK",PLAY_TRACKS:"PLAY_TRACKS",PREVIOUS:"PREVIOUS",SET_REPEAT:"SET_REPEAT",SET_SHUFFLE:"SET_SHUFFLE",STATUS_UPDATE:"STATUS_UPDATE",TOGGLE_PLAY:"TOGGLE_PLAY",TRACK_PROGRESS:"TRACK_PROGRESS",DEVICE_INFO_CHANGED:"DEVICE_INFO_CHANGED",CONNECT_DEVICES_LOADED:"CONNECT_DEVICES_LOADED",SEEK:"SEEK",SET_VOLUME:"SET_VOLUME",SET_ACTIVE_DEVICE:"SET_ACTIVE_DEVICE",PLAYBACK_ERROR:"PLAYBACK_ERROR",TRACK_UNAVAILBLE_ERROR:"TRACK_UNAVAILBLE_ERROR",HARMONY_ERROR:"HARMONY_ERROR",PLAYBACK_CAPPED_ERROR:"PLAYBACK_CAPPED_ERROR",CDM_ERROR:"CDM_ERROR"};t.playbackCappedError=function(){return{type:n.PLAYBACK_CAPPED_ERROR}},t.playShow=function(e){return{type:n.PLAY_SHOW,uri:e}},t.playTrack=function(e,t){return{type:n.PLAY_TRACK,index:e,contextURI:t}},t.playTracks=function(e,t,r){return{type:n.PLAY_TRACKS,index:e,tracks:t,contextURI:r}},t.startRadio=function(e){return{type:n.START_RADIO,uri:e}},t.playContext=function(e){return{type:n.PLAY_CONTEXT,uri:e}},t.playPlaylist=function(e){return{type:n.PLAY_PLAYLIST,uri:e}},t.playArtist=function(e){return{type:n.PLAY_ARTIST,uri:e}},t.playAlbum=function(e){return{type:n.PLAY_ALBUM,uri:e}},t.togglePlay=function(){return{type:n.TOGGLE_PLAY}},t.previous=function(){return{type:n.PREVIOUS}},t.next=function(){return{type:n.NEXT}},t.seek=function(e){return{type:n.SEEK,position:e}},t.setVolume=function(e){return{type:n.SET_VOLUME,volume:e}},t.setShuffle=function(e){return{type:n.SET_SHUFFLE,shuffle:e}},t.setRepeat=function(e){return{type:n.SET_REPEAT,repeat:e}},t.trackProgress=function(e){return{type:n.TRACK_PROGRESS,position:e}},t.statusUpdate=function(e){return{type:n.STATUS_UPDATE,playerState:e}},t.deviceInfoChanged=function(e){return{type:n.DEVICE_INFO_CHANGED,deviceInfo:e}},t.connectDevicesLoaded=function(e){return{type:n.CONNECT_DEVICES_LOADED,devices:e}},t.setActiveDevice=function(e){return{type:n.SET_ACTIVE_DEVICE,id:e}},t.playbackError=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"unknown",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"unknown",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return{type:n.PLAYBACK_ERROR,name:e,source:t,message:r}},t.trackUnavailableError=function(e){return{type:n.TRACK_UNAVAILBLE_ERROR,uri:e}},t.harmonyError=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"unknown",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"unknown",r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return{type:n.HARMONY_ERROR,name:e,source:t,message:r}},t.cdmError=function(){return{type:n.CDM_ERROR}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=t.types={RESET_BACKGROUND_COLOR:"RESET_BACKGROUND_COLOR",SET_BACKGROUND_COLOR:"SET_BACKGROUND_COLOR",SET_CONTEXTUAL_BG:"SET_CONTEXTUAL_BG",COPY_LINK_SUCCESS:"COPY_LINK_SUCCESS",OPEN_NEW_PLAYLIST_DIALOG:"OPEN_NEW_PLAYLIST_DIALOG",CLOSE_NEW_PLAYLIST_DIALOG:"CLOSE_NEW_PLAYLIST_DIALOG",OPEN_ADD_TO_PLAYLIST_DIALOG:"OPEN_ADD_TO_PLAYLIST_DIALOG",CLOSE_ADD_TO_PLAYLIST_DIALOG:"CLOSE_ADD_TO_PLAYLIST_DIALOG",SWITCH_TO_NEW_PLAYLIST_DIALOG:"SWITCH_TO_NEW_PLAYLIST_DIALOG",OPEN_DELETE_PLAYLIST_DIALOG:"OPEN_DELETE_PLAYLIST_DIALOG",CLOSE_DELETE_PLAYLIST_DIALOG:"CLOSE_DELETE_PLAYLIST_DIALOG",SET_BACKGROUND_IMAGE:"SET_BACKGROUND_IMAGE",HIDE_BACKGROUND_IMAGE:"HIDE_BACKGROUND_IMAGE",RESET_BACKGROUND:"RESET_BACKGROUND",SHOW_LEADERBOARD_AD:"SHOW_LEADERBOARD_AD",HIDE_LEADERBOARD_AD:"HIDE_LEADERBOARD_AD"};t.setBackgroundImage=function(e){return{type:n.SET_BACKGROUND_IMAGE,image:e}},t.hideBackgroundImage=function(){return{type:n.HIDE_BACKGROUND_IMAGE}},t.setContextualBackground=function(e){return{type:n.SET_CONTEXTUAL_BG,image:e}},t.setBackgroundColor=function(e,t){return{type:n.SET_BACKGROUND_COLOR,color:e,image:t}},t.resetBackgroundColor=function(){return{type:n.RESET_BACKGROUND_COLOR}},t.resetBackground=function(){return{type:n.RESET_BACKGROUND}},t.copyLinkSuccess=function(e){return{type:n.COPY_LINK_SUCCESS,link:e}},t.openNewPlaylistDialog=function(){return{type:n.OPEN_NEW_PLAYLIST_DIALOG}},t.closeNewPlaylistDialog=function(){return{type:n.CLOSE_NEW_PLAYLIST_DIALOG}},t.switchToNewPlaylistDialog=function(){return{type:n.SWITCH_TO_NEW_PLAYLIST_DIALOG}},t.openAddToPlaylistDialog=function(e){return{type:n.OPEN_ADD_TO_PLAYLIST_DIALOG,uri:e}},t.closeAddToPlaylistDialog=function(){return{type:n.CLOSE_ADD_TO_PLAYLIST_DIALOG}},t.openDeletePlaylistDialog=function(e){return{type:n.OPEN_DELETE_PLAYLIST_DIALOG,uri:e}},t.closeDeletePlaylistDialog=function(){return{type:n.CLOSE_DELETE_PLAYLIST_DIALOG}},t.showLeaderboardAd=function(){return{type:n.SHOW_LEADERBOARD_AD}},t.hideLeaderboardAd=function(){return{type:n.HIDE_LEADERBOARD_AD}}},function(e,t,n){function r(e){return null===e||void 0===e}function i(e){return!(!e||"object"!=typeof e||"number"!=typeof e.length)&&("function"==typeof e.copy&&"function"==typeof e.slice&&!(e.length>0&&"number"!=typeof e[0]))}function o(e,t,n){var o,c;if(r(e)||r(t))return!1;if(e.prototype!==t.prototype)return!1;if(u(e))return!!u(t)&&(e=a.call(e),t=a.call(t),l(e,t,n));if(i(e)){if(!i(t))return!1;if(e.length!==t.length)return!1;for(o=0;o<e.length;o++)if(e[o]!==t[o])return!1;return!0}try{var p=s(e),f=s(t)}catch(e){return!1}if(p.length!=f.length)return!1;for(p.sort(),f.sort(),o=p.length-1;o>=0;o--)if(p[o]!=f[o])return!1;for(o=p.length-1;o>=0;o--)if(c=p[o],!l(e[c],t[c],n))return!1;return typeof e==typeof t}var a=Array.prototype.slice,s=n(377),u=n(376),l=e.exports=function(e,t,n){return n||(n={}),e===t||(e instanceof Date&&t instanceof Date?e.getTime()===t.getTime():!e||!t||"object"!=typeof e&&"object"!=typeof t?n.strict?e===t:e==t:o(e,t,n))}},function(e,t){"use strict";function n(e){for(var t=arguments.length-1,n="Minified React error #"+e+"; visit http://facebook.github.io/react/docs/error-decoder.html?invariant="+e,r=0;r<t;r++)n+="&args[]="+encodeURIComponent(arguments[r+1]);n+=" for the full message or use the non-minified dev environment for full errors and additional helpful warnings.";var i=new Error(n);throw i.name="Invariant Violation",i.framesToPop=1,i}e.exports=n},function(e,t){"use strict";function n(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}function r(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;var r=Object.getOwnPropertyNames(t).map(function(e){return t[e]});if("0123456789"!==r.join(""))return!1;var i={};return"abcdefghijklmnopqrst".split("").forEach(function(e){i[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},i)).join("")}catch(e){return!1}}var i=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;e.exports=r()?Object.assign:function(e,t){for(var r,s,u=n(e),l=1;l<arguments.length;l++){r=Object(arguments[l]);for(var c in r)o.call(r,c)&&(u[c]=r[c]);if(i){s=i(r);for(var p=0;p<s.length;p++)a.call(r,s[p])&&(u[s[p]]=r[s[p]])}}return u}},function(e,t,n){(function(t){"use strict";var r,i=t.Promise||n(635).Promise,o=Array.prototype.slice;r=Object.defineProperty?function(e,t,n){return e[t]?e:(Object.defineProperty(e,t,{value:n,configurable:!0,writable:!0}),e)}:function(e,t,n){return e[t]?e:(e[t]=n,e)},r(i,"toCallback",function(e,t){if(!t||"function"!=typeof t)throw new TypeError("Callback function unspecified.");return e.then(function(e){return t(null,e)},function(e){return t(e)})}),r(i,"defer",function(){var e={};return e.promise=new i(function(t,n){e.resolve=t,e.reject=n}),e}),r(i.prototype,"pipe",function(e){if("function"!=typeof e.resolve||"function"!=typeof e.reject)throw new TypeError("Argument not a deferred object.");this.then(e.resolve,e.reject)}),r(i.prototype,"spread",function(e,t){return this.then(function(e){return i.all(e)}).then(function(t){return 1===t.length?e(t[0]):e.apply(this,t)},t)}),r(i.prototype,"get",function(e){return this.then(function(t){if(e in t)return t[e];throw new TypeError('No property "'+e+'" in object.')})}),r(i.prototype,"access",function(e){for(var t=Array.isArray(e)?e:o.call(arguments),n=this,r=n,i=0,a=t.length;i<a;i++)r=r.get(t[i]);return r}),r(i.prototype,"call",function(e){var t=o.call(arguments,1);return this.then(function(n){var r=n[e].apply(n,t);return r})}),e.exports=i}).call(t,function(){return this}())},function(e,t,n){"use strict";function r(e,t){this.type=e;for(var n in t)"function"!=typeof t[n]&&(this[n]=t[n])}var i=n(136),o="spotify:",a="http://play.spotify.com/",s="https://play.spotify.com/",u="http://open.spotify.com/",l="https://open.spotify.com/",c=new TypeError("Invalid Spotify URI!"),p=(new TypeError("Not implemented!"),{URI:0,URL:1}),f=function(e){var t,n,r,i,f=e.split("?");if(f.length>1){e=f.shift(),r=f.pop();var d=r.split("#");d.length>1&&(r=d.shift(),i=d.pop()),r=m(r)}var h=e.split("#");if(h.length>1&&(e=h.shift(),i=h.pop()),0===e.indexOf(o))t=e.slice(o.length).split(":"),n=p.URI;else{if(e=e.split("?")[0],0===e.indexOf(a))t=e.slice(a.length).split("/");else if(0===e.indexOf(s))t=e.slice(s.length).split("/");else if(0===e.indexOf(u))t=e.slice(u.length).split("/");else{if(0!==e.indexOf(l))throw c;t=e.slice(l.length).split("/")}n=p.URL}return i&&t.push(i),{format:n,components:t,query:r}},d=function(e,t){return e=encodeURIComponent(e),t===p.URI&&(e=e.replace(/%20/g,"+")),e=e.replace(/[!'()]/g,escape),e=e.replace(/\*/g,"%2A")},h=function(e,t){var n=t==p.URI?e.replace(/\+/g,"%20"):e;return decodeURIComponent(n)},y=function(e,t){var n;e.id&&(n=e._base62Id);var i,o,a;switch(e.type){case r.Type.ALBUM:return i=[r.Type.ALBUM,n],e.disc&&i.push(e.disc),i;case r.Type.AD:return[r.Type.AD,e._base62Id];case r.Type.ARTIST:return[r.Type.ARTIST,n];case r.Type.ARTIST_TOPLIST:return[r.Type.ARTIST,n,r.Type.TOP,e.toplist];case r.Type.SEARCH:return[r.Type.SEARCH,d(e.query,t)];case r.Type.TRACK:return(e.context||e.play)&&(n+=_({context:e.context,play:e.play})),e.anchor&&(n+="#"+e.anchor),[r.Type.TRACK,n];case r.Type.TRACKSET:var s=[];for(o=0,a=e.tracks.length;o<a;o++)s.push(e.tracks[o]._base62Id);return s=[s.join(",")],null!==e.index&&s.push("#",e.index),[r.Type.TRACKSET,d(e.name)].concat(s);case r.Type.FACEBOOK:return[r.Type.USER,r.Type.FACEBOOK,e.uid];case r.Type.AUDIO_FILE:return[r.Type.AUDIO_FILE,e.extension,e._base62Id];case r.Type.FOLDER:return[r.Type.USER,d(e.username,t),r.Type.FOLDER,e._base62Id];case r.Type.FOLLOWERS:return[r.Type.USER,d(e.username,t),r.Type.FOLLOWERS];case r.Type.FOLLOWING:return[r.Type.USER,d(e.username,t),r.Type.FOLLOWING];case r.Type.PLAYLIST:return[r.Type.USER,d(e.username,t),r.Type.PLAYLIST,n];case r.Type.STARRED:return[r.Type.USER,d(e.username,t),r.Type.STARRED];case r.Type.TEMP_PLAYLIST:return[r.Type.TEMP_PLAYLIST,e.origin,e.data];case r.Type.CONTEXT_GROUP:return[r.Type.CONTEXT_GROUP,e.origin,e.name];case r.Type.USER_TOPLIST:return[r.Type.USER,d(e.username,t),r.Type.TOP,e.toplist];case r.Type.USER_TOP_TRACKS:return[r.Type.USER,d(e.username,t),r.Type.TOPLIST];case r.Type.TOPLIST:return[r.Type.TOP,e.toplist].concat(e.global?[r.Type.GLOBAL]:["country",e.country]);case r.Type.INBOX:return[r.Type.USER,d(e.username,t),r.Type.INBOX];case r.Type.ROOTLIST:return[r.Type.USER,d(e.username,t),r.Type.ROOTLIST];
case r.Type.PUBLISHED_ROOTLIST:return[r.Type.USER,d(e.username,t),r.Type.PUBLISHED_ROOTLIST];case r.Type.COLLECTION_TRACK_LIST:return[r.Type.USER,d(e.username,t),r.Type.COLLECTION_TRACK_LIST,n];case r.Type.PROFILE:return e.args&&e.args.length>0?[r.Type.USER,d(e.username,t)].concat(e.args):[r.Type.USER,d(e.username,t)];case r.Type.LOCAL_ARTIST:return[r.Type.LOCAL,d(e.artist,t)];case r.Type.LOCAL_ALBUM:return[r.Type.LOCAL,d(e.artist,t),d(e.album,t)];case r.Type.LOCAL:return[r.Type.LOCAL,d(e.artist,t),d(e.album,t),d(e.track,t),e.duration];case r.Type.LIBRARY:return[r.Type.USER,d(e.username,t),r.Type.LIBRARY].concat(e.category?[e.category]:[]);case r.Type.IMAGE:return[r.Type.IMAGE,e._base62Id];case r.Type.MOSAIC:return i=e.ids.slice(0),i.unshift(r.Type.MOSAIC),i;case r.Type.RADIO:return[r.Type.RADIO,e.args];case r.Type.SPECIAL:i=[r.Type.SPECIAL];var u=e.args||[];for(o=0,a=u.length;o<a;++o)i.push(d(u[o],t));return i;case r.Type.STATION:i=[r.Type.STATION];var u=e.args||[];for(o=0,a=u.length;o<a;o++)i.push(d(u[o],t));return i;case r.Type.APPLICATION:i=[r.Type.APP,e._base62Id];var u=e.args||[];for(o=0,a=u.length;o<a;++o)i.push(d(u[o],t));return i;case r.Type.COLLECTION_ALBUM:return[r.Type.USER,d(e.username,t),r.Type.COLLECTION,r.Type.ALBUM,n];case r.Type.COLLECTION_MISSING_ALBUM:return[r.Type.USER,d(e.username,t),r.Type.COLLECTION,r.Type.ALBUM,n,"missing"];case r.Type.COLLECTION_ARTIST:return[r.Type.USER,d(e.username,t),r.Type.COLLECTION,r.Type.ARTIST,n];case r.Type.COLLECTION:return[r.Type.USER,d(e.username,t),r.Type.COLLECTION].concat(e.category?[e.category]:[]);case r.Type.EPISODE:return(e.context||e.play)&&(n+=_({context:e.context,play:e.play})),[r.Type.EPISODE,n];case r.Type.SHOW:return[r.Type.SHOW,n];default:throw c}},_=function(e){var t="?";for(var n in e)e.hasOwnProperty(n)&&void 0!==e[n]&&(t.length>1&&(t+="&"),t+=n+"="+encodeURIComponent(e[n]));return t},m=function(e){return e.split("&").reduce(function(e,t){return t=t.split("="),e[t[0]]=decodeURIComponent(t[1]),e},{})},v=function(e,t,n){var i=0;n=n||{};var o,a,s,u=function(){return e[i++]},l=function(){var e=u();if(e.length>22)throw new Error("Invalid ID");return e},f=function(){return e.slice(i)},y=function(){var n=t==p.URI?":":"/";return e.slice(i).join(n)},_=u();switch(_){case r.Type.ALBUM:return r.albumURI(l(),parseInt(u(),10));case r.Type.AD:return r.adURI(u());case r.Type.ARTIST:return o=l(),u()==r.Type.TOP?r.artistToplistURI(o,u()):r.artistURI(o);case r.Type.AUDIO_FILE:return r.audioFileURI(u(),u());case r.Type.TEMP_PLAYLIST:return r.temporaryPlaylistURI(u(),y());case r.Type.SEARCH:return r.searchURI(h(y(),t));case r.Type.TRACK:return r.trackURI(l(),u(),n.context,n.play);case r.Type.TRACKSET:var m=h(u()),v=u(),g=u(),b=parseInt(u(),10);("%23"!==g||isNaN(b))&&(b=null);var E=[];if(v)for(v=h(v).split(","),a=0,s=v.length;a<s;a++){var S=v[a];E.push(r.trackURI(S))}return r.tracksetURI(E,m,b);case r.Type.CONTEXT_GROUP:return r.contextGroupURI(u(),u());case r.Type.TOP:var T=u();return u()==r.Type.GLOBAL?r.toplistURI(T,null,!0):r.toplistURI(T,u(),!1);case r.Type.USER:var w=h(u(),t),C=u();if(w==r.Type.FACEBOOK&&null!=C)return r.facebookURI(parseInt(C,10));if(null!=C)switch(C){case r.Type.PLAYLIST:return r.playlistURI(w,l());case r.Type.FOLDER:return r.folderURI(w,l());case r.Type.COLLECTION_TRACK_LIST:return r.collectionTrackList(w,l());case r.Type.COLLECTION:var O=u();switch(O){case r.Type.ALBUM:return o=l(),"missing"===u()?r.collectionMissingAlbumURI(w,o):r.collectionAlbumURI(w,o);case r.Type.ARTIST:return r.collectionArtistURI(w,l());default:return r.collectionURI(w,O)}case r.Type.STARRED:return r.starredURI(w);case r.Type.FOLLOWERS:return r.followersURI(w);case r.Type.FOLLOWING:return r.followingURI(w);case r.Type.TOP:return r.userToplistURI(w,u());case r.Type.INBOX:return r.inboxURI(w);case r.Type.ROOTLIST:return r.rootlistURI(w);case r.Type.PUBLISHED_ROOTLIST:return r.publishedRootlistURI(w);case r.Type.TOPLIST:return r.userTopTracksURI(w);case r.Type.LIBRARY:return r.libraryURI(w,u())}var k=f();return null!=C&&k.length>0?r.profileURI(w,[C].concat(k)):null!=C?r.profileURI(w,[C]):r.profileURI(w);case r.Type.LOCAL:var R=u(),P=R&&h(R,t),I=u(),A=I&&h(I,t),L=u(),U=L&&h(L,t),M=u(),x=parseInt(M,10);return void 0!==L?r.localURI(P,A,U,x):void 0!==I?r.localAlbumURI(P,A):r.localArtistURI(P);case r.Type.IMAGE:return r.imageURI(l());case r.Type.MOSAIC:return r.mosaicURI(e.slice(i));case r.Type.RADIO:return r.radioURI(y());case r.Type.SPECIAL:var D=f();for(a=0,s=D.length;a<s;++a)D[a]=h(D[a],t);return r.specialURI(D);case r.Type.STATION:return r.stationURI(f());case r.Type.EPISODE:return r.episodeURI(l(),n.context,n.play);case r.Type.SHOW:return r.showURI(l());case"":break;default:o=_===r.Type.APP?u():_;var N=h(o,t);if(d(N,t)!==o)break;var D=f();for(a=0,s=D.length;a<s;++a)D[a]=h(D[a],t);return r.applicationURI(N,D)}throw c};Object.defineProperty(r.prototype,"id",{get:function(){return this._hexId||(this._hexId=this._base62Id?r.idToHex(this._base62Id):void 0),this._hexId},set:function(e){this._base62Id=e?r.hexToId(e):void 0,this._hexId=void 0},enumerable:!0,configurable:!0}),r.prototype.toAppType=function(){if(this.type==r.Type.APPLICATION)return r.applicationURI(this.id,this.args);var e=y(this,p.URL),t=e.shift(),n=e.length;if(n)for(;n--;)e[n]=h(e[n],p.URL);this.type==r.Type.RADIO&&(e=e.shift().split(":"));var i=r.applicationURI(t,e);return i},r.prototype.toRealType=function(){return this.type==r.Type.APPLICATION?v([this.id].concat(this.args),p.URI):new r(null,this)},r.prototype.toURI=function(){return o+y(this,p.URI).join(":")},r.prototype.toString=function(){return this.toURI()},r.prototype.toURLPath=function(e){var t=y(this,p.URL);t[0]===r.Type.APP&&t.shift();var n=t[0]===r.Type.TRACKSET,i=t[0]===r.Type.LOCAL,o=!n&&!i;if(o){for(var a=[],s=0,u=t.length;s<u;s++){var l=t[s];l&&a.push(l)}t=a}var c=t.join("/");return e?"/"+c:c},r.prototype.toPlayURL=function(){return s+this.toURLPath()},r.prototype.toURL=function(){return this.toPlayURL()},r.prototype.toOpenURL=function(){return l+this.toURLPath()},r.prototype.toSecurePlayURL=function(){return this.toPlayURL()},r.prototype.toSecureURL=function(){return this.toPlayURL()},r.prototype.toSecureOpenURL=function(){return this.toOpenURL()},r.prototype.idToByteString=function(){var e=i.toBytes(this._base62Id);for(e=e.map(function(e){return String.fromCharCode(e)}).join("");e.length<16;)e=String.fromCharCode(0)+e;return e},r.prototype.getPath=function(){var e=this.toString().replace(/[#?].*/,"");return e},r.prototype.getBase62Id=function(){return this._base62Id},r.Type={EMPTY:"empty",ALBUM:"album",AD:"ad",APP:"app",APPLICATION:"application",ARTIST:"artist",ARTIST_TOPLIST:"artist-toplist",AUDIO_FILE:"audiofile",COLLECTION:"collection",COLLECTION_ALBUM:"collection-album",COLLECTION_MISSING_ALBUM:"collection-missing-album",COLLECTION_ARTIST:"collection-artist",CONTEXT_GROUP:"context-group",EPISODE:"episode",FACEBOOK:"facebook",FOLDER:"folder",FOLLOWERS:"followers",FOLLOWING:"following",GLOBAL:"global",IMAGE:"image",INBOX:"inbox",LOCAL_ARTIST:"local-artist",LOCAL_ALBUM:"local-album",LOCAL:"local",LIBRARY:"library",MOSAIC:"mosaic",PLAYLIST:"playlist",PROFILE:"profile",PUBLISHED_ROOTLIST:"published-rootlist",RADIO:"radio",ROOTLIST:"rootlist",COLLECTION_TRACK_LIST:"collectiontracklist",SEARCH:"search",SHOW:"show",SPECIAL:"special",STARRED:"starred",STATION:"station",TEMP_PLAYLIST:"temp-playlist",TOP:"top",TOPLIST:"toplist",TRACK:"track",TRACKSET:"trackset",USER:"user",USER_TOPLIST:"user-toplist",USER_TOP_TRACKS:"user-top-tracks",USET_TOP_TRACKS:"user-top-tracks"},r.fromString=function(e){var t=f(e);return v(t.components,t.format,t.query)},r.from=function(e){try{return e instanceof r?e:"object"==typeof e&&e.type?new r(null,e):r.fromString(e.toString())}catch(e){return null}},r.fromByteString=function(e,t,n){for(var o=[],a=0;a<t.length;a++)o.push(t.charCodeAt(a));var s=i.fromBytes(o,22),u=n||{};return u.id=s,new r(e,u)},r.clone=function(e){return e instanceof r?new r(null,e):null},r.getCanonical=function(e){return this.getCanonical(e)},r.getCanonicalUsername=function(e){return d(e,p.URI)},r.getDisplayUsername=function(e){return h(e,p.URI)},r.idToHex=function(e){return 22==e.length?i.toHex(e,32):e},r.hexToId=function(e){return 32==e.length?i.fromHex(e,22):e},r.emptyURI=function(){return new r(r.Type.EMPTY,{})},r.albumURI=function(e,t){return new r(r.Type.ALBUM,{id:e,disc:t})},r.adURI=function(e){return new r(r.Type.AD,{id:e})},r.audioFileURI=function(e,t){return new r(r.Type.AUDIO_FILE,{id:t,extension:e})},r.artistURI=function(e){return new r(r.Type.ARTIST,{id:e})},r.artistToplistURI=function(e,t){return new r(r.Type.ARTIST_TOPLIST,{id:e,toplist:t})},r.searchURI=function(e){return new r(r.Type.SEARCH,{query:e})},r.trackURI=function(e,t,n,i){return new r(r.Type.TRACK,{id:e,anchor:t,context:n?r.fromString(n):n,play:i})},r.tracksetURI=function(e,t,n){return new r(r.Type.TRACKSET,{tracks:e,name:t||"",index:isNaN(n)?null:n})},r.facebookURI=function(e){return new r(r.Type.FACEBOOK,{uid:e})},r.followersURI=function(e){return new r(r.Type.FOLLOWERS,{username:e})},r.followingURI=function(e){return new r(r.Type.FOLLOWING,{username:e})},r.playlistURI=function(e,t){return new r(r.Type.PLAYLIST,{username:e,id:t})},r.folderURI=function(e,t){return new r(r.Type.FOLDER,{username:e,id:t})},r.collectionTrackList=function(e,t){return new r(r.Type.COLLECTION_TRACK_LIST,{username:e,id:t})},r.starredURI=function(e){return new r(r.Type.STARRED,{username:e})},r.userToplistURI=function(e,t){return new r(r.Type.USER_TOPLIST,{username:e,toplist:t})},r.userTopTracksURI=function(e){return new r(r.Type.USER_TOP_TRACKS,{username:e})},r.toplistURI=function(e,t,n){return new r(r.Type.TOPLIST,{toplist:e,country:t,global:!!n})},r.inboxURI=function(e){return new r(r.Type.INBOX,{username:e})},r.rootlistURI=function(e){return new r(r.Type.ROOTLIST,{username:e})},r.publishedRootlistURI=function(e){return new r(r.Type.PUBLISHED_ROOTLIST,{username:e})},r.localArtistURI=function(e){return new r(r.Type.LOCAL_ARTIST,{artist:e})},r.localAlbumURI=function(e,t){return new r(r.Type.LOCAL_ALBUM,{artist:e,album:t})},r.localURI=function(e,t,n,i){return new r(r.Type.LOCAL,{artist:e,album:t,track:n,duration:i})},r.libraryURI=function(e,t){return new r(r.Type.LIBRARY,{username:e,category:t})},r.collectionURI=function(e,t){return new r(r.Type.COLLECTION,{username:e,category:t})},r.temporaryPlaylistURI=function(e,t){return new r(r.Type.TEMP_PLAYLIST,{origin:e,data:t})},r.contextGroupURI=function(e,t){return new r(r.Type.CONTEXT_GROUP,{origin:e,name:t})},r.profileURI=function(e,t){return new r(r.Type.PROFILE,{username:e,args:t})},r.imageURI=function(e){return new r(r.Type.IMAGE,{id:e})},r.mosaicURI=function(e){return new r(r.Type.MOSAIC,{ids:e})},r.radioURI=function(e){return e="undefined"==typeof e?"":e,new r(r.Type.RADIO,{args:e})},r.specialURI=function(e){return e="undefined"==typeof e?[]:e,new r(r.Type.SPECIAL,{args:e})},r.stationURI=function(e){return e="undefined"==typeof e?[]:e,new r(r.Type.STATION,{args:e})},r.applicationURI=function(e,t){return t="undefined"==typeof t?[]:t,new r(r.Type.APPLICATION,{id:e,args:t})},r.collectionAlbumURI=function(e,t){return new r(r.Type.COLLECTION_ALBUM,{username:e,id:t})},r.collectionMissingAlbumURI=function(e,t){return new r(r.Type.COLLECTION_MISSING_ALBUM,{username:e,id:t})},r.collectionArtistURI=function(e,t){return new r(r.Type.COLLECTION_ARTIST,{username:e,id:t})},r.episodeURI=function(e,t,n){return new r(r.Type.EPISODE,{id:e,context:t?r.fromString(t):t,play:n})},r.showURI=function(e){return new r(r.Type.SHOW,{id:e})},e.exports=r},function(e,t,n){var r,i;!function(){"use strict";function n(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var i=typeof r;if("string"===i||"number"===i)e.push(r);else if(Array.isArray(r))e.push(n.apply(null,r));else if("object"===i)for(var a in r)o.call(r,a)&&r[a]&&e.push(a)}}return e.join(" ")}var o={}.hasOwnProperty;"undefined"!=typeof e&&e.exports?e.exports=n:(r=[],i=function(){return n}.apply(t,r),!(void 0!==i&&(e.exports=i)))}()},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.createMemoryHistory=t.hashHistory=t.browserHistory=t.applyRouterMiddleware=t.formatPattern=t.useRouterHistory=t.match=t.routerShape=t.locationShape=t.PropTypes=t.RoutingContext=t.RouterContext=t.createRoutes=t.useRoutes=t.RouteContext=t.Lifecycle=t.History=t.Route=t.Redirect=t.IndexRoute=t.IndexRedirect=t.withRouter=t.IndexLink=t.Link=t.Router=void 0;var i=n(44);Object.defineProperty(t,"createRoutes",{enumerable:!0,get:function(){return i.createRoutes}});var o=n(130);Object.defineProperty(t,"locationShape",{enumerable:!0,get:function(){return o.locationShape}}),Object.defineProperty(t,"routerShape",{enumerable:!0,get:function(){return o.routerShape}});var a=n(60);Object.defineProperty(t,"formatPattern",{enumerable:!0,get:function(){return a.formatPattern}});var s=n(564),u=r(s),l=n(202),c=r(l),p=n(558),f=r(p),d=n(577),h=r(d),y=n(559),_=r(y),m=n(560),v=r(m),g=n(203),b=r(g),E=n(562),S=r(E),T=n(557),w=r(T),C=n(561),O=r(C),k=n(563),R=r(k),P=n(576),I=r(P),A=n(91),L=r(A),U=n(565),M=r(U),x=r(o),D=n(574),N=r(D),j=n(208),F=r(j),B=n(567),q=r(B),H=n(568),V=r(H),W=n(572),K=r(W),Q=n(205),Y=r(Q);t.Router=u.default,t.Link=c.default,t.IndexLink=f.default,t.withRouter=h.default,t.IndexRedirect=_.default,t.IndexRoute=v.default,t.Redirect=b.default,t.Route=S.default,t.History=w.default,t.Lifecycle=O.default,t.RouteContext=R.default,t.useRoutes=I.default,t.RouterContext=L.default,t.RoutingContext=M.default,t.PropTypes=x.default,t.match=N.default,t.useRouterHistory=F.default,t.applyRouterMiddleware=q.default,t.browserHistory=V.default,t.hashHistory=K.default,t.createMemoryHistory=Y.default},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=t.types={SAVE_TRACK:"SAVE_TRACK",SAVE_TRACK_SUCCESS:"SAVE_TRACK_SUCCESS",SAVE_TRACK_FAILURE:"SAVE_TRACK_FAILURE",REMOVE_TRACK:"REMOVE_TRACK",REMOVE_TRACK_SUCCESS:"REMOVE_TRACK_SUCCESS",REMOVE_TRACK_FAILURE:"REMOVE_TRACK_FAILURE",FOLLOW_PLAYLIST:"FOLLOW_PLAYLIST",FOLLOW_PLAYLIST_SUCCESS:"FOLLOW_PLAYLIST_SUCCESS",FOLLOW_PLAYLIST_FAILURE:"FOLLOW_PLAYLIST_FAILURE",UNFOLLOW_PLAYLIST:"UNFOLLOW_PLAYLIST",UNFOLLOW_PLAYLIST_SUCCESS:"UNFOLLOW_PLAYLIST_SUCCESS",UNFOLLOW_PLAYLIST_FAILURE:"UNFOLLOW_PLAYLIST_FAILURE",CREATE_PLAYLIST:"CREATE_PLAYLIST",CREATE_PLAYLIST_SUCCESS:"CREATE_PLAYLIST_SUCCESS",CREATE_PLAYLIST_FAILURE:"CREATE_PLAYLIST_FAILURE",ADD_TO_PLAYLIST:"ADD_TO_PLAYLIST",ADD_TO_PLAYLIST_SUCCESS:"ADD_TO_PLAYLIST_SUCCESS",ADD_TO_PLAYLIST_FAILURE:"ADD_TO_PLAYLIST_FAILURE",REMOVE_FROM_PLAYLIST:"REMOVE_FROM_PLAYLIST",REMOVE_FROM_PLAYLIST_SUCCESS:"REMOVE_FROM_PLAYLIST_SUCCESS",REMOVE_FROM_PLAYLIST_FAILURE:"REMOVE_FROM_PLAYLIST_FAILURE",FOLLOW_ARTIST:"FOLLOW_ARTIST",FOLLOW_ARTIST_SUCCESS:"FOLLOW_ARTIST_SUCCESS",FOLLOW_ARTIST_FAILURE:"FOLLOW_ARTIST_FAILURE",UNFOLLOW_ARTIST:"UNFOLLOW_ARTIST",UNFOLLOW_ARTIST_SUCCESS:"UNFOLLOW_ARTIST_SUCCESS",UNFOLLOW_ARTIST_FAILURE:"UNFOLLOW_ARTIST_FAILURE",SAVE_ALBUM:"SAVE_ALBUM",SAVE_ALBUM_SUCCESS:"SAVE_ALBUM_SUCCESS",SAVE_ALBUM_FAILURE:"SAVE_ALBUM_FAILURE",REMOVE_ALBUM:"REMOVE_ALBUM",REMOVE_ALBUM_SUCCESS:"REMOVE_ALBUM_SUCCESS",REMOVE_ALBUM_FAILURE:"REMOVE_ALBUM_FAILURE",LIKE_RADIO_TRACK:"LIKE_RADIO_TRACK",LIKE_RADIO_TRACK_SUCCESS:"LIKE_RADIO_TRACK_SUCCESS",LIKE_RADIO_TRACK_FAILURE:"LIKE_RADIO_TRACK_FAILURE",BAN_RADIO_CONTEXT:"BAN_RADIO_CONTEXT",BAN_RADIO_CONTEXT_SUCCESS:"BAN_RADIO_CONTEXT_SUCCESS",BAN_RADIO_CONTEXT_FAILURE:"BAN_RADIO_CONTEXT_FAILURE",PUBLISH_PLAYLIST:"PUBLISH_PLAYLIST",PUBLISH_PLAYLIST_SUCCESS:"PUBLISH_PLAYLIST_SUCCESS",PUBLISH_PLAYLIST_FAILURE:"PUBLISH_PLAYLIST_FAILURE",UNPUBLISH_PLAYLIST:"UNPUBLISH_PLAYLIST",UNPUBLISH_PLAYLIST_SUCCESS:"UNPUBLISH_PLAYLIST_SUCCESS",UNPUBLISH_PLAYLIST_FAILURE:"UNPUBLISH_PLAYLIST_FAILURE",CLEAR_LIKED_TRACKS:"CLEAR_LIKED_TRACKS"};t.clearLikedTracks=function(){return{type:n.CLEAR_LIKED_TRACKS}},t.likeRadioTrack=function(e,t){return{type:n.LIKE_RADIO_TRACK,uri:e,contextURI:t}},t.likeRadioTrackSuccess=function(e,t){return{type:n.LIKE_RADIO_TRACK_SUCCESS,uri:e,contextURI:t}},t.likeRadioTrackFailure=function(e,t,r){return{type:n.LIKE_RADIO_TRACK_FAILURE,uri:e,contextURI:t,err:r}},t.banRadioContext=function(e,t){return{type:n.BAN_RADIO_CONTEXT,uri:e,contextURI:t}},t.banRadioContextSuccess=function(e,t){return{type:n.BAN_RADIO_CONTEXT_SUCCESS,uri:e,contextURI:t}},t.banRadioContextFailure=function(e,t,r){return{type:n.BAN_RADIO_CONTEXT_FAILURE,uri:e,contextURI:t,err:r}},t.saveTrack=function(e){return{type:n.SAVE_TRACK,uri:e}},t.saveTrackSuccess=function(e){return{type:n.SAVE_TRACK_SUCCESS,uri:e}},t.saveTrackFailure=function(e,t){return{type:n.SAVE_TRACK_FAILURE,uri:e,err:t}},t.removeTrack=function(e){return{type:n.REMOVE_TRACK,uri:e}},t.removeTrackSuccess=function(e){return{type:n.REMOVE_TRACK_SUCCESS,uri:e}},t.removeTrackFailure=function(e,t){return{type:n.REMOVE_TRACK_FAILURE,uri:e,err:t}},t.followPlaylist=function(e){return{type:n.FOLLOW_PLAYLIST,uri:e}},t.followPlaylistSuccess=function(e){return{type:n.FOLLOW_PLAYLIST_SUCCESS,uri:e}},t.followPlaylistFailure=function(e,t){return{type:n.FOLLOW_PLAYLIST_FAILURE,uri:e,err:t}},t.unfollowPlaylist=function(e,t){return{type:n.UNFOLLOW_PLAYLIST,uri:e,belongsToUser:t}},t.unfollowPlaylistSuccess=function(e){return{type:n.UNFOLLOW_PLAYLIST_SUCCESS,uri:e}},t.unfollowPlaylistFailure=function(e,t){return{type:n.UNFOLLOW_PLAYLIST_FAILURE,uri:e,err:t}},t.createPlaylist=function(e){return{type:n.CREATE_PLAYLIST,name:e}},t.createPlaylistSuccess=function(e){return{type:n.CREATE_PLAYLIST_SUCCESS,data:e}},t.createPlaylistFailure=function(e,t){return{type:n.CREATE_PLAYLIST_FAILURE,name:e,err:t}},t.addToPlaylist=function(e,t){return{type:n.ADD_TO_PLAYLIST,playlistUri:e,uri:t}},t.addToPlaylistSuccess=function(e,t){return{type:n.ADD_TO_PLAYLIST_SUCCESS,playlistUri:e,uri:t}},t.addToPlaylistFailure=function(e,t,r){return{type:n.ADD_TO_PLAYLIST_FAILURE,playlistUri:e,uri:t,err:r}},t.removeFromPlaylist=function(e,t,r){return{type:n.REMOVE_FROM_PLAYLIST,playlistUri:e,trackUri:t,position:r}},t.removeFromPlaylistSuccess=function(e,t,r){return{type:n.REMOVE_FROM_PLAYLIST_SUCCESS,playlistUri:e,trackUri:t,position:r}},t.removeFromPlaylistFailure=function(e,t,r){return{type:n.REMOVE_FROM_PLAYLIST_FAILURE,playlistUri:e,trackUri:t,err:r}},t.publishPlaylist=function(e){return{type:n.PUBLISH_PLAYLIST,playlistUri:e}},t.publishPlaylistSuccess=function(e){return{type:n.PUBLISH_PLAYLIST_SUCCESS,playlistUri:e}},t.publishPlaylistFailure=function(e,t){return{type:n.PUBLISH_PLAYLIST_FAILURE,playlistUri:e,err:t}},t.unpublishPlaylist=function(e){return{type:n.UNPUBLISH_PLAYLIST,playlistUri:e}},t.unpublishPlaylistSuccess=function(e){return{type:n.UNPUBLISH_PLAYLIST_SUCCESS,playlistUri:e}},t.unpublishPlaylistFailure=function(e,t){return{type:n.UNPUBLISH_PLAYLIST_FAILURE,playlistUri:e,err:t}},t.followArtist=function(e){return{type:n.FOLLOW_ARTIST,uri:e}},t.followArtistSuccess=function(e){return{type:n.FOLLOW_ARTIST_SUCCESS,uri:e}},t.followArtistFailure=function(e,t){return{type:n.FOLLOW_ARTIST_FAILURE,uri:e,err:t}},t.unfollowArtist=function(e){return{type:n.UNFOLLOW_ARTIST,uri:e}},t.unfollowArtistSuccess=function(e){return{type:n.UNFOLLOW_ARTIST_SUCCESS,uri:e}},t.unfollowArtistFailure=function(e,t){return{type:n.UNFOLLOW_ARTIST_FAILURE,uri:e,err:t}},t.saveAlbum=function(e){return{type:n.SAVE_ALBUM,uri:e}},t.saveAlbumSuccess=function(e){return{type:n.SAVE_ALBUM_SUCCESS,uri:e}},t.saveAlbumFailure=function(e,t){return{type:n.SAVE_ALBUM_FAILURE,uri:e,err:t}},t.removeAlbum=function(e){return{type:n.REMOVE_ALBUM,uri:e}},t.removeAlbumSuccess=function(e){return{type:n.REMOVE_ALBUM_SUCCESS,uri:e}},t.removeAlbumFailure=function(e,t){return{type:n.REMOVE_ALBUM_FAILURE,uri:e,err:t}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.isAd=t.extractBasicPlaybackData=void 0;var i=n(13),o=r(i);t.extractBasicPlaybackData=function(e){var t=e.playback&&e.playback.player||null;return{contextURI:t&&t.context&&t.context.uri||null,trackURI:t&&t.trackWindow&&t.trackWindow.currentTrack&&t.trackWindow.currentTrack.uri||null,isPlaying:null!==t&&!t.paused}},t.isAd=function(e){var t=o.default.from(e);return null!==t&&t.type===o.default.Type.AD}},function(e,t,n){"use strict";function r(e,t){return 1===e.nodeType&&e.getAttribute(h)===String(t)||8===e.nodeType&&e.nodeValue===" react-text: "+t+" "||8===e.nodeType&&e.nodeValue===" react-empty: "+t+" "}function i(e){for(var t;t=e._renderedComponent;)e=t;return e}function o(e,t){var n=i(e);n._hostNode=t,t[_]=n}function a(e){var t=e._hostNode;t&&(delete t[_],e._hostNode=null)}function s(e,t){if(!(e._flags&y.hasCachedChildNodes)){var n=e._renderedChildren,a=t.firstChild;e:for(var s in n)if(n.hasOwnProperty(s)){var u=n[s],l=i(u)._domID;if(0!==l){for(;null!==a;a=a.nextSibling)if(r(a,l)){o(u,a);continue e}p("32",l)}}e._flags|=y.hasCachedChildNodes}}function u(e){if(e[_])return e[_];for(var t=[];!e[_];){if(t.push(e),!e.parentNode)return null;e=e.parentNode}for(var n,r;e&&(r=e[_]);e=t.pop())n=r,t.length&&s(r,e);return n}function l(e){var t=u(e);return null!=t&&t._hostNode===e?t:null}function c(e){if(void 0===e._hostNode?p("33"):void 0,e._hostNode)return e._hostNode;for(var t=[];!e._hostNode;)t.push(e),e._hostParent?void 0:p("34"),e=e._hostParent;for(;t.length;e=t.pop())s(e,e._hostNode);return e._hostNode}var p=n(10),f=n(58),d=n(177),h=(n(4),f.ID_ATTRIBUTE_NAME),y=d,_="__reactInternalInstance$"+Math.random().toString(36).slice(2),m={getClosestInstanceFromNode:u,getInstanceFromNode:l,getNodeFromInstance:c,precacheChildNodes:s,precacheNode:o,uncacheNode:a};e.exports=m},function(e,t,n){"use strict";function r(e,t){if(this.type=e,this._prevented=!1,this._stopped=!1,this._immediateStopped=!1,t)for(var n in t)"type"!=n&&(this[n]=t[n])}function i(){this._listenerMap={}}var o=n(600);r.prototype.preventDefault=function(){this._prevented=!0},r.prototype.isDefaultPrevented=function(){return this._prevented},r.prototype.stopPropagation=function(){this._stopped=!0},r.prototype.isPropagationStopped=function(){return this._stopped},r.prototype.stopImmediatePropagation=function(){this._immediateStopped=!0},r.prototype.isImmediatePropagationStopped=function(){return this._immediateStopped},i.createEvent=function(e,t){return new r(e,t)},i.prototype.addListener=function(e,t){var n=this._listenerMap||(this._listenerMap={}),r=n[e]||(n[e]=[]);return r.indexOf(t)!=-1?this:(r.push(t),this)},i.prototype.addListeners=function(e){for(var t in e)this.addListener(t,e[t]);return this},i.prototype.addOnceListener=function(e,t){var n=function(){return this.removeListener(e,n),t.apply(this,arguments)};return this.addListener(e,n),n},i.prototype.removeListener=function(e,t){var n=this._listenerMap,r=n&&n[e];if(!r)return this;var i=r.indexOf(t);return i==-1?this:(r.splice(i,1),r.length||(n[e]=null),this)},i.prototype.removeAllListeners=function(e){var t=this._listenerMap;return t?(t[e]=null,this):this},i.prototype.removeListeners=function(e){for(var t in e)this.removeListener(t,e[t]);return this},i.prototype.emit=function(e,t){var n=new r(e,t);return o(function(){this.emitEventSync(n)}.bind(this)),n},i.prototype.emitEvent=function(e){return o(function(){this.emitEventSync(e)}.bind(this)),e},i.prototype.emitSync=function(e,t){var n=new r(e,t);return this.emitEventSync(n),n},i.prototype.emitEventSync=function(e){var t=e.type,n=this._listenerMap,r=n&&n[t];if(!r||!r.length)return e;r=r.slice(0);for(var i=0,o=r.length;i<o&&(r[i].call(this,e),!e.isImmediatePropagationStopped());i++);return e},i.prototype.addEvent=function(e,t){return this.addListener(e,t)},i.prototype.addEvents=function(e){return this.addListeners(e)},i.prototype.addOnceEvent=function(e,t){return this.addOnceListener(e,t)},i.prototype.removeEvent=function(e,t){return this.removeListener(e,t)},i.prototype.removeEvents=function(e){return this.removeListeners(e)},i.prototype.fireEvent=function(e,t,n){if(n)this.fireEventSync(e,t);else{var r=this;o(function(){r.fireEventSync(e,t)})}return this},i.prototype.fireEventSync=function(e,t){var n=this,r=this._listenerMap&&this._listenerMap[e];if(!r||!r.length)return this;r=r.slice(0);var i,o;if(t)for(Array.isArray(t)||(t=[t]),i=0,o=r.length;i<o;i++)r[i].apply(n,t);else for(i=0,o=r.length;i<o;i++)r[i].call(n);return this},i.prototype.on=function(e,t){return this.addEvent(e,t)},i.prototype.once=function(e,t){return this.addOnceEvent(e,t)},i.prototype.off=function(e,t){return"function"==typeof t?this.removeEvent(e,t):(this._listenerMap[e]=null,this)},e.exports=i},function(e,t){"use strict";var n=function(e,t){function n(){}var r=t.prototype;n.prototype=e._super=r,n.prototype.constructor=t,e.prototype=new n};e.exports=n},function(e,t,n){"use strict";var r=function(e,t,n,r,i,o,a,s){if(!e){var u;if(void 0===t)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var l=[n,r,i,o,a,s],c=0;u=new Error(t.replace(/%s/g,function(){return l[c++]})),u.name="Invariant Violation"}throw u.framesToPop=1,u}};e.exports=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(t.indexOf("deprecated")!==-1){if(u[t])return;u[t]=!0}t="[react-router] "+t;for(var n=arguments.length,r=Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];s.default.apply(void 0,[e,t].concat(r))}function o(){u={}}t.__esModule=!0,t.default=i,t._resetWarned=o;var a=n(657),s=r(a),u={}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.TRACK_MENU_ID="contextMenu-track",t.ALBUM_MENU_ID="contextMenu-album",t.PLAYLIST_MENU_ID="contextMenu-playlist",t.ARTIST_MENU_ID="contextMenu-artist",t.GENERIC_MENU_ID="contextMenu-generic",t.RADIO_BAN_MENU_ID="contextMenu-radio-ban",t.SHOW_MENU_ID="contextMenu-show",t.EPISODE_MENU_ID="contextMenu-episode"},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(474);Object.defineProperty(t,"ContextMenu",{enumerable:!0,get:function(){return r(i).default}});var o=n(475);Object.defineProperty(t,"ContextMenuTrigger",{enumerable:!0,get:function(){return r(o).default}});var a=n(476);Object.defineProperty(t,"MenuItem",{enumerable:!0,get:function(){return r(a).default}});var s=n(477);Object.defineProperty(t,"SubMenu",{enumerable:!0,get:function(){return r(s).default}})},function(e,t){"use strict";var n=!("undefined"==typeof window||!window.document||!window.document.createElement),r={canUseDOM:n,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:n&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:n&&!!window.screen,isInWorker:!n};e.exports=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(395),a=(r(o),n(1)),s=r(a),u=n(15),l=n(14),c=r(l),p=function(e){var t={className:(0,c.default)("btn",{"btn--no-margin":e.noMargin},e.className),style:e.style,children:e.children};return e.href?s.default.createElement("a",i({},t,{target:e._blank?"_blank":"_self",href:e.href,onClick:e.onClick})):e.linkTo?s.default.createElement(u.Link,i({},t,{to:e.linkTo,onClick:e.onClick})):s.default.createElement("button",i({},t,{onClick:e.onClick}))};p.defaultProps={onClick:function(){}},t.default=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.copyTextFromInputElement=t.formatBio=t.formatDate=t.formatTime=t.selectImageUrlForWidth=void 0;var r=n(2),i=null;t.selectImageUrlForWidth=function(e,t){if(0===t.length)return null;var n=t[0];if(null===e)return n.url;for(var r=1;r<t.length&&t[r].width>=e;)n=t[r],r++;return n.url},t.formatTime=function(e){var t=Math.floor(e/6e4),n=Math.floor(e%6e4/1e3);return t+":"+(n<10?"0":"")+n},t.formatDate=function(e){return i||(i=new Intl.DateTimeFormat(r.I18n.getInstance().locale,{year:"numeric",month:"long",day:"numeric"})),i.format(e)},t.formatBio=function(e){if(!e)return[];for(var t=[],n=e.split("\n"),r=0;r<n.length;r++)n[r]&&t.push(n[r].replace(/<a href="(.*?)">(.*?)<\/a>/g,"$2"));return t},t.copyTextFromInputElement=function(e){e.select();try{return document.execCommand("copy"),!0}catch(e){return console.error("Error on copying to clipboard",e),!1}}},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.OPEN_HOST=t.RADIO_HOST=t.MELODY_HOST=t.OPEN_BACKEND_HOST=t.API_HOST=t.ACCOUNTS_HOST=void 0;var i=n(155),o=r(i);t.ACCOUNTS_HOST=o.authServerURL,t.API_HOST="https://api.spotify.com/v1",t.OPEN_BACKEND_HOST="https://spclient.wg.spotify.com/open-backend/v1",t.MELODY_HOST="https://spclient.wg.spotify.com/melody/v1",t.RADIO_HOST="https://spclient.wg.spotify.com/radio-apollo/v3",t.OPEN_HOST=""},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),l=r(u),c=function(e){function t(){i(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.handleScroll=e.handleScroll.bind(e),e.onResize=e.onResize.bind(e),e.windowHeight=null,e}return a(t,e),s(t,[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.handleScroll),window.addEventListener("resize",this.onResize),this.fetchInitialData()}},{key:"componentWillUpdate",value:function(){window.removeEventListener("scroll",this.handleScroll)}},{key:"componentDidUpdate",value:function(){window.addEventListener("scroll",this.handleScroll)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onResize),window.removeEventListener("scroll",this.handleScroll)}},{key:"onResize",value:function(){this.windowHeight=window.innerHeight}},{key:"fetchInitialData",value:function(){throw new TypeError("method must be implemented by component subclass")}},{key:"fetchMoreData",value:function(){throw new TypeError("method must be implemented by component subclass")}},{key:"handleScroll",value:function(){var e=this;this.throttleTimeout||(this.throttleTimeout=setTimeout(function(){null===e.windowHeight&&e.onResize(),clearTimeout(e.throttleTimeout),e.throttleTimeout=null,window.scrollY+e.windowHeight>document.body.scrollHeight-400&&e.fetchMoreData()},100))}}]),t}(l.default.Component);t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=r(o),s=n(14),u=r(s),l=n(405),c=r(l),p=function(e){var t,n=e.isSubheader,r=void 0!==n&&n,o=e.size,s=void 0===o?"medium":o,l=e.align,p=void 0===l?"left":l,f=e.noMargins,d=void 0!==f&&f,h=e.children,y={textAlign:p},_=(0,u.default)(c.default.header,(t={},i(t,c.default.subheader,r),
i(t,c.default.header_large,"large"===s),i(t,c.default.header_xlarge,"xlarge"===s),i(t,c.default.noMargins,d),t));return r?a.default.createElement("h2",{className:_,style:y},h):a.default.createElement("h1",{className:_,style:y},h)};t.default=p},function(e,t){"use strict";function n(e){return function(){return e}}var r=function(){};r.thatReturns=n,r.thatReturnsFalse=n(!1),r.thatReturnsTrue=n(!0),r.thatReturnsNull=n(null),r.thatReturnsThis=function(){return this},r.thatReturnsArgument=function(e){return e},e.exports=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(407),l=r(u),c=n(1),p=r(c),f=function(e){function t(e){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return a(t,e),s(t,[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"render",value:function(){return p.default.createElement("div",{className:l.default.loadingIcon},p.default.createElement("img",{src:"/static/assets/images/loading.gif"}))}}]),t}(p.default.Component);t.default=f},function(e,t,n){"use strict";var r=null;e.exports={debugTool:r}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=t.types={ACCESS_TOKEN_UPDATE_SUCCESS:"ACCESS_TOKEN_UPDATE_SUCCESS",LOAD:"LOAD",LOGIN_FAILURE:"LOGIN_FAILURE",LOGIN_REQUEST:"LOGIN_REQUEST",LOGIN_SUCCESS:"LOGIN_SUCCESS",LOGOUT_REQUEST:"LOGOUT_REQUEST",LOGOUT_SUCCESS:"LOGOUT_SUCCESS",LOGIN_CREDENTIALS_OBTAINED:"LOGIN_CREDENTIALS_OBTAINED",ACCESS_TOKEN_REQUEST:"ACCESS_TOKEN_REQUEST"};t.load=function(){return{type:n.LOAD}},t.loginRequest=function(){return{type:n.LOGIN_REQUEST}},t.loginFailure=function(e){return{type:n.LOGIN_FAILURE,error:e}},t.loginSuccess=function(e){return{type:n.LOGIN_SUCCESS,authData:e}},t.logoutRequest=function(){return{type:n.LOGOUT_REQUEST}},t.logoutSuccess=function(){return{type:n.LOGOUT_SUCCESS}},t.tokenUpdateSuccess=function(e){return{type:n.ACCESS_TOKEN_UPDATE_SUCCESS,authData:e}},t.loginCredentialsObtained=function(e){return{type:n.LOGIN_CREDENTIALS_OBTAINED,authData:e}},t.tokenRequest=function(){return{type:n.ACCESS_TOKEN_REQUEST}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(409),l=(r(u),n(1)),c=r(l),p=n(15),f=n(76),d=r(f),h=n(271),y=r(h),_=n(27),m=n(254),v=r(m),g=n(65),b=r(g),E=n(75),S=r(E),T=n(98),w=r(T),C=n(74),O=r(C),k=n(144),R=r(k),P=n(143),I=r(P),A=n(13),L=r(A),U=n(14),M=r(U),x=n(9),D=r(x),N=n(2),j=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleClick=n.handleClick.bind(n),n}return a(t,e),s(t,[{key:"shouldComponentUpdate",value:function(e){return this.props.entity.uri!==e.entity.uri||this.isPlaying(this.props.entity,this.props.playbackState)!==this.isPlaying(e.entity,e.playbackState)||!(0,D.default)(this.props.owners,e.owners)||this.props.isLinking!==e.isLinking}},{key:"handleClick",value:function(){this.props.onClick&&this.props.onClick(this.props.entity.uri,this.props.entity.name)}},{key:"isPlaying",value:function(e,t){return t&&e.uri===t.contextURI&&t.isPlaying}},{key:"render",value:function(){var e=this.props,t=L.default.from(e.entity.uri),n=(0,_.selectImageUrlForWidth)(e.maxWidth,e.entity.images||e.entity.album&&e.entity.album.images||e.entity.icons||[]),r=this.props.playbackState&&this.props.playbackState.isPlaying&&this.props.playbackState.contextURI===e.entity.uri,i=void 0,o={album:b.default,playlist:w.default,artist:O.default,track:S.default,show:R.default},a=o[e.entity.type]||I.default;if(e.owners){var s=e.owners.map(function(t,n){return null===t.uri?t.display_name||t.name||t.id:"artist"===t.type?c.default.createElement(O.default,{key:n,uri:t.uri},c.default.createElement(p.Link,{to:L.default.from(t.uri).toURLPath(!0)},t.display_name||t.name||t.id),n<e.owners.length-1?", ":""):c.default.createElement("span",{key:n},c.default.createElement(p.Link,{to:L.default.from(t.uri).toURLPath(!0)},t.display_name||t.name||t.id),n<e.owners.length-1?", ":"")});i=e.owners.length?c.default.createElement("div",{className:"mo-owner"},c.default.createElement("span",null,(0,N._)("tracklist-header.by")," "),s):null}var u="media-object";e.rounded&&(u+=" mo-artist"),e.isDailyMix&&(u+=" daily-mix");var l=this.props.maxWidth?{maxWidth:this.props.maxWidth}:{},f=e.isDailyMix?c.default.createElement("div",{className:"daily-mix-decoration"},c.default.createElement("img",{src:e.dailyMixWaveUrl,className:"waves"}),c.default.createElement("img",{src:e.dailyMixTextUrl,className:"bottom-text"})):null;return c.default.createElement("div",{className:u,style:l},c.default.createElement("div",{className:(0,M.default)("hoverable",{playing:r,"mo-coverArt-hoverContainer":e.hoverElement})},c.default.createElement(a,{uri:e.entity.uri},e.isPlayable?c.default.createElement(v.default,{entityURI:e.entity.uri,imgSrc:n,isPlaying:e.playbackState.isPlaying,contextURI:e.playbackState.contextURI,label:e.entity.name,onClickPlay:e.onClickPlay,onClick:this.handleClick,href:e.isLinking?t.toURLPath(!0):null,className:e.rounded?"rounded":"light",type:t.type},f):c.default.createElement(d.default,{entityURI:e.entity.uri,imgSrc:n,label:e.entity.name,href:e.isLinking?t.toURLPath(!0):null,onClick:this.handleClick,className:e.rounded?"rounded":"light",type:t.type})),e.hoverElement&&c.default.createElement("div",{className:"mo-coverArt-hover",onClick:this.handleClick},e.hoverElement),c.default.createElement("div",{className:"mo-info"},c.default.createElement(a,{uri:e.entity.uri},e.entity.name&&(e.isLinking?c.default.createElement(y.default,{uri:t.toURLPath(!0),onClick:this.handleClick,name:e.entity.name.substring(0,50)}):c.default.createElement("div",{className:"mo-info-name",title:e.entity.name},e.entity.name.substring(0,50)))),e.metaText&&c.default.createElement("div",{className:"mo-meta"},e.metaText))),i)}}]),t}(c.default.Component);j.defaultProps={isPlayable:!0,rounded:!1,onClick:function(){},isLinking:!0,maxWidth:null,isDailyMix:!1},t.default=j},function(e,t,n){"use strict";var r=function(){};e.exports=r},function(e,t,n){"use strict";function r(){k.ReactReconcileTransaction&&E?void 0:c("123")}function i(){this.reinitializeTransaction(),this.dirtyComponentsLength=null,this.callbackQueue=f.getPooled(),this.reconcileTransaction=k.ReactReconcileTransaction.getPooled(!0)}function o(e,t,n,i,o,a){return r(),E.batchedUpdates(e,t,n,i,o,a)}function a(e,t){return e._mountOrder-t._mountOrder}function s(e){var t=e.dirtyComponentsLength;t!==m.length?c("124",t,m.length):void 0,m.sort(a),v++;for(var n=0;n<t;n++){var r=m[n],i=r._pendingCallbacks;r._pendingCallbacks=null;var o;if(h.logTopLevelRenders){var s=r;r._currentElement.type.isReactTopLevelWrapper&&(s=r._renderedComponent),o="React update: "+s.getName(),console.time(o)}if(y.performUpdateIfNecessary(r,e.reconcileTransaction,v),o&&console.timeEnd(o),i)for(var u=0;u<i.length;u++)e.callbackQueue.enqueue(i[u],r.getPublicInstance())}}function u(e){return r(),E.isBatchingUpdates?(m.push(e),void(null==e._updateBatchNumber&&(e._updateBatchNumber=v+1))):void E.batchedUpdates(u,e)}function l(e,t){E.isBatchingUpdates?void 0:c("125"),g.enqueue(e,t),b=!0}var c=n(10),p=n(11),f=n(174),d=n(47),h=n(180),y=n(59),_=n(88),m=(n(4),[]),v=0,g=f.getPooled(),b=!1,E=null,S={initialize:function(){this.dirtyComponentsLength=m.length},close:function(){this.dirtyComponentsLength!==m.length?(m.splice(0,this.dirtyComponentsLength),C()):m.length=0}},T={initialize:function(){this.callbackQueue.reset()},close:function(){this.callbackQueue.notifyAll()}},w=[S,T];p(i.prototype,_,{getTransactionWrappers:function(){return w},destructor:function(){this.dirtyComponentsLength=null,f.release(this.callbackQueue),this.callbackQueue=null,k.ReactReconcileTransaction.release(this.reconcileTransaction),this.reconcileTransaction=null},perform:function(e,t,n){return _.perform.call(this,this.reconcileTransaction.perform,this.reconcileTransaction,e,t,n)}}),d.addPoolingTo(i);var C=function(){for(;m.length||b;){if(m.length){var e=i.getPooled();e.perform(s,null,e),i.release(e)}if(b){b=!1;var t=g;g=f.getPooled(),t.notifyAll(),f.release(t)}}},O={injectReconcileTransaction:function(e){e?void 0:c("126"),k.ReactReconcileTransaction=e},injectBatchingStrategy:function(e){e?void 0:c("127"),"function"!=typeof e.batchedUpdates?c("128"):void 0,"boolean"!=typeof e.isBatchingUpdates?c("129"):void 0,E=e}},k={ReactReconcileTransaction:null,batchedUpdates:o,enqueueUpdate:u,flushBatchedUpdates:C,injection:O,asap:l};e.exports=k},function(e,t,n){"use strict";function r(e,t,n,r){this.dispatchConfig=e,this._targetInst=t,this.nativeEvent=n;var i=this.constructor.Interface;for(var o in i)if(i.hasOwnProperty(o)){var s=i[o];s?this[o]=s(n):"target"===o?this.target=r:this[o]=n[o]}var u=null!=n.defaultPrevented?n.defaultPrevented:n.returnValue===!1;return u?this.isDefaultPrevented=a.thatReturnsTrue:this.isDefaultPrevented=a.thatReturnsFalse,this.isPropagationStopped=a.thatReturnsFalse,this}var i=n(11),o=n(47),a=n(31),s=(n(6),"function"==typeof Proxy,["dispatchConfig","_targetInst","nativeEvent","isDefaultPrevented","isPropagationStopped","_dispatchListeners","_dispatchInstances"]),u={type:null,target:null,currentTarget:a.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};i(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=a.thatReturnsTrue)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=a.thatReturnsTrue)},persist:function(){this.isPersistent=a.thatReturnsTrue},isPersistent:a.thatReturnsFalse,destructor:function(){var e=this.constructor.Interface;for(var t in e)this[t]=null;for(var n=0;n<s.length;n++)this[s[n]]=null}}),r.Interface=u,r.augmentClass=function(e,t){var n=this,r=function(){};r.prototype=n.prototype;var a=new r;i(a,e.prototype),e.prototype=a,e.prototype.constructor=e,e.Interface=i({},n.Interface,t),e.augmentClass=n.augmentClass,o.addPoolingTo(e,o.fourArgumentPooler)},o.addPoolingTo(r,o.fourArgumentPooler),e.exports=r},function(e,t,n){"use strict";var r=n(11),i=n(582),o=n(132),a=n(587),s=n(583),u=n(584),l=n(61),c=n(585),p=n(591),f=n(214),d=(n(6),l.createElement),h=l.createFactory,y=l.cloneElement,_=r,m={Children:{map:i.map,forEach:i.forEach,count:i.count,toArray:i.toArray,only:f},Component:o,PureComponent:a,createElement:d,cloneElement:y,isValidElement:l.isValidElement,PropTypes:c,createClass:s.createClass,createFactory:h,createMixin:function(e){return e},DOM:u,version:p,__spread:_};e.exports=m},function(e,t){"use strict";var n={current:null};e.exports=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return function(t){return function(n){function r(e){i(this,r);var t=o(this,(r.__proto__||Object.getPrototypeOf(r)).call(this,e));return t.state={item:null},t.handleShow=t.handleShow.bind(t),t.handleHide=t.handleHide.bind(t),t}return a(r,n),l(r,[{key:"componentDidMount",value:function(){this.listenId=d.default.register(this.handleShow,this.handleHide)}},{key:"componentWillUnmount",value:function(){this.listenId&&d.default.unregister(this.listenId)}},{key:"handleShow",value:function(t){if(t.detail.id===e){var n={};for(var r in t.detail.data)["attributes","children","collect"].indexOf(r)===-1&&(n[r]=t.detail.data[r]);this.setState({item:n})}}},{key:"handleHide",value:function(){this.setState({item:null})}},{key:"render",value:function(){return p.default.createElement(t,u({},this.props,this.state))}}]),r}(p.default.Component)}}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();t.default=s;var c=n(1),p=r(c),f=n(172),d=r(f)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(404),o=r(i),a=n(14),s=r(a),u=n(1),l=r(u),c=function(e){var t=e.children,n=e.oneLine,r=e.className;return l.default.createElement("div",{className:"container-fluid container-fluid--noSpaceAround"},l.default.createElement("div",{className:(0,s.default)(o.default.grid,{"one-line":n},r,"row")},t&&t.map(function(e){return l.default.createElement("div",{key:e.key,className:"col-xs-6 col-sm-4 col-md-4 col-lg-3 col-xl-2"},e)})))};c.defaultProps={oneLine:!1,className:""},t.default=c},function(e,t){},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){return null==e||f.default.isValidElement(e)}function o(e){return i(e)||Array.isArray(e)&&e.every(i)}function a(e,t){return c({},e,t)}function s(e){var t=e.type,n=a(t.defaultProps,e.props);if(n.children){var r=u(n.children,n);r.length&&(n.childRoutes=r),delete n.children}return n}function u(e,t){var n=[];return f.default.Children.forEach(e,function(e){if(f.default.isValidElement(e))if(e.type.createRouteFromReactElement){var r=e.type.createRouteFromReactElement(e,t);r&&n.push(r)}else n.push(s(e))}),n}function l(e){return o(e)?e=u(e):e&&!Array.isArray(e)&&(e=[e]),e}t.__esModule=!0;var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.isReactChildren=o,t.createRouteFromReactElement=s,t.createRoutesFromReactChildren=u,t.createRoutes=l;var p=n(1),f=r(p)},function(e,t){"use strict";t.__esModule=!0;var n="PUSH";t.PUSH=n;var r="REPLACE";t.REPLACE=r;var i="POP";t.POP=i,t.default={PUSH:n,REPLACE:r,POP:i}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=e.match(/^https?:\/\/[^\/]*/);return null==t?e:e.substring(t[0].length)}function o(e){var t=i(e),n="",r="",o=t.indexOf("#");o!==-1&&(r=t.substring(o),t=t.substring(0,o));var a=t.indexOf("?");return a!==-1&&(n=t.substring(a),t=t.substring(0,a)),""===t&&(t="/"),{pathname:t,search:n,hash:r}}t.__esModule=!0,t.extractPath=i,t.parsePath=o;var a=n(36);r(a)},[660,10],function(e,t,n){"use strict";function r(e,t,n){if(e[t])return new Error("<"+n+'> should not have a "'+t+'" prop')}t.__esModule=!0,t.routes=t.route=t.components=t.component=t.history=void 0,t.falsy=r;var i=n(1),o=i.PropTypes.func,a=i.PropTypes.object,s=i.PropTypes.arrayOf,u=i.PropTypes.oneOfType,l=i.PropTypes.element,c=i.PropTypes.shape,p=i.PropTypes.string,f=(t.history=c({listen:o.isRequired,push:o.isRequired,replace:o.isRequired,go:o.isRequired,goBack:o.isRequired,goForward:o.isRequired}),t.component=u([o,p])),d=(t.components=u([f,a]),t.route=u([a,l]));t.routes=u([d,s(d)])},function(e,t,n){(function(t){"use strict";function r(e){return!(!a.loggingPredicate||!a.loggingPredicate(e))}var i=n(599),o="__dbgLoggerRegistry",a=t[o];a||(a={map:{},list:[],loggingPredicate:null},Object.defineProperty?Object.defineProperty(t,o,{value:a}):t[o]=a);var s=a.map,u=a.list,l="log";e.exports={intercept:function(e){if("function"!=typeof e)throw new TypeError("Logging.intercept requires a function predicate.");a.loggingPredicate=e},unintercept:function(){a.loggingPredicate=null},list:function(e){var t=Object.keys(s);t.sort();var n,r,i;if(e){var o=[];for(n=0,r=t.length;n<r;n++)i=t[n],s[i]&&o.push({tag:i,description:s[i].description||"No description."});return o}var a={};for(n=0,r=t.length;n<r;n++)i=t[n],s[i]&&(a[i]=s[i].description||"No description");return a},enable:function(e){for(var t=Array.isArray(e)?e:[e],n=t.length;n--;)for(var r=t[n].toLowerCase(),i=u.length;i--;){var o=u[i];o.matchesTag(r)&&o.enable()}},disable:function(e){for(var t=Array.isArray(e)?e:[e],n=t.length;n--;)for(var r=t[n].toLowerCase(),i=u.length;i--;){var o=u[i];o.matchesTag(r)&&o.disable()}},setLevel:function(e){l=e;for(var t=u.length;t--;){var n=u[t];n&&n.setLevel(e)}},enableAll:function(){for(var e=u.length;e--;)u[e]&&u[e].enable()},disableAll:function(){for(var e=u.length;e--;)u[e]&&u[e].disable()},forTag:function(e,t){var n,o;if("string"==typeof e?(n=e.toLowerCase(),o=t):(n=e.tag,o=e.description),s.hasOwnProperty(n)&&s[n])return s[n];var a=new i(n,o,r);return a.setLevel(l),s[n]=a,u.push(a),a},remove:function(e){var t=e.toLowerCase();if(s.hasOwnProperty(t)&&s[t]){var n=s[t];s[t]=null;var r=u.indexOf(n);r!==-1&&u.splice(r,1)}}}}).call(t,function(){return this}())},function(e,t,n){"use strict";t.Endpoints,t.EndpointsProvider,t.TokenProvider,t.SessionProviders,t.SessionConfig,t.Method={GET:"GET",POST:"POST",PUT:"PUT",DELETE:"DELETE",OPTIONS:"OPTIONS"},t.HTTPURI,t.HTTPArgs,t.HTTPResponse,t.DealerMessage,t.ClientEventData,t.RequestError=n(224),t.StatusCode={UNKNOWN:0,OK:200,CREATED:201,ACCEPTED:202,NO_CONTENT:204,PARTIAL_CONTENT:206,BAD_REQUEST:400,UNAUTHORIZED:401,PAYMENT_REQUIRED:402,FORBIDDEN:403,NOT_FOUND:404,METHOD_NOT_ALLOWED:405,NOT_ACCEPTABLE:406,PROXY_AUTHENTICATION_REQUIRED:407,TIMED_OUT:408,REQUEST_TIMEOUT:408,CONFLICT:409,GONE:410,LENGTH_REQUIRED:411,PRECONDITION_FAILED:412,REQUEST_ENTITY_TOO_LARGE:413,REQUEST_URI_TOO_LONG:414,UNSUPPORTED_MEDIA_TYPE:415,REQUESTED_RANGE_NOT_SATISFIABLE:416,EXPECTATION_FAILED:417,INTERNAL_SERVER_ERROR:500,NOT_IMPLEMENTED:501,BAD_GATEWAY:502,SERVICE_UNAVAILABLE:503,GATEWAY_TIMEOUT:504,HTTP_VERSION_NOT_SUPPORTED:505},t.StatusFamily={BROWSER_ERROR:0,INFORMATIONAL:1,SUCCESS:2,REDIRECTION:3,CLIENT_ERROR:4,SERVER_ERROR:5},t.INTERNAL_SOCKET_CLOSE_CODE=4e3},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=t.types={LOG_EXTERNAL_LINK:"LOG_EXTERNAL_LINK",LOG_PLAY:"LOG_PLAY",LOG_HARMONY_LOGIN:"LOG_HARMONY_LOGIN",LOG_AD_EVENT:"LOG_AD_EVENT"};t.logExternalLink=function(e){return{type:n.LOG_EXTERNAL_LINK,href:e}},t.logPlay=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return{type:n.LOG_PLAY,contextURI:e,index:t}},t.logHarmonyLogin=function(e){return{type:n.LOG_HARMONY_LOGIN,username:e}},t.logAdEvent=function(e){return{type:n.LOG_AD_EVENT,message:e}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=t.types={STORE_SEARCH:"STORE_SEARCH",SEARCH_HISTORY_CLEAR_DATA:"SEARCH_HISTORY_CLEAR_DATA"};t.storeContext=function(e,t){return{type:n.STORE_SEARCH,name:e,uri:t}},t.clearData=function(){return{type:n.SEARCH_HISTORY_CLEAR_DATA}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(434),l=(r(u),n(1)),c=r(l),p=n(297),f=r(p),d=n(7),h=n(75),y=r(h),_=n(142),m=r(_),v=n(13),g=r(v),b=function(e){function t(){i(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.handlePlay=e.handlePlay.bind(e),e.handleTogglePlay=e.handleTogglePlay.bind(e),e}return a(t,e),s(t,[{key:"shouldComponentUpdate",value:function(e){return this.props.tracks.length!==e.tracks.length||this.props.contextURI!==e.contextURI||this.props.playbackState.trackURI!==e.playbackState.trackURI||this.props.playbackState.contextURI!==e.playbackState.contextURI||this.props.playbackState.isPlaying!==e.playbackState.isPlaying}},{key:"handlePlay",value:function(e,t){var n=this.props.tracks[e],r=n.uri&&g.default.from(n.uri).type===g.default.Type.EPISODE||!1;if(n.is_playable||r)if(this.props.isContext)this.props.dispatch((0,d.playTrack)(e,t));else{var i=this.props.tracks.map(function(e){return e.uri});this.props.dispatch((0,d.playTracks)(e,i,t))}}},{key:"handleTogglePlay",value:function(){this.props.dispatch((0,d.togglePlay)())}},{key:"render",value:function(){var e=this,t=["tracklist-container"];return this.props.className&&t.push(this.props.className),c.default.createElement("section",{className:t.join(" ")},c.default.createElement("ol",{className:"tracklist"},this.props.tracks.map(function(t,n){var r=t.linked_from&&t.linked_from.uri||t.uri,i=t.uri&&g.default.from(t.uri).type===g.default.Type.EPISODE||!1,o=c.default.createElement(f.default,{track:t,index:n,key:n,contextURI:e.props.contextURI,playbackState:e.props.playbackState,onPlay:e.handlePlay,onTogglePlay:e.handleTogglePlay});return i?c.default.createElement(m.default,{uri:t.uri,context:e.props.contextURI,position:n,key:n},o):t.is_playable?c.default.createElement(y.default,{uri:r,context:e.props.contextURI,position:n,key:n},o):o})))}}]),t}(c.default.Component);b.defaultProps={isContext:!0},t.default=b},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=t.MetadataTypes={SIMPLE:0,FULL:1},r=t.hasSimpleMetadata=function(e){return e.metadataType===n.SIMPLE},i=t.hasFullMetadata=function(e){return!r(e)};t.flagAsFull=function(e){return i(e)?e:Object.assign({},e,{metadataType:n.FULL})},t.flagAsSimple=function(e){return r(e)?e:Object.assign({},e,{metadataType:n.SIMPLE})},t.mergeCollections=function(e,t){var n=function(e,t){return i(e)?e:t};return e.mergeWith(n,t)},t.getDailyMixImageFromUri=function(e){var t=e.split(":url:"),n="https://"+t[1],r="https://"+t[2],i=t[0].split(":"),o="https://mosaic.scdn.co/640/"+i[3].split(",").join("");return{waveImageUrl:n,textImageUrl:r,mosaicUrl:o}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(352),s=r(a),u=n(351),l=r(u),c=n(159),p=r(c),f=null,d=function(){function e(){i(this,e)}return o(e,null,[{key:"setStore",value:function(e){var t=this;e.subscribe(function(){t.getInstance().accessToken=e.getState().session.accessToken,t.getInstance().market="from_token",e.getState().session.accessToken||t.getInstance().resetPendingRequests()})}},{key:"setLocale",value:function(e){this.getInstance().locale=e}},{key:"getInstance",value:function(){return f||(p.default.setRequestImplementation(l.default),f=new s.default),f}}]),e}();t.default=d},function(e,t){"use strict";function n(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return"function"==typeof e&&e.apply(void 0,n)}function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function i(){return Math.random().toString(36).substring(7)}Object.defineProperty(t,"__esModule",{value:!0}),t.callIfExists=n,t.hasOwnProp=r,t.uniqueId=i;t.cssClasses={menu:"react-contextmenu",menuVisible:"react-contextmenu--visible",menuWrapper:"react-contextmenu-wrapper",menuItem:"react-contextmenu-item",menuItemActive:"react-contextmenu-item--active",menuItemDisabled:"react-contextmenu-item--disabled",subMenu:"react-contextmenu-submenu"},t.store={},t.canUseDOM=Boolean("undefined"!=typeof window&&window.document&&window.document.createElement)},function(e,t,n){"use strict";function r(e){if(_){var t=e.node,n=e.children;if(n.length)for(var r=0;r<n.length;r++)m(t,n[r],null);else null!=e.html?p(t,e.html):null!=e.text&&d(t,e.text)}}function i(e,t){e.parentNode.replaceChild(t.node,e),r(t)}function o(e,t){_?e.children.push(t):e.node.appendChild(t.node)}function a(e,t){_?e.html=t:p(e.node,t)}function s(e,t){_?e.text=t:d(e.node,t)}function u(){return this.node.nodeName}function l(e){return{node:e,children:[],html:null,text:null,toString:u}}var c=n(113),p=n(90),f=n(121),d=n(193),h=1,y=11,_="undefined"!=typeof document&&"number"==typeof document.documentMode||"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent&&/\bEdge\/\d/.test(navigator.userAgent),m=f(function(e,t,n){t.node.nodeType===y||t.node.nodeType===h&&"object"===t.node.nodeName.toLowerCase()&&(null==t.node.namespaceURI||t.node.namespaceURI===c.html)?(r(t),e.insertBefore(t.node,n)):(e.insertBefore(t.node,n),r(t))});l.insertTreeBefore=m,l.replaceChildWithTree=i,l.queueChild=o,l.queueHTML=a,l.queueText=s,e.exports=l},function(e,t,n){"use strict";function r(e,t){return(e&t)===t}var i=n(10),o=(n(4),{MUST_USE_PROPERTY:1,HAS_BOOLEAN_VALUE:4,HAS_NUMERIC_VALUE:8,HAS_POSITIVE_NUMERIC_VALUE:24,HAS_OVERLOADED_BOOLEAN_VALUE:32,injectDOMPropertyConfig:function(e){var t=o,n=e.Properties||{},a=e.DOMAttributeNamespaces||{},u=e.DOMAttributeNames||{},l=e.DOMPropertyNames||{},c=e.DOMMutationMethods||{};e.isCustomAttribute&&s._isCustomAttributeFunctions.push(e.isCustomAttribute);for(var p in n){s.properties.hasOwnProperty(p)?i("48",p):void 0;var f=p.toLowerCase(),d=n[p],h={attributeName:f,attributeNamespace:null,propertyName:p,mutationMethod:null,mustUseProperty:r(d,t.MUST_USE_PROPERTY),hasBooleanValue:r(d,t.HAS_BOOLEAN_VALUE),hasNumericValue:r(d,t.HAS_NUMERIC_VALUE),hasPositiveNumericValue:r(d,t.HAS_POSITIVE_NUMERIC_VALUE),hasOverloadedBooleanValue:r(d,t.HAS_OVERLOADED_BOOLEAN_VALUE)};if(h.hasBooleanValue+h.hasNumericValue+h.hasOverloadedBooleanValue<=1?void 0:i("50",p),u.hasOwnProperty(p)){var y=u[p];h.attributeName=y}a.hasOwnProperty(p)&&(h.attributeNamespace=a[p]),l.hasOwnProperty(p)&&(h.propertyName=l[p]),c.hasOwnProperty(p)&&(h.mutationMethod=c[p]),s.properties[p]=h}}}),a=":A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD",s={ID_ATTRIBUTE_NAME:"data-reactid",ROOT_ATTRIBUTE_NAME:"data-reactroot",ATTRIBUTE_NAME_START_CHAR:a,ATTRIBUTE_NAME_CHAR:a+"\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",properties:{},getPossibleStandardName:null,_isCustomAttributeFunctions:[],isCustomAttribute:function(e){for(var t=0;t<s._isCustomAttributeFunctions.length;t++){var n=s._isCustomAttributeFunctions[t];if(n(e))return!0}return!1},injection:o};e.exports=s},function(e,t,n){"use strict";function r(){i.attachRefs(this,this._currentElement)}var i=n(514),o=(n(33),n(6),{mountComponent:function(e,t,n,i,o,a){var s=e.mountComponent(t,n,i,o,a);return e._currentElement&&null!=e._currentElement.ref&&t.getReactMountReady().enqueue(r,e),s},getHostNode:function(e){return e.getHostNode()},unmountComponent:function(e,t){i.detachRefs(e,e._currentElement),e.unmountComponent(t)},receiveComponent:function(e,t,n,o){var a=e._currentElement;if(t!==a||o!==e._context){var s=i.shouldUpdateRefs(a,t);s&&i.detachRefs(e,a),e.receiveComponent(t,n,o),s&&e._currentElement&&null!=e._currentElement.ref&&n.getReactMountReady().enqueue(r,e)}},performUpdateIfNecessary:function(e,t,n){e._updateBatchNumber===n&&e.performUpdateIfNecessary(t)}});e.exports=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function o(e){for(var t="",n=[],r=[],o=void 0,a=0,s=/:([a-zA-Z_$][a-zA-Z0-9_$]*)|\*\*|\*|\(|\)/g;o=s.exec(e);)o.index!==a&&(r.push(e.slice(a,o.index)),t+=i(e.slice(a,o.index))),o[1]?(t+="([^/]+)",n.push(o[1])):"**"===o[0]?(t+="(.*)",n.push("splat")):"*"===o[0]?(t+="(.*?)",n.push("splat")):"("===o[0]?t+="(?:":")"===o[0]&&(t+=")?"),r.push(o[0]),a=s.lastIndex;return a!==e.length&&(r.push(e.slice(a,e.length)),t+=i(e.slice(a,e.length))),{pattern:e,regexpSource:t,paramNames:n,tokens:r}}function a(e){return d[e]||(d[e]=o(e)),d[e]}function s(e,t){"/"!==e.charAt(0)&&(e="/"+e);var n=a(e),r=n.regexpSource,i=n.paramNames,o=n.tokens;"/"!==e.charAt(e.length-1)&&(r+="/?"),"*"===o[o.length-1]&&(r+="$");var s=t.match(new RegExp("^"+r,"i"));if(null==s)return null;var u=s[0],l=t.substr(u.length);if(l){if("/"!==u.charAt(u.length-1))return null;l="/"+l}return{remainingPathname:l,paramNames:i,paramValues:s.slice(1).map(function(e){return e&&decodeURIComponent(e)})}}function u(e){return a(e).paramNames}function l(e,t){var n=s(e,t);if(!n)return null;var r=n.paramNames,i=n.paramValues,o={};return r.forEach(function(e,t){o[e]=i[t]}),o}function c(e,t){t=t||{};for(var n=a(e),r=n.tokens,i=0,o="",s=0,u=void 0,l=void 0,c=void 0,p=0,d=r.length;p<d;++p)u=r[p],"*"===u||"**"===u?(c=Array.isArray(t.splat)?t.splat[s++]:t.splat,null!=c||i>0?void 0:(0,f.default)(!1),null!=c&&(o+=encodeURI(c))):"("===u?i+=1:")"===u?i-=1:":"===u.charAt(0)?(l=u.substring(1),c=t[l],null!=c||i>0?void 0:(0,f.default)(!1),null!=c&&(o+=encodeURIComponent(c))):o+=u;return o.replace(/\/+/g,"/")}t.__esModule=!0,t.compilePattern=a,t.matchPattern=s,t.getParamNames=u,t.getParams=l,t.formatPattern=c;var p=n(21),f=r(p),d=Object.create(null)},function(e,t,n){"use strict";function r(e){return void 0!==e.ref}function i(e){return void 0!==e.key}var o=n(11),a=n(40),s=(n(6),n(212),Object.prototype.hasOwnProperty),u=n(210),l={key:!0,ref:!0,__self:!0,__source:!0},c=function(e,t,n,r,i,o,a){var s={$$typeof:u,type:e,key:t,ref:n,
props:a,_owner:o};return s};c.createElement=function(e,t,n){var o,u={},p=null,f=null,d=null,h=null;if(null!=t){r(t)&&(f=t.ref),i(t)&&(p=""+t.key),d=void 0===t.__self?null:t.__self,h=void 0===t.__source?null:t.__source;for(o in t)s.call(t,o)&&!l.hasOwnProperty(o)&&(u[o]=t[o])}var y=arguments.length-2;if(1===y)u.children=n;else if(y>1){for(var _=Array(y),m=0;m<y;m++)_[m]=arguments[m+2];u.children=_}if(e&&e.defaultProps){var v=e.defaultProps;for(o in v)void 0===u[o]&&(u[o]=v[o])}return c(e,p,f,d,h,a.current,u)},c.createFactory=function(e){var t=c.createElement.bind(null,e);return t.type=e,t},c.cloneAndReplaceKey=function(e,t){var n=c(e.type,t,e.ref,e._self,e._source,e._owner,e.props);return n},c.cloneElement=function(e,t,n){var u,p=o({},e.props),f=e.key,d=e.ref,h=e._self,y=e._source,_=e._owner;if(null!=t){r(t)&&(d=t.ref,_=a.current),i(t)&&(f=""+t.key);var m;e.type&&e.type.defaultProps&&(m=e.type.defaultProps);for(u in t)s.call(t,u)&&!l.hasOwnProperty(u)&&(void 0===t[u]&&void 0!==m?p[u]=m[u]:p[u]=t[u])}var v=arguments.length-2;if(1===v)p.children=n;else if(v>1){for(var g=Array(v),b=0;b<v;b++)g[b]=arguments[b+2];p.children=g}return c(e.type,f,d,h,y,_,p)},c.isValidElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===u},e.exports=c},10,function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(26);Object.defineProperty(t,"Button",{enumerable:!0,get:function(){return r(i).default}});var o=n(240);Object.defineProperty(t,"ButtonGroup",{enumerable:!0,get:function(){return r(o).default}})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(398),o=(r(i),n(1)),a=r(o),s=n(2),u=n(26),l=r(u),c=function(e){return a.default.createElement("section",{className:"collection-empty-message container-fluid"},a.default.createElement("div",{className:"row"},a.default.createElement("div",{className:"col-xs-12"},e.children,a.default.createElement("h1",{className:"title"},(0,s._)("collection.empty-page.page-title")),a.default.createElement("h4",{className:"subtitle"},e.message),a.default.createElement(l.default,{linkTo:"/browse",className:"btn-green cta-button"},(0,s._)("collection.empty-page.cta-title")))))};t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(1),a=r(o),s=n(24),u=n(23),l=function(e){return e};t.default=function(e){return e.uri?a.default.createElement(s.ContextMenuTrigger,i({id:u.ALBUM_MENU_ID,collect:l},e)):a.default.createElement("span",null,e.children)}},function(e,t,n){"use strict";var r={};e.exports=r},function(e,t){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(e){if(c===setTimeout)return setTimeout(e,0);if((c===n||!c)&&setTimeout)return c=setTimeout,setTimeout(e,0);try{return c(e,0)}catch(t){try{return c.call(null,e,0)}catch(t){return c.call(this,e,0)}}}function o(e){if(p===clearTimeout)return clearTimeout(e);if((p===r||!p)&&clearTimeout)return p=clearTimeout,clearTimeout(e);try{return p(e)}catch(t){try{return p.call(null,e)}catch(t){return p.call(this,e)}}}function a(){y&&d&&(y=!1,d.length?h=d.concat(h):_=-1,h.length&&s())}function s(){if(!y){var e=i(a);y=!0;for(var t=h.length;t;){for(d=h,h=[];++_<t;)d&&d[_].run();_=-1,t=h.length}d=null,y=!1,o(e)}}function u(e,t){this.fun=e,this.array=t}function l(){}var c,p,f=e.exports={};!function(){try{c="function"==typeof setTimeout?setTimeout:n}catch(e){c=n}try{p="function"==typeof clearTimeout?clearTimeout:r}catch(e){p=r}}();var d,h=[],y=!1,_=-1;f.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];h.push(new u(e,t)),1!==h.length||y||i(s)},u.prototype.run=function(){this.fun.apply(null,this.array)},f.title="browser",f.browser=!0,f.env={},f.argv=[],f.version="",f.versions={},f.on=l,f.addListener=l,f.once=l,f.off=l,f.removeListener=l,f.removeAllListeners=l,f.emit=l,f.binding=function(e){throw new Error("process.binding is not supported")},f.cwd=function(){return"/"},f.chdir=function(e){throw new Error("process.chdir is not supported")},f.umask=function(){return 0}},function(e,t,n){"use strict";function r(e){return"button"===e||"input"===e||"select"===e||"textarea"===e}function i(e,t,n){switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":return!(!n.disabled||!r(t));default:return!1}}var o=n(10),a=n(114),s=n(115),u=n(119),l=n(186),c=n(187),p=(n(4),{}),f=null,d=function(e,t){e&&(s.executeDispatchesInOrder(e,t),e.isPersistent()||e.constructor.release(e))},h=function(e){return d(e,!0)},y=function(e){return d(e,!1)},_=function(e){return"."+e._rootNodeID},m={injection:{injectEventPluginOrder:a.injectEventPluginOrder,injectEventPluginsByName:a.injectEventPluginsByName},putListener:function(e,t,n){"function"!=typeof n?o("94",t,typeof n):void 0;var r=_(e),i=p[t]||(p[t]={});i[r]=n;var s=a.registrationNameModules[t];s&&s.didPutListener&&s.didPutListener(e,t,n)},getListener:function(e,t){var n=p[t];if(i(t,e._currentElement.type,e._currentElement.props))return null;var r=_(e);return n&&n[r]},deleteListener:function(e,t){var n=a.registrationNameModules[t];n&&n.willDeleteListener&&n.willDeleteListener(e,t);var r=p[t];if(r){var i=_(e);delete r[i]}},deleteAllListeners:function(e){var t=_(e);for(var n in p)if(p.hasOwnProperty(n)&&p[n][t]){var r=a.registrationNameModules[n];r&&r.willDeleteListener&&r.willDeleteListener(e,n),delete p[n][t]}},extractEvents:function(e,t,n,r){for(var i,o=a.plugins,s=0;s<o.length;s++){var u=o[s];if(u){var c=u.extractEvents(e,t,n,r);c&&(i=l(i,c))}}return i},enqueueEvents:function(e){e&&(f=l(f,e))},processEventQueue:function(e){var t=f;f=null,e?c(t,h):c(t,y),f?o("95"):void 0,u.rethrowCaughtError()},__purge:function(){p={}},__getListenerBank:function(){return p}};e.exports=m},function(e,t,n){"use strict";function r(e,t,n){var r=t.dispatchConfig.phasedRegistrationNames[n];return m(e,r)}function i(e,t,n){var i=r(e,n,t);i&&(n._dispatchListeners=y(n._dispatchListeners,i),n._dispatchInstances=y(n._dispatchInstances,e))}function o(e){e&&e.dispatchConfig.phasedRegistrationNames&&h.traverseTwoPhase(e._targetInst,i,e)}function a(e){if(e&&e.dispatchConfig.phasedRegistrationNames){var t=e._targetInst,n=t?h.getParentInstance(t):null;h.traverseTwoPhase(n,i,e)}}function s(e,t,n){if(n&&n.dispatchConfig.registrationName){var r=n.dispatchConfig.registrationName,i=m(e,r);i&&(n._dispatchListeners=y(n._dispatchListeners,i),n._dispatchInstances=y(n._dispatchInstances,e))}}function u(e){e&&e.dispatchConfig.registrationName&&s(e._targetInst,null,e)}function l(e){_(e,o)}function c(e){_(e,a)}function p(e,t,n,r){h.traverseEnterLeave(n,r,s,e,t)}function f(e){_(e,u)}var d=n(68),h=n(115),y=n(186),_=n(187),m=(n(6),d.getListener),v={accumulateTwoPhaseDispatches:l,accumulateTwoPhaseDispatchesSkipTarget:c,accumulateDirectDispatches:f,accumulateEnterLeaveDispatches:p};e.exports=v},function(e,t){"use strict";var n={remove:function(e){e._reactInternalInstance=void 0},get:function(e){return e._reactInternalInstance},has:function(e){return void 0!==e._reactInternalInstance},set:function(e,t){e._reactInternalInstance=t}};e.exports=n},function(e,t,n){"use strict";function r(e,t,n,r){return i.call(this,e,t,n,r)}var i=n(38),o=n(124),a={view:function(e){if(e.view)return e.view;var t=o(e);if(t.window===t)return t;var n=t.ownerDocument;return n?n.defaultView||n.parentWindow:window},detail:function(e){return e.detail||0}};i.augmentClass(r,a),e.exports=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.routerMiddleware=t.routerActions=t.goForward=t.goBack=t.go=t.replace=t.push=t.CALL_HISTORY_METHOD=t.routerReducer=t.LOCATION_CHANGE=t.syncHistoryWithStore=void 0;var i=n(201);Object.defineProperty(t,"LOCATION_CHANGE",{enumerable:!0,get:function(){return i.LOCATION_CHANGE}}),Object.defineProperty(t,"routerReducer",{enumerable:!0,get:function(){return i.routerReducer}});var o=n(200);Object.defineProperty(t,"CALL_HISTORY_METHOD",{enumerable:!0,get:function(){return o.CALL_HISTORY_METHOD}}),Object.defineProperty(t,"push",{enumerable:!0,get:function(){return o.push}}),Object.defineProperty(t,"replace",{enumerable:!0,get:function(){return o.replace}}),Object.defineProperty(t,"go",{enumerable:!0,get:function(){return o.go}}),Object.defineProperty(t,"goBack",{enumerable:!0,get:function(){return o.goBack}}),Object.defineProperty(t,"goForward",{enumerable:!0,get:function(){return o.goForward}}),Object.defineProperty(t,"routerActions",{enumerable:!0,get:function(){return o.routerActions}});var a=n(554),s=r(a),u=n(553),l=r(u);t.syncHistoryWithStore=s.default,t.routerMiddleware=l.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),n(80);var i=n(1),o=r(i),a=n(42),s=r(a),u=n(35),l=r(u),c=function(e){var t=e.artists,n=e.playbackState,r=e.onPlayArtist,i=e.onSelectArtist,a=e.oneLine;return t?o.default.createElement("section",null,o.default.createElement(s.default,{oneLine:a},t.map(function(e){return o.default.createElement(l.default,{key:e.id,entity:e,playbackState:n,onClickPlay:r,onClick:i,owners:[],rounded:!0,maxWidth:450})}))):o.default.createElement("div",null)};c.defaultProps={oneLine:!1,onSelectArtist:function(){}},t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(1),a=r(o),s=n(24),u=n(23),l=function(e){return e};t.default=function(e){return e.uri?a.default.createElement(s.ContextMenuTrigger,i({id:u.ARTIST_MENU_ID,collect:l},e)):a.default.createElement("span",null,e.children)}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(1),a=r(o),s=n(24),u=n(23),l=function(e){return e};t.default=function(e){return a.default.createElement(s.ContextMenuTrigger,i({id:u.TRACK_MENU_ID,collect:l},e))}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(400),o=(r(i),n(1)),a=r(o),s=n(253),u=r(s),l=n(15),c=function(e){var t="cover-art shadow";return e.className&&(t=t+" "+e.className),e.href?a.default.createElement(l.Link,{to:e.href,onClick:e.onClick,className:t},a.default.createElement(u.default,{src:e.imgSrc,type:e.type}),e.children):a.default.createElement("div",{className:t,onClick:e.onClick},a.default.createElement(u.default,{src:e.imgSrc,type:e.type}),e.children)};c.defaultProps={onClick:function(){}},t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=e.links,n=e.onlyActiveOnIndex;return u.default.createElement("nav",{className:a.default.container},u.default.createElement("ul",{className:a.default.header},t.map(function(e){return u.default.createElement("li",{key:e.to,className:a.default.headerItem},u.default.createElement(l.Link,{className:a.default.headerItemLink,activeClassName:a.default.active,to:e.to,onlyActiveOnIndex:n},e.title))})))}Object.defineProperty(t,"__esModule",{value:!0});var o=n(433),a=r(o),s=n(1),u=r(s),l=n(15);i.defaultProps={onlyActiveOnIndex:!1},t.default=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(436),l=(r(u),n(1)),c=r(l),p=n(2),f=n(35),d=r(f),h=n(15),y=n(13),_=r(y),m=n(9),v=r(m),g=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return a(t,e),s(t,[{key:"shouldComponentUpdate",value:function(e){return!(0,v.default)(this.props.owners,e.owners)||this.props.playbackState.isPlaying!==e.playbackState.isPlaying||this.props.playbackState.contextURI!==e.playbackState.contextURI||this.props.isFollowing!==e.isFollowing||this.props.totalTracks!==e.totalTracks||this.props.description!==e.description||this.props.entity.uri!==e.entity.uri||this.props.isSaved!==e.isSaved}},{key:"stripTags",value:function(e){var t=function(e){return e.textContent||e.innerText||""},n=document.createElement("div");return n.innerHTML=e,n.innerHTML=t(n),t(n)}},{key:"render",value:function(){var e=this.props.owners,t=void 0!==this.props.entity.waveImageUrl,n=this.props.entity.type&&"show"===this.props.entity.type||!1,r=this.props.user&&(this.props.user.display_name||this.props.user.name||this.props.user.id)||"",i=n?"tracklist-header.episodes-counter":"tracklist-header.songs-counter";return c.default.createElement("header",{className:"entity-info"},c.default.createElement(d.default,{key:this.props.entity.id||this.props.entity.uri,entity:this.props.entity,playbackState:this.props.playbackState,onClickPlay:this.props.onClickPlay,owners:e,isDailyMix:t,metaText:t?(0,p._)("tracklist-header.daily-mix-endless-mix",r):void 0,dailyMixWaveUrl:this.props.entity.waveImageUrl,dailyMixTextUrl:this.props.entity.textImageUrl,isLinking:!1,isPlayable:this.props.isPlayable}),c.default.createElement("div",{className:"media-bd"},c.default.createElement("div",{className:"entity-name"},c.default.createElement("h2",null,this.props.entity.name),t?c.default.createElement("span",null,(0,p._)("tracklist-header.daily-mix-endless-mix",r)):null,e&&e.length?c.default.createElement("div",null,c.default.createElement("span",null,(0,p._)("tracklist-header.by")," "),e.map(function(t,n){var r=null!==t.uri,i=t.display_name||t.name||t.id;return c.default.createElement("span",{key:n},r?c.default.createElement(h.Link,{to:_.default.from(t.uri).toURLPath(!0)},i):i,n<e.length-1?", ":"")})):null),this.props.description?c.default.createElement("p",{className:"entity-long-description"},this.stripTags(this.props.description)):null,t?null:c.default.createElement("p",{className:"text-silence entity-additional-info"},this.props.totalTracks?(0,p._)(i,this.props.totalTracks.toLocaleString(p.I18n.getInstance().locale)):" "),this.props.children))}}]),t}(c.default.Component);g.defaultProps={isPlayable:!0},t.default=g},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0}),t.Show=t.Radio=t.Views=t.Logs=t.Connect=t.Follow=t.Track=t.Collection=t.User=t.Search=t.Playlist=t.Generic=t.Artist=t.Album=void 0;var i=n(338),o=r(i),a=n(339),s=r(a),u=n(343),l=r(u),c=n(346),p=r(c),f=n(349),d=r(f),h=n(344),y=r(h),_=n(340),m=r(_),v=n(348),g=r(v),b=n(342),E=r(b),S=n(341),T=r(S),w=n(157),C=r(w),O=n(350),k=r(O),R=n(345),P=r(R),I=n(347),A=r(I);t.Album=o,t.Artist=s,t.Generic=l,t.Playlist=y,t.Search=p,t.User=d,t.Collection=m,t.Track=g,t.Follow=E,t.Connect=T,t.Logs=C,t.Views=k,t.Radio=P,t.Show=A},function(e,t){e.exports={content:"_2ZxgeVkL10CBSK4Q8YP29g"}},43,function(e,t){"use strict";t.__esModule=!0;var n=!("undefined"==typeof window||!window.document||!window.document.createElement);t.canUseDOM=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){return u.stringify(e).replace(/%20/g,"+")}function o(e){return function(){function t(e){if(null==e.query){var t=e.search;e.query=S(t.substring(1)),e[h]={search:t,searchBase:""}}return e}function n(e,t){var n,r=e[h],i=t?E(t):"";if(!r&&!i)return e;"string"==typeof e&&(e=p.parsePath(e));var o=void 0;o=r&&e.search===r.search?r.searchBase:e.search||"";var s=o;return i&&(s+=(s?"&":"?")+i),a({},e,(n={search:s},n[h]={search:s,searchBase:o},n))}function r(e){return b.listenBefore(function(n,r){c.default(e,t(n),r)})}function o(e){return b.listen(function(n){e(t(n))})}function s(e){b.push(n(e,e.query))}function u(e){b.replace(n(e,e.query))}function l(e,t){return b.createPath(n(e,t||e.query))}function f(e,t){return b.createHref(n(e,t||e.query))}function _(e){for(var r=arguments.length,i=Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];var a=b.createLocation.apply(b,[n(e,e.query)].concat(i));return e.query&&(a.query=e.query),t(a)}function m(e,t,n){"string"==typeof t&&(t=p.parsePath(t)),s(a({state:e},t,{query:n}))}function v(e,t,n){"string"==typeof t&&(t=p.parsePath(t)),u(a({state:e},t,{query:n}))}var g=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],b=e(g),E=g.stringifyQuery,S=g.parseQueryString;return"function"!=typeof E&&(E=i),"function"!=typeof S&&(S=y),a({},b,{listenBefore:r,listen:o,push:s,replace:u,createPath:l,createHref:f,createLocation:_,pushState:d.default(m,"pushState is deprecated; use push instead"),replaceState:d.default(v,"replaceState is deprecated; use replace instead")})}}t.__esModule=!0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=n(36),u=(r(s),n(471)),l=n(110),c=r(l),p=n(46),f=n(109),d=r(f),h="$searchBase",y=u.parse;t.default=o,e.exports=t.default},function(e,t,n){e.exports=n(473)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:window,r=void 0;"function"==typeof window.CustomEvent?r=new window.CustomEvent(e,{detail:t}):(r=document.createEvent("CustomEvent"),r.initCustomEvent(e,!1,!0,t)),n&&(n.dispatchEvent(r),(0,u.default)(l.store,t))}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];i(c,(0,u.default)({},e,{type:c}),t)}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];i(p,(0,u.default)({},e,{type:p}),t)}Object.defineProperty(t,"__esModule",{value:!0}),t.MENU_HIDE=t.MENU_SHOW=void 0,t.dispatchGlobalEvent=i,t.showMenu=o,t.hideMenu=a;var s=n(11),u=r(s),l=n(56),c=t.MENU_SHOW="REACT_CONTEXTMENU_SHOW",p=t.MENU_HIDE="REACT_CONTEXTMENU_HIDE"},function(e,t,n){"use strict";function r(e){return Object.prototype.hasOwnProperty.call(e,y)||(e[y]=d++,p[e[y]]={}),p[e[y]]}var i,o=n(11),a=n(114),s=n(506),u=n(185),l=n(190),c=n(125),p={},f=!1,d=0,h={topAbort:"abort",topAnimationEnd:l("animationend")||"animationend",topAnimationIteration:l("animationiteration")||"animationiteration",topAnimationStart:l("animationstart")||"animationstart",topBlur:"blur",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topChange:"change",topClick:"click",topCompositionEnd:"compositionend",topCompositionStart:"compositionstart",topCompositionUpdate:"compositionupdate",topContextMenu:"contextmenu",topCopy:"copy",topCut:"cut",topDoubleClick:"dblclick",topDrag:"drag",topDragEnd:"dragend",topDragEnter:"dragenter",topDragExit:"dragexit",topDragLeave:"dragleave",topDragOver:"dragover",topDragStart:"dragstart",topDrop:"drop",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topFocus:"focus",topInput:"input",topKeyDown:"keydown",topKeyPress:"keypress",topKeyUp:"keyup",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topMouseDown:"mousedown",topMouseMove:"mousemove",topMouseOut:"mouseout",topMouseOver:"mouseover",topMouseUp:"mouseup",topPaste:"paste",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topScroll:"scroll",topSeeked:"seeked",topSeeking:"seeking",topSelectionChange:"selectionchange",topStalled:"stalled",topSuspend:"suspend",topTextInput:"textInput",topTimeUpdate:"timeupdate",topTouchCancel:"touchcancel",topTouchEnd:"touchend",topTouchMove:"touchmove",topTouchStart:"touchstart",topTransitionEnd:l("transitionend")||"transitionend",topVolumeChange:"volumechange",topWaiting:"waiting",topWheel:"wheel"},y="_reactListenersID"+String(Math.random()).slice(2),_=o({},s,{ReactEventListener:null,injection:{injectReactEventListener:function(e){e.setHandleTopLevel(_.handleTopLevel),_.ReactEventListener=e}},setEnabled:function(e){_.ReactEventListener&&_.ReactEventListener.setEnabled(e)},isEnabled:function(){return!(!_.ReactEventListener||!_.ReactEventListener.isEnabled())},listenTo:function(e,t){for(var n=t,i=r(n),o=a.registrationNameDependencies[e],s=0;s<o.length;s++){var u=o[s];i.hasOwnProperty(u)&&i[u]||("topWheel"===u?c("wheel")?_.ReactEventListener.trapBubbledEvent("topWheel","wheel",n):c("mousewheel")?_.ReactEventListener.trapBubbledEvent("topWheel","mousewheel",n):_.ReactEventListener.trapBubbledEvent("topWheel","DOMMouseScroll",n):"topScroll"===u?c("scroll",!0)?_.ReactEventListener.trapCapturedEvent("topScroll","scroll",n):_.ReactEventListener.trapBubbledEvent("topScroll","scroll",_.ReactEventListener.WINDOW_HANDLE):"topFocus"===u||"topBlur"===u?(c("focus",!0)?(_.ReactEventListener.trapCapturedEvent("topFocus","focus",n),_.ReactEventListener.trapCapturedEvent("topBlur","blur",n)):c("focusin")&&(_.ReactEventListener.trapBubbledEvent("topFocus","focusin",n),_.ReactEventListener.trapBubbledEvent("topBlur","focusout",n)),i.topBlur=!0,i.topFocus=!0):h.hasOwnProperty(u)&&_.ReactEventListener.trapBubbledEvent(u,h[u],n),i[u]=!0)}},trapBubbledEvent:function(e,t,n){return _.ReactEventListener.trapBubbledEvent(e,t,n)},trapCapturedEvent:function(e,t,n){return _.ReactEventListener.trapCapturedEvent(e,t,n)},supportsEventPageXY:function(){if(!document.createEvent)return!1;var e=document.createEvent("MouseEvent");return null!=e&&"pageX"in e},ensureScrollValueMonitoring:function(){if(void 0===i&&(i=_.supportsEventPageXY()),!i&&!f){var e=u.refreshScrollValues;_.ReactEventListener.monitorScrollValue(e),f=!0}}});e.exports=_},function(e,t,n){"use strict";function r(e,t,n,r){return i.call(this,e,t,n,r)}var i=n(71),o=n(185),a=n(123),s={screenX:null,screenY:null,clientX:null,clientY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:a,button:function(e){var t=e.button;return"which"in e?t:2===t?2:4===t?1:0},buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},pageX:function(e){return"pageX"in e?e.pageX:e.clientX+o.currentScrollLeft},pageY:function(e){return"pageY"in e?e.pageY:e.clientY+o.currentScrollTop}};i.augmentClass(r,s),e.exports=r},function(e,t,n){"use strict";var r=n(10),i=(n(4),{}),o={reinitializeTransaction:function(){this.transactionWrappers=this.getTransactionWrappers(),this.wrapperInitData?this.wrapperInitData.length=0:this.wrapperInitData=[],this._isInTransaction=!1},_isInTransaction:!1,getTransactionWrappers:null,isInTransaction:function(){return!!this._isInTransaction},perform:function(e,t,n,i,o,a,s,u){this.isInTransaction()?r("27"):void 0;var l,c;try{this._isInTransaction=!0,l=!0,this.initializeAll(0),c=e.call(t,n,i,o,a,s,u),l=!1}finally{try{if(l)try{this.closeAll(0)}catch(e){}else this.closeAll(0)}finally{this._isInTransaction=!1}}return c},initializeAll:function(e){for(var t=this.transactionWrappers,n=e;n<t.length;n++){var r=t[n];try{this.wrapperInitData[n]=i,this.wrapperInitData[n]=r.initialize?r.initialize.call(this):null}finally{if(this.wrapperInitData[n]===i)try{this.initializeAll(n+1)}catch(e){}}}},closeAll:function(e){this.isInTransaction()?void 0:r("28");for(var t=this.transactionWrappers,n=e;n<t.length;n++){var o,a=t[n],s=this.wrapperInitData[n];try{o=!0,s!==i&&a.close&&a.close.call(this,s),o=!1}finally{if(o)try{this.closeAll(n+1)}catch(e){}}}this.wrapperInitData.length=0}};e.exports=o},function(e,t){"use strict";function n(e){var t=""+e,n=i.exec(t);if(!n)return t;var r,o="",a=0,s=0;for(a=n.index;a<t.length;a++){switch(t.charCodeAt(a)){case 34:r="&quot;";break;case 38:r="&amp;";break;case 39:r="&#x27;";break;case 60:r="&lt;";break;case 62:r="&gt;";break;default:continue}s!==a&&(o+=t.substring(s,a)),s=a+1,o+=r}return s!==a?o+t.substring(s,a):o}function r(e){return"boolean"==typeof e||"number"==typeof e?""+e:n(e)}var i=/["'&<>]/;e.exports=r},function(e,t,n){"use strict";var r,i=n(25),o=n(113),a=/^[ \r\n\t\f]/,s=/<(!--|link|noscript|meta|script|style)[ \r\n\t\f\/>]/,u=n(121),l=u(function(e,t){if(e.namespaceURI!==o.svg||"innerHTML"in e)e.innerHTML=t;else{r=r||document.createElement("div"),r.innerHTML="<svg>"+t+"</svg>";for(var n=r.firstChild;n.firstChild;)e.appendChild(n.firstChild)}});if(i.canUseDOM){var c=document.createElement("div");c.innerHTML=" ",""===c.innerHTML&&(l=function(e,t){if(e.parentNode&&e.parentNode.replaceChild(e,e),a.test(t)||"<"===t[0]&&s.test(t)){e.innerHTML=String.fromCharCode(65279)+t;var n=e.firstChild;1===n.data.length?e.removeChild(n):n.deleteData(0,1)}else e.innerHTML=t}),c=null}e.exports=l},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e},o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(21),s=r(a),u=n(1),l=r(u),c=n(92),p=(r(c),n(571)),f=r(p),d=n(44),h=n(22),y=(r(h),l.default.PropTypes),_=y.array,m=y.func,v=y.object,g=l.default.createClass({displayName:"RouterContext",propTypes:{history:v,router:v.isRequired,location:v.isRequired,routes:_.isRequired,params:v.isRequired,components:_.isRequired,createElement:m.isRequired},getDefaultProps:function(){return{createElement:l.default.createElement}},childContextTypes:{history:v,location:v.isRequired,router:v.isRequired},getChildContext:function(){var e=this.props,t=e.router,n=e.history,r=e.location;return t||(t=o({},n,{setRouteLeaveHook:n.listenBeforeLeavingRoute}),delete t.listenBeforeLeavingRoute),{history:n,location:r,router:t}},createElement:function(e,t){return null==e?null:this.props.createElement(e,t)},render:function(){var e=this,t=this.props,n=t.history,r=t.location,a=t.routes,u=t.params,c=t.components,p=null;return c&&(p=c.reduceRight(function(t,s,l){if(null==s)return t;var c=a[l],p=(0,f.default)(c,u),h={history:n,location:r,params:u,route:c,routeParams:p,routes:a};if((0,d.isReactChildren)(t))h.children=t;else if(t)for(var y in t)Object.prototype.hasOwnProperty.call(t,y)&&(h[y]=t[y]);if("object"===("undefined"==typeof s?"undefined":i(s))){var _={};for(var m in s)Object.prototype.hasOwnProperty.call(s,m)&&(_[m]=e.createElement(s[m],o({key:m},h)));return _}return e.createElement(s,h)},p)),null===p||p===!1||l.default.isValidElement(p)?void 0:(0,s.default)(!1),p}});t.default=g,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.canUseMembrane=void 0;var i=n(22),o=(r(i),t.canUseMembrane=!1,function(e){return e});t.default=o},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=t.types={SHOW_FEEDBACK:"SHOW_FEEDBACK",CLOSE_FEEDBACK:"CLOSE_FEEDBACK"};t.feedbackTypes={INFO:"INFO",ERROR:"ERROR",NOTICE:"NOTICE"},t.showFeedback=function(e,t,r){return{type:n.SHOW_FEEDBACK,message:e,feedbackType:t,allowHTML:r}},t.closeFeedback=function(){return{type:n.CLOSE_FEEDBACK}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=t.types={STORE_CONTEXT:"STORE_CONTEXT",PLAYBACK_HISTORY_CLEAR_DATA:"PLAYBACK_HISTORY_CLEAR_DATA"};t.storeContext=function(e,t){return{type:n.STORE_CONTEXT,name:e,uri:t}},t.clearData=function(){return{type:n.PLAYBACK_HISTORY_CLEAR_DATA}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(80);var u=n(1),l=r(u),c=n(42),p=r(c),f=n(35),d=r(f),h=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return a(t,e),s(t,[{key:"render",value:function(){var e=this;return l.default.createElement("section",null,l.default.createElement(p.default,{oneLine:this.props.oneLine},this.props.albums.map(function(t){return l.default.createElement(d.default,{key:t.id,entity:t,playbackState:e.props.playbackState,onClickPlay:e.props.onPlayAlbum,onClick:e.props.onSelectAlbum,owners:t.artists||[],maxWidth:450})})))}}]),t}(l.default.Component);h.defaultProps={oneLine:!1,onSelectAlbum:function(){}},t.default=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(80);var u=n(1),l=r(u),c=n(42),p=r(c),f=n(35),d=r(f),h=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return a(t,e),s(t,[{key:"render",value:function(){var e=this;return l.default.createElement("section",null,l.default.createElement(p.default,{oneLine:this.props.oneLine},this.props.playlists.map(function(t){var n=e.props.users&&e.props.users[t.owner.uri]&&[e.props.users[t.owner.uri]]||[t.owner];return l.default.createElement(d.default,{key:t.id,entity:t,playbackState:e.props.playbackState,onClickPlay:e.props.onPlayPlaylist,onClick:e.props.onSelectPlaylist,
owners:n,maxWidth:450})})))}}]),t}(l.default.Component);h.defaultProps={oneLine:!1,onSelectPlaylist:function(){}},t.default=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=e.tracks,n=e.playbackState,r=e.contextURI,i=e.dispatch,o=e.isContext;return a.default.createElement("section",null,a.default.createElement(u.default,{tracks:t,playbackState:n,contextURI:r,dispatch:i,isContext:o}))}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=r(o),s=n(53),u=r(s);i.defaultProps={isContext:!0},t.default=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(1),a=r(o),s=n(24),u=n(23),l=function(e){return e};t.default=function(e){return a.default.createElement(s.ContextMenuTrigger,i({id:u.PLAYLIST_MENU_ID,collect:l},e))}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=r(i);t.default=function(){return o.default.createElement("svg",{width:"32",height:"32",viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg"},o.default.createElement("title",null,"Close"),o.default.createElement("path",{d:"M31.098 29.794L16.955 15.65 31.097 1.51 29.683.093 15.54 14.237 1.4.094-.016 1.508 14.126 15.65-.016 29.795l1.414 1.414L15.54 17.065l14.144 14.143",fill:"#FFF",fillRule:"evenodd"}))}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),l=r(u),c=function(e){function t(e){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return a(t,e),s(t,[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"render",value:function(){return l.default.createElement("div",{className:"icon"},l.default.createElement("svg",{width:"80",height:"90",viewBox:"0 0 80 90",xmlns:"http://www.w3.org/2000/svg"},l.default.createElement("title",null,"User Icon"),l.default.createElement("path",{d:"M67.74 61.78l-14.5-8.334c-.735-.422-1.24-1.145-1.385-1.98-.145-.835.088-1.685.638-2.33l5.912-6.93c3.747-4.378 5.81-9.967 5.81-15.737v-2.256c0-6.668-2.792-13.108-7.658-17.67C51.622 1.92 45.17-.386 38.392.054c-12.677.82-22.607 11.772-22.607 24.934v1.483c0 5.77 2.063 11.36 5.81 15.736l5.912 6.933c.55.644.783 1.493.638 2.33-.143.834-.648 1.556-1.383 1.98l-14.494 8.33C4.7 66.077 0 74.15 0 82.844v6.76h3.333v-6.76c0-7.5 4.055-14.46 10.59-18.174l14.5-8.334c1.597-.918 2.692-2.487 3.007-4.302.315-1.815-.19-3.66-1.387-5.06l-5.913-6.936c-3.23-3.775-5.01-8.594-5.01-13.57v-1.484c0-11.41 8.562-20.9 19.488-21.608 5.85-.377 11.415 1.61 15.67 5.598 4.26 3.992 6.605 9.404 6.605 15.24v2.254c0 4.976-1.778 9.796-5.01 13.57l-5.915 6.935c-1.195 1.4-1.7 3.246-1.386 5.06.313 1.816 1.41 3.385 3.008 4.303l14.507 8.338c6.525 3.71 10.58 10.67 10.58 18.17v6.76H80v-6.76c0-8.695-4.7-16.768-12.26-21.063z",fill:"currentColor",fillRule:"evenodd"})))}}]),t}(l.default.Component);t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),l=r(u),c=n(636),p=n(32),f=r(p),d=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.throttleTimeout=null,n.handleScroll=n.handleScroll.bind(n),n.addListener=n.addListener.bind(n),n.removeListener=n.removeListener.bind(n),n.checkIfReachedBottom=n.checkIfReachedBottom.bind(n),n.shouldCheckIfReachedBottom=!1,n.handleResize=n.handleResize.bind(n),n.rafCallback=n.rafCallback.bind(n),n.rafHandler=new c.RafHandler(n.rafCallback),n.rafCounter=0,n.windowHeight=null,n}return a(t,e),s(t,[{key:"componentDidMount",value:function(){this.addListener()}},{key:"componentWillUpdate",value:function(){this.removeListener()}},{key:"componentDidUpdate",value:function(e){this.addListener();var t=this.props.loaded&&!e.loaded;if(t&&this.refs.component){if(this.props.useCustomScrollContainer)return;this.refs.component.clientHeight<window.innerHeight&&this.props.onReachBottom()}}},{key:"componentWillUnmount",value:function(){this.removeListener()}},{key:"addListener",value:function(){this.props.useCustomScrollContainer?this.refs.container.addEventListener("scroll",this.handleScroll,!1):(window.addEventListener("scroll",this.handleScroll),window.addEventListener("resize",this.handleResize)),this.rafHandler.subscribe()}},{key:"removeListener",value:function(){this.props.useCustomScrollContainer?this.refs.container.removeEventListener("scroll",this.handleScroll,!1):window.removeEventListener("scroll",this.handleScroll),this.rafHandler.unsubscribe()}},{key:"rafCallback",value:function(){this.props.full||this.rafCounter++<10||(this.rafCounter=0,this.shouldCheckIfReachedBottom&&(this.shouldCheckIfReachedBottom=!1,this.checkIfReachedBottom()))}},{key:"checkIfReachedBottom",value:function(){var e=this.props.onReachBottom,t=0,n=0;if(this.props.useCustomScrollContainer){var r=this.refs,i=r.container,o=r.childContainer;t=i.scrollTop+i.clientHeight,n=o.clientHeight}else null===this.windowHeight&&this.handleResize(),t=window.scrollY+this.windowHeight,n=document.body.scrollHeight;t>n-400&&e()}},{key:"handleScroll",value:function(){this.shouldCheckIfReachedBottom=!0}},{key:"handleResize",value:function(){this.windowHeight=window.innerHeight}},{key:"render",value:function(){var e=this.props.full,t=l.default.createElement("div",{style:{padding:"10px 0 30px 0"}},l.default.createElement(f.default,null));return this.props.useCustomScrollContainer?l.default.createElement("div",{ref:"container",style:{height:"100%",overflow:"scroll"}},l.default.createElement("div",{ref:"childContainer"},this.props.children,!e&&t)):l.default.createElement("div",{ref:"component"},this.props.children,!e&&t)}}]),t}(l.default.Component);d.defaultProps={onReachBottom:function(){},useCustomScrollContainer:!1},t.default=d},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.colors={midnightBlue:[30,50,100]},t.mediaQueryBreakpoints={min:{minWidth:0,itemsToShow:2},small:{minWidth:768,itemsToShow:3},medium:{minWidth:992,itemsToShow:6},large:{minWidth:1200,itemsToShow:8},extra:{minWidth:1500,itemsToShow:12}}},function(e,t){"use strict";function n(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document,n=e.name,r=e.value,i=e.days,o=e.secure,a="";if(i){var s=new Date;s.setTime(Date.now()+24*i*60*60*1e3),a="; expires="+s.toUTCString()}else a="";t.cookie=n+"="+r+a+"; path=/"+(o===!0?";secure":"")}function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document,n=t.cookie,r=n.split(";").map(function(e){return e.trim().split("=")}).reduce(function(e,t){return e[t[0]]=t[1],e},{});return r[e]}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;n({name:e,value:"",days:-1},t)}Object.defineProperty(t,"__esModule",{value:!0}),t.createCookie=n,t.readCookie=r,t.deleteCookie=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(335),s=r(a),u={},l=new s.default,c=function(){function e(){i(this,e)}return o(e,null,[{key:"subscribe",value:function(e,t){return l.subscribe(e,t)}},{key:"unsubscribe",value:function(e){l.unsubscribe(e)}},{key:"setPosition",value:function(e){u.position=e,l.publish("position",e)}},{key:"getPosition",value:function(){return u.position}}]),e}();t.default=c},function(e,t){"use strict";e.exports=!("undefined"==typeof window||!window.document||!window.document.createElement)},function(e,t){"use strict";function n(e,t){return e===t?0!==e||0!==t||1/e===1/t:e!==e&&t!==t}function r(e,t){if(n(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var r=Object.keys(e),o=Object.keys(t);if(r.length!==o.length)return!1;for(var a=0;a<r.length;a++)if(!i.call(t,r[a])||!n(e[r[a]],t[r[a]]))return!1;return!0}var i=Object.prototype.hasOwnProperty;e.exports=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){return u+e}function o(e,t){try{null==t?window.sessionStorage.removeItem(i(e)):window.sessionStorage.setItem(i(e),JSON.stringify(t))}catch(e){if(e.name===c)return;if(l.indexOf(e.name)>=0&&0===window.sessionStorage.length)return;throw e}}function a(e){var t=void 0;try{t=window.sessionStorage.getItem(i(e))}catch(e){if(e.name===c)return null}if(t)try{return JSON.parse(t)}catch(e){}return null}t.__esModule=!0,t.saveState=o,t.readState=a;var s=n(36),u=(r(s),"@@History/"),l=["QuotaExceededError","QUOTA_EXCEEDED_ERR"],c="SecurityError"},function(e,t){"use strict";function n(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent("on"+t,n)}function r(e,t,n){e.removeEventListener?e.removeEventListener(t,n,!1):e.detachEvent("on"+t,n)}function i(){return window.location.href.split("#")[1]||""}function o(e){window.location.replace(window.location.pathname+window.location.search+"#"+e)}function a(){return window.location.pathname+window.location.search+window.location.hash}function s(e){e&&window.history.go(e)}function u(e,t){t(window.confirm(e))}function l(){var e=navigator.userAgent;return(e.indexOf("Android 2.")===-1&&e.indexOf("Android 4.0")===-1||e.indexOf("Mobile Safari")===-1||e.indexOf("Chrome")!==-1||e.indexOf("Windows Phone")!==-1)&&(window.history&&"pushState"in window.history)}function c(){var e=navigator.userAgent;return e.indexOf("Firefox")===-1}t.__esModule=!0,t.addEventListener=n,t.removeEventListener=r,t.getHashPath=i,t.replaceHashPath=o,t.getWindowPath=a,t.go=s,t.getUserConfirmation=u,t.supportsHistory=l,t.supportsGoWithoutReloadUsingHash=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){return function(){return e.apply(this,arguments)}}t.__esModule=!0;var o=n(36);r(o);t.default=i,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){var r=e(t,n);e.length<2&&n(r)}t.__esModule=!0;var o=n(36);r(o);t.default=i,e.exports=t.default},function(e,t,n){function r(e){if(!a(e)||i(e)!=s)return!1;var t=o(e);if(null===t)return!0;var n=p.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&c.call(n)==f}var i=n(462),o=n(464),a=n(469),s="[object Object]",u=Function.prototype,l=Object.prototype,c=u.toString,p=l.hasOwnProperty,f=c.call(Object);e.exports=r},function(e,t,n){"use strict";function r(e,t){return Array.isArray(t)&&(t=t[1]),t?t.nextSibling:e.firstChild}function i(e,t,n){c.insertTreeBefore(e,t,n)}function o(e,t,n){Array.isArray(t)?s(e,t[0],t[1],n):y(e,t,n)}function a(e,t){if(Array.isArray(t)){var n=t[1];t=t[0],u(e,t,n),e.removeChild(n)}e.removeChild(t)}function s(e,t,n,r){for(var i=t;;){var o=i.nextSibling;if(y(e,i,r),i===n)break;i=o}}function u(e,t,n){for(;;){var r=t.nextSibling;if(r===n)break;e.removeChild(r)}}function l(e,t,n){var r=e.parentNode,i=e.nextSibling;i===t?n&&y(r,document.createTextNode(n),i):n?(h(i,n),u(r,i,t)):u(r,e,t)}var c=n(57),p=n(484),f=(n(18),n(33),n(121)),d=n(90),h=n(193),y=f(function(e,t,n){e.insertBefore(t,n)}),_=p.dangerouslyReplaceNodeWithMarkup,m={dangerouslyReplaceNodeWithMarkup:_,replaceDelimitedText:l,processUpdates:function(e,t){for(var n=0;n<t.length;n++){var s=t[n];switch(s.type){case"INSERT_MARKUP":i(e,s.content,r(e,s.afterNode));break;case"MOVE_EXISTING":o(e,s.fromNode,r(e,s.afterNode));break;case"SET_MARKUP":d(e,s.content);break;case"TEXT_CONTENT":h(e,s.content);break;case"REMOVE_NODE":a(e,s.fromNode)}}}};e.exports=m},function(e,t){"use strict";var n={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};e.exports=n},function(e,t,n){"use strict";function r(){if(s)for(var e in u){var t=u[e],n=s.indexOf(e);if(n>-1?void 0:a("96",e),!l.plugins[n]){t.extractEvents?void 0:a("97",e),l.plugins[n]=t;var r=t.eventTypes;for(var o in r)i(r[o],t,o)?void 0:a("98",o,e)}}}function i(e,t,n){l.eventNameDispatchConfigs.hasOwnProperty(n)?a("99",n):void 0,l.eventNameDispatchConfigs[n]=e;var r=e.phasedRegistrationNames;if(r){for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];o(s,t,n)}return!0}return!!e.registrationName&&(o(e.registrationName,t,n),!0)}function o(e,t,n){l.registrationNameModules[e]?a("100",e):void 0,l.registrationNameModules[e]=t,l.registrationNameDependencies[e]=t.eventTypes[n].dependencies}var a=n(10),s=(n(4),null),u={},l={plugins:[],eventNameDispatchConfigs:{},registrationNameModules:{},registrationNameDependencies:{},possibleRegistrationNames:null,injectEventPluginOrder:function(e){s?a("101"):void 0,s=Array.prototype.slice.call(e),r()},injectEventPluginsByName:function(e){var t=!1;for(var n in e)if(e.hasOwnProperty(n)){var i=e[n];u.hasOwnProperty(n)&&u[n]===i||(u[n]?a("102",n):void 0,u[n]=i,t=!0)}t&&r()},getPluginModuleForEvent:function(e){var t=e.dispatchConfig;if(t.registrationName)return l.registrationNameModules[t.registrationName]||null;if(void 0!==t.phasedRegistrationNames){var n=t.phasedRegistrationNames;for(var r in n)if(n.hasOwnProperty(r)){var i=l.registrationNameModules[n[r]];if(i)return i}}return null},_resetEventPlugins:function(){s=null;for(var e in u)u.hasOwnProperty(e)&&delete u[e];l.plugins.length=0;var t=l.eventNameDispatchConfigs;for(var n in t)t.hasOwnProperty(n)&&delete t[n];var r=l.registrationNameModules;for(var i in r)r.hasOwnProperty(i)&&delete r[i]}};e.exports=l},function(e,t,n){"use strict";function r(e){return"topMouseUp"===e||"topTouchEnd"===e||"topTouchCancel"===e}function i(e){return"topMouseMove"===e||"topTouchMove"===e}function o(e){return"topMouseDown"===e||"topTouchStart"===e}function a(e,t,n,r){var i=e.type||"unknown-event";e.currentTarget=m.getNodeFromInstance(r),t?y.invokeGuardedCallbackWithCatch(i,n,e):y.invokeGuardedCallback(i,n,e),e.currentTarget=null}function s(e,t){var n=e._dispatchListeners,r=e._dispatchInstances;if(Array.isArray(n))for(var i=0;i<n.length&&!e.isPropagationStopped();i++)a(e,t,n[i],r[i]);else n&&a(e,t,n,r);e._dispatchListeners=null,e._dispatchInstances=null}function u(e){var t=e._dispatchListeners,n=e._dispatchInstances;if(Array.isArray(t)){for(var r=0;r<t.length&&!e.isPropagationStopped();r++)if(t[r](e,n[r]))return n[r]}else if(t&&t(e,n))return n;return null}function l(e){var t=u(e);return e._dispatchInstances=null,e._dispatchListeners=null,t}function c(e){var t=e._dispatchListeners,n=e._dispatchInstances;Array.isArray(t)?h("103"):void 0,e.currentTarget=t?m.getNodeFromInstance(n):null;var r=t?t(e):null;return e.currentTarget=null,e._dispatchListeners=null,e._dispatchInstances=null,r}function p(e){return!!e._dispatchListeners}var f,d,h=n(10),y=n(119),_=(n(4),n(6),{injectComponentTree:function(e){f=e},injectTreeTraversal:function(e){d=e}}),m={isEndish:r,isMoveish:i,isStartish:o,executeDirectDispatch:c,executeDispatchesInOrder:s,executeDispatchesInOrderStopAtTrue:l,hasDispatches:p,getInstanceFromNode:function(e){return f.getInstanceFromNode(e)},getNodeFromInstance:function(e){return f.getNodeFromInstance(e)},isAncestor:function(e,t){return d.isAncestor(e,t)},getLowestCommonAncestor:function(e,t){return d.getLowestCommonAncestor(e,t)},getParentInstance:function(e){return d.getParentInstance(e)},traverseTwoPhase:function(e,t,n){return d.traverseTwoPhase(e,t,n)},traverseEnterLeave:function(e,t,n,r,i){return d.traverseEnterLeave(e,t,n,r,i)},injection:_};e.exports=m},function(e,t){"use strict";function n(e){var t=/[=:]/g,n={"=":"=0",":":"=2"},r=(""+e).replace(t,function(e){return n[e]});return"$"+r}function r(e){var t=/(=0|=2)/g,n={"=0":"=","=2":":"},r="."===e[0]&&"$"===e[1]?e.substring(2):e.substring(1);return(""+r).replace(t,function(e){return n[e]})}var i={escape:n,unescape:r};e.exports=i},function(e,t,n){"use strict";function r(e){null!=e.checkedLink&&null!=e.valueLink?s("87"):void 0}function i(e){r(e),null!=e.value||null!=e.onChange?s("88"):void 0}function o(e){r(e),null!=e.checked||null!=e.onChange?s("89"):void 0}function a(e){if(e){var t=e.getName();if(t)return" Check the render method of `"+t+"`."}return""}var s=n(10),u=n(39),l=n(512),c=(n(4),n(6),{button:!0,checkbox:!0,image:!0,hidden:!0,radio:!0,reset:!0,submit:!0}),p={value:function(e,t,n){return!e[t]||c[e.type]||e.onChange||e.readOnly||e.disabled?null:new Error("You provided a `value` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultValue`. Otherwise, set either `onChange` or `readOnly`.")},checked:function(e,t,n){return!e[t]||e.onChange||e.readOnly||e.disabled?null:new Error("You provided a `checked` prop to a form field without an `onChange` handler. This will render a read-only field. If the field should be mutable use `defaultChecked`. Otherwise, set either `onChange` or `readOnly`.")},onChange:u.PropTypes.func},f={},d={checkPropTypes:function(e,t,n){for(var r in p){if(p.hasOwnProperty(r))var i=p[r](t,r,e,"prop",null,l);if(i instanceof Error&&!(i.message in f)){f[i.message]=!0;a(n)}}},getValue:function(e){return e.valueLink?(i(e),e.valueLink.value):e.value},getChecked:function(e){return e.checkedLink?(o(e),e.checkedLink.value):e.checked},executeOnChange:function(e,t){return e.valueLink?(i(e),e.valueLink.requestChange(t.target.value)):e.checkedLink?(o(e),e.checkedLink.requestChange(t.target.checked)):e.onChange?e.onChange.call(void 0,t):void 0}};e.exports=d},function(e,t,n){"use strict";var r=n(10),i=(n(4),!1),o={replaceNodeWithMarkup:null,processChildrenUpdates:null,injection:{injectEnvironment:function(e){i?r("104"):void 0,o.replaceNodeWithMarkup=e.replaceNodeWithMarkup,o.processChildrenUpdates=e.processChildrenUpdates,i=!0}}};e.exports=o},function(e,t,n){"use strict";function r(e,t,n){try{t(n)}catch(e){null===i&&(i=e)}}var i=null,o={invokeGuardedCallback:r,invokeGuardedCallbackWithCatch:r,rethrowCaughtError:function(){if(i){var e=i;throw i=null,e}}};e.exports=o},function(e,t,n){"use strict";function r(e){u.enqueueUpdate(e)}function i(e){var t=typeof e;if("object"!==t)return t;var n=e.constructor&&e.constructor.name||t,r=Object.keys(e);return r.length>0&&r.length<20?n+" (keys: "+r.join(", ")+")":n}function o(e,t){var n=s.get(e);if(!n){return null}return n}var a=n(10),s=(n(40),n(70)),u=(n(33),n(37)),l=(n(4),n(6),{isMounted:function(e){var t=s.get(e);return!!t&&!!t._renderedComponent},enqueueCallback:function(e,t,n){l.validateCallback(t,n);var i=o(e);return i?(i._pendingCallbacks?i._pendingCallbacks.push(t):i._pendingCallbacks=[t],void r(i)):null},enqueueCallbackInternal:function(e,t){e._pendingCallbacks?e._pendingCallbacks.push(t):e._pendingCallbacks=[t],r(e)},enqueueForceUpdate:function(e){var t=o(e,"forceUpdate");t&&(t._pendingForceUpdate=!0,r(t))},enqueueReplaceState:function(e,t){var n=o(e,"replaceState");n&&(n._pendingStateQueue=[t],n._pendingReplaceState=!0,r(n))},enqueueSetState:function(e,t){var n=o(e,"setState");if(n){var i=n._pendingStateQueue||(n._pendingStateQueue=[]);i.push(t),r(n)}},enqueueElementInternal:function(e,t,n){e._pendingElement=t,e._context=n,r(e)},validateCallback:function(e,t){e&&"function"!=typeof e?a("122",t,i(e)):void 0}});e.exports=l},function(e,t){"use strict";var n=function(e){return"undefined"!=typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e};e.exports=n},function(e,t){"use strict";function n(e){var t,n=e.keyCode;return"charCode"in e?(t=e.charCode,0===t&&13===n&&(t=13)):t=n,t>=32||13===t?t:0}e.exports=n},function(e,t){"use strict";function n(e){var t=this,n=t.nativeEvent;if(n.getModifierState)return n.getModifierState(e);var r=i[e];return!!r&&!!n[r]}function r(e){return n}var i={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};e.exports=r},function(e,t){"use strict";function n(e){var t=e.target||e.srcElement||window;return t.correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}e.exports=n},function(e,t,n){"use strict";function r(e,t){if(!o.canUseDOM||t&&!("addEventListener"in document))return!1;var n="on"+e,r=n in document;if(!r){var a=document.createElement("div");a.setAttribute(n,"return;"),r="function"==typeof a[n]}return!r&&i&&"wheel"===e&&(r=document.implementation.hasFeature("Events.wheel","3.0")),r}var i,o=n(25);o.canUseDOM&&(i=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0),e.exports=r},function(e,t){"use strict";function n(e,t){var n=null===e||e===!1,r=null===t||t===!1;if(n||r)return n===r;var i=typeof e,o=typeof t;return"string"===i||"number"===i?"string"===o||"number"===o:"object"===o&&e.type===t.type&&e.key===t.key}e.exports=n},function(e,t,n){"use strict";var r=(n(11),n(31)),i=(n(6),r);e.exports=i},function(e,t){"use strict";function n(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e);try{throw new Error(e)}catch(e){}}t.__esModule=!0,t.default=n},function(e,t){"use strict";function n(e,t,n){function r(){return a=!0,s?void(l=[].concat(Array.prototype.slice.call(arguments))):void n.apply(this,arguments)}function i(){if(!a&&(u=!0,!s)){for(s=!0;!a&&o<e&&u;)u=!1,t.call(this,o++,i,r);return s=!1,a?void n.apply(this,l):void(o>=e&&u&&(a=!0,n()))}}var o=0,a=!1,s=!1,u=!1,l=void 0;i()}function r(e,t,n){function r(e,t,r){a||(t?(a=!0,n(t)):(o[e]=r,a=++s===i,a&&n(null,o)))}var i=e.length,o=[];if(0===i)return n(null,o);var a=!1,s=0;e.forEach(function(e,n){t(e,n,function(e,t){r(n,e,t)})})}t.__esModule=!0,t.loopAsync=n,t.mapAsync=r},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.router=t.routes=t.route=t.components=t.component=t.location=t.history=t.falsy=t.locationShape=t.routerShape=void 0;var o=n(1),a=n(92),s=(i(a),n(48)),u=r(s),l=n(22),c=(i(l),o.PropTypes.func),p=o.PropTypes.object,f=o.PropTypes.shape,d=o.PropTypes.string,h=t.routerShape=f({push:c.isRequired,replace:c.isRequired,go:c.isRequired,goBack:c.isRequired,goForward:c.isRequired,setRouteLeaveHook:c.isRequired,isActive:c.isRequired}),y=t.locationShape=f({pathname:d.isRequired,search:d.isRequired,state:p,action:d.isRequired,key:d}),_=t.falsy=u.falsy,m=t.history=u.history,v=t.location=y,g=t.component=u.component,b=t.components=u.components,E=t.route=u.route,S=(t.routes=u.routes,t.router=h),T={falsy:_,history:m,location:v,component:g,components:b,route:E,router:S};t.default=T},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!0;return!1}function o(e,t){function n(t){var n=!(arguments.length<=1||void 0===arguments[1])&&arguments[1],r=arguments.length<=2||void 0===arguments[2]?null:arguments[2],i=void 0;return n&&n!==!0||null!==r?(t={pathname:t,query:n},i=r||!1):(t=e.createLocation(t),i=n),(0,f.default)(t,i,g.location,g.routes,g.params)}function r(e,n){b&&b.location===e?o(b,n):(0,_.default)(t,e,function(t,r){t?n(t):r?o(a({},r,{location:e}),n):n()})}function o(e,t){function n(n,i){return n||i?r(n,i):void(0,h.default)(e,function(n,r){n?t(n):t(null,null,g=a({},e,{components:r}))})}function r(e,n){e?t(e):t(null,n)}var i=(0,l.default)(g,e),o=i.leaveRoutes,s=i.changeRoutes,u=i.enterRoutes;(0,c.runLeaveHooks)(o,g),o.filter(function(e){return u.indexOf(e)===-1}).forEach(y),(0,c.runChangeHooks)(s,g,e,function(t,i){return t||i?r(t,i):void(0,c.runEnterHooks)(u,e,n)})}function s(e){var t=arguments.length<=1||void 0===arguments[1]||arguments[1];return e.__id__||t&&(e.__id__=E++)}function u(e){return e.reduce(function(e,t){return e.push.apply(e,S[s(t)]),e},[])}function p(e,n){(0,_.default)(t,e,function(t,r){if(null==r)return void n();b=a({},r,{location:e});for(var i=u((0,l.default)(g,b).leaveRoutes),o=void 0,s=0,c=i.length;null==o&&s<c;++s)o=i[s](e);n(o)})}function d(){if(g.routes){for(var e=u(g.routes),t=void 0,n=0,r=e.length;"string"!=typeof t&&n<r;++n)t=e[n]();return t}}function y(e){var t=s(e,!1);t&&(delete S[t],i(S)||(T&&(T(),T=null),w&&(w(),w=null)))}function m(t,n){var r=s(t),o=S[r];if(o)o.indexOf(n)===-1&&o.push(n);else{var a=!i(S);S[r]=[n],a&&(T=e.listenBefore(p),e.listenBeforeUnload&&(w=e.listenBeforeUnload(d)))}return function(){var e=S[r];if(e){var i=e.filter(function(e){return e!==n});0===i.length?y(t):S[r]=i}}}function v(t){return e.listen(function(n){g.location===n?t(null,g):r(n,function(n,r,i){n?t(n):r?e.replace(r):i&&t(null,i)})})}var g={},b=void 0,E=1,S=Object.create(null),T=void 0,w=void 0;return{isActive:n,match:r,listenBeforeLeavingRoute:m,listen:v}}t.__esModule=!0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=o;var s=n(22),u=(r(s),n(569)),l=r(u),c=n(566),p=n(573),f=r(p),d=n(570),h=r(d),y=n(575),_=r(y);e.exports=t.default},function(e,t,n){"use strict";function r(e,t,n){this.props=e,this.context=t,this.refs=a,this.updater=n||o}var i=n(62),o=n(134),a=(n(212),n(66));n(4),n(6);r.prototype.isReactComponent={},r.prototype.setState=function(e,t){"object"!=typeof e&&"function"!=typeof e&&null!=e?i("85"):void 0,this.updater.enqueueSetState(this,e),t&&this.updater.enqueueCallback(this,t,"setState")},r.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this),e&&this.updater.enqueueCallback(this,e,"forceUpdate")};e.exports=r},function(e,t,n){"use strict";function r(e){var t=Function.prototype.toString,n=Object.prototype.hasOwnProperty,r=RegExp("^"+t.call(n).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");try{var i=t.call(e);return r.test(i)}catch(e){return!1}}function i(e){var t=l(e);if(t){var n=t.childIDs;c(e),n.forEach(i)}}function o(e,t,n){return"\n    in "+(e||"Unknown")+(t?" (at "+t.fileName.replace(/^.*[\\\/]/,"")+":"+t.lineNumber+")":n?" (created by "+n+")":"")}function a(e){return null==e?"#empty":"string"==typeof e||"number"==typeof e?"#text":"string"==typeof e.type?e.type:e.type.displayName||e.type.name||"Unknown"}function s(e){var t,n=C.getDisplayName(e),r=C.getElement(e),i=C.getOwnerID(e);return i&&(t=C.getDisplayName(i)),o(n,r&&r._source,t)}var u,l,c,p,f,d,h,y=n(62),_=n(40),m=(n(4),n(6),"function"==typeof Array.from&&"function"==typeof Map&&r(Map)&&null!=Map.prototype&&"function"==typeof Map.prototype.keys&&r(Map.prototype.keys)&&"function"==typeof Set&&r(Set)&&null!=Set.prototype&&"function"==typeof Set.prototype.keys&&r(Set.prototype.keys));if(m){var v=new Map,g=new Set;u=function(e,t){v.set(e,t)},l=function(e){return v.get(e)},c=function(e){v.delete(e)},p=function(){return Array.from(v.keys())},f=function(e){g.add(e)},d=function(e){g.delete(e)},h=function(){return Array.from(g.keys())}}else{var b={},E={},S=function(e){return"."+e},T=function(e){return parseInt(e.substr(1),10)};u=function(e,t){var n=S(e);b[n]=t},l=function(e){var t=S(e);return b[t]},c=function(e){var t=S(e);delete b[t]},p=function(){return Object.keys(b).map(T)},f=function(e){var t=S(e);E[t]=!0},d=function(e){var t=S(e);delete E[t]},h=function(){return Object.keys(E).map(T)}}var w=[],C={onSetChildren:function(e,t){var n=l(e);n?void 0:y("144"),n.childIDs=t;for(var r=0;r<t.length;r++){var i=t[r],o=l(i);o?void 0:y("140"),null==o.childIDs&&"object"==typeof o.element&&null!=o.element?y("141"):void 0,o.isMounted?void 0:y("71"),null==o.parentID&&(o.parentID=e),o.parentID!==e?y("142",i,o.parentID,e):void 0}},onBeforeMountComponent:function(e,t,n){var r={element:t,parentID:n,text:null,childIDs:[],isMounted:!1,updateCount:0};u(e,r)},onBeforeUpdateComponent:function(e,t){var n=l(e);n&&n.isMounted&&(n.element=t)},onMountComponent:function(e){var t=l(e);t?void 0:y("144"),t.isMounted=!0;var n=0===t.parentID;n&&f(e)},onUpdateComponent:function(e){var t=l(e);t&&t.isMounted&&t.updateCount++},onUnmountComponent:function(e){var t=l(e);if(t){t.isMounted=!1;var n=0===t.parentID;n&&d(e)}w.push(e)},purgeUnmountedComponents:function(){if(!C._preventPurging){for(var e=0;e<w.length;e++){var t=w[e];i(t)}w.length=0}},isMounted:function(e){var t=l(e);return!!t&&t.isMounted},getCurrentStackAddendum:function(e){var t="";if(e){var n=a(e),r=e._owner;t+=o(n,e._source,r&&r.getName())}var i=_.current,s=i&&i._debugID;return t+=C.getStackAddendumByID(s)},getStackAddendumByID:function(e){for(var t="";e;)t+=s(e),e=C.getParentID(e);return t},getChildIDs:function(e){var t=l(e);return t?t.childIDs:[]},getDisplayName:function(e){var t=C.getElement(e);return t?a(t):null},getElement:function(e){var t=l(e);return t?t.element:null},getOwnerID:function(e){var t=C.getElement(e);return t&&t._owner?t._owner._debugID:null},getParentID:function(e){var t=l(e);return t?t.parentID:null},getSource:function(e){var t=l(e),n=t?t.element:null,r=null!=n?n._source:null;return r},getText:function(e){var t=C.getElement(e);return"string"==typeof t?t:"number"==typeof t?""+t:null},getUpdateCount:function(e){var t=l(e);return t?t.updateCount:0},getRootIDs:h,getRegisteredIDs:p};e.exports=C},function(e,t,n){"use strict";function r(e,t){}var i=(n(6),{isMounted:function(e){return!1},enqueueCallback:function(e,t){},enqueueForceUpdate:function(e){r(e,"forceUpdate")},enqueueReplaceState:function(e,t){r(e,"replaceState")},enqueueSetState:function(e,t){r(e,"setState")}});e.exports=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.compose=t.applyMiddleware=t.bindActionCreators=t.combineReducers=t.createStore=void 0;var i=n(217),o=r(i),a=n(595),s=r(a),u=n(594),l=r(u),c=n(593),p=r(c),f=n(216),d=r(f),h=n(218);r(h);t.createStore=o.default,t.combineReducers=s.default,t.bindActionCreators=l.default,t.applyMiddleware=p.default,t.compose=d.default},function(e,t){"use strict";function n(e,t,n){for(var r=0,i=0;i<e.length;++i){var o=e[i]*t+r;e[i]=o%n,r=~~(o/n)}for(;r;)e.push(r%n),r=~~(r/n)}function r(e,t,n,r){
var i,o,a=0;for(o=0;o<t.length;++o)i=~~e[o]+t[o]*n+a,e[o]=i%r,a=~~(i/r);for(;a;)i=~~e[o]+a,e[o]=i%r,a=~~(i/r),++o}function i(e,t,i){for(var o=[0],a=[1],s=0;s<e.length;++s)r(o,a,e[s],i),n(a,t,i);return o}function o(e,t){for(var n=[],r=0;r<e.length;++r)n.push(t[e[r]]);return n.reverse()}function a(e,t){for(;e.length<t;)e.push(0);return e}var s="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",u={},l={};!function(){var e,t;for(e=0,t=s.length;e<t;++e)l[s[e]]=e;for(e=0;e<16;++e)u["0123456789abcdef"[e]]=e;for(e=0;e<16;++e)u["0123456789ABCDEF"[e]]=e}(),e.exports={fromBytes:function(e,t){var n=i(e.slice(0).reverse(),256,62);return o(a(n,t),s).join("")},toBytes:function(e,t){var n=i(o(e,l),62,256);return a(n,t).reverse()},toHex:function(e,t){var n=i(o(e,l),62,16);return o(a(n,t),s).join("")},fromHex:function(e,t){var n=i(o(e,u),16,62);return o(a(n,t),s).join("")}}},function(e,t){"use strict";t.DeviceType={COMPUTER:"computer",TABLET:"tablet",SMARTPHONE:"smartphone",SPEAKER:"speaker",TV:"tv",AVR:"avr",STB:"stb",AUDIO_DONGLE:"audio_dongle",GAME_CONSOLE:"game_console",CAST_VIDEO:"cast_video",CAST_AUDIO:"cast_audio"},t.RepeatMode={OFF:0,CONTEXT:1,TRACK:2}},function(e,t){"use strict";e.exports={ACME_TRACK_CREATED:"acme track created",CONTEXT_LOADED:"context loaded",HEAD_FRAGMENT_FETCHED:"head fragment fetched",LICENSE_MESSAGE_GENERATED:"license message generated",LICENSE_REQUEST_FINISHED:"license request finished",LICENSE_SESSION_CREATED:"license session created",LICENSE_SESSION_UPDATED:"license session updated",NEXT_TRACK_RESOLVED:"next track resolved",PLAYING:"playing"}},function(e,t){"use strict";function n(e){Error.call(this,e),this.canPlayNext=!0,this.message=e||"Storage Error"}n.prototype=new Error,n.prototype.constructor=n,n.prototype.name="StorageError",e.exports=n},function(e,t,n){function r(){}function i(){}function o(){}function a(){throw new Error("Cannot construct on interface class.")}function s(e){if(!(this instanceof s))return new s(e);var t=e||{};this.index="index"in t?t.index:-1,this.position="position"in t?t.position:0,this.initialPosition="initialPosition"in t?t.initialPosition:0,this.duration="duration"in t?t.duration:-1,this.paused="paused"in t&&t.paused,this.reason=t.reason||"unknown"}n(12);t.PlayerManager=r,r.prototype.createPlayer=function(e){return null},r.prototype.crossfade=function(e,t,n,r){},r.prototype.getPlayerLogger=function(e){return null},t.ACMEPlayerOptions,t.PlayerState,t.PlayerCodecInfo,t.PlayerLoadOptions,t.PlayerErrorReason={REQUEST_CAP:"requestCap",PLAY_CAP:"playCap",TRACK_CAP:"trackCap",UNKNOWN:"unknown"},t.Track,t.TrackLogData,t.TrackLogDataReferrer,t.Player=i,i.prototype.addListener=function(e,t){},i.prototype.removeListener=function(e,t){},i.prototype.getId=function(){return null},i.prototype.getPlayerState=function(){return null},i.prototype.setVolume=function(e){},i.prototype.seek=function(e){},i.prototype.togglePlay=function(){},i.prototype.resume=function(){},i.prototype.pause=function(){},i.prototype.stop=function(e){},i.prototype.load=function(e,t,n){return null},t.EndSongStartLog,t.EndSongStopLog,t.StorageResolveTrackDetails,o.prototype.setEndSongStartLog=function(e){},o.setEndSongStopLog=function(e){},a.prototype.startAt=function(e){throw new Error("Cannot call method on interface.")},a.prototype.setShuffle=function(e){throw new Error("Cannot call method on interface.")},a.prototype.setRepeatMode=function(e){throw new Error("Cannot call method on interface.")},a.prototype.next=function(e){},a.prototype.previous=function(e){},t.List=a,t.ListConstants={NULL_VALUE:new function(){},LIST_START:new function(){},LIST_END:new function(){},FORBIDDEN:new function(){}},t.OperationResult={SUCCESS:"RESULT_SUCCESS",INVALID:"RESULT_INVALID",FORBIDDEN:"RESULT_FORBIDDEN",OUT_OF_BOUNDS:"RESULT_OUT_OF_BOUNDS",NO_LIST:"RESULT_NO_LIST",NO_TRACK:"RESULT_NO_TRACK",LIST_END:"RESULT_LIST_END",INVALID_TRACK:"RESULT_INVALID_TRACK",CANCELLED:"CANCELLED",NO_TRACK_PLAYER:"NO_TRACK_PLAYER"},s.create=function(e){return e instanceof s?e:new s(e)},t.PlaybackOptions=s,t.Reason={APPLOAD:"appload",BACK_BUTTON:"backbtn",CLICK_ROW:"clickrow",CLICK_SIDE:"clickside",END_PLAY:"endplay",FORWARD_BUTTON:"fwdbtn",LOGOUT:"logout",PLAY_BUTTON:"playbtn",POPUP:"popup",REMOTE:"remote",TRACK_DONE:"trackdone",TRACK_ERROR:"trackerror",UNKNOWN:"unknown",URI_OPEN:"uriopen"},t.RepeatMode={NONE:"NONE",CONTEXT:"CONTEXT",TRACK:"TRACK"},t.Track,t.DataValue={EMPTY:"",UNKNOWN:"unknown"},t.KeySystemInfo,t.FormatInfo},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(392),l=(r(u),n(1)),c=r(l),p=n(100),f=r(p),d=n(27),h=n(9),y=r(h),_=function(e){function t(e){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return a(t,e),s(t,[{key:"shouldComponentUpdate",value:function(e){return!(0,y.default)(e,this.props)}},{key:"render",value:function(){var e=(0,d.selectImageUrlForWidth)(this.props.width,this.props.images);return c.default.createElement("figure",{className:"avatar "+this.props.className,title:this.props.label,style:{backgroundImage:e&&"url("+e+")",width:this.props.width,height:this.props.width}},e?null:c.default.createElement(f.default,null))}}]),t}(c.default.Component);_.defaultProps={className:""},t.default=_},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(1),a=r(o),s=n(24),u=n(23),l=function(e){return e};t.default=function(e){return a.default.createElement(s.ContextMenuTrigger,i({id:u.EPISODE_MENU_ID,collect:l},e))}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(1),a=r(o),s=n(24),u=n(23),l=function(e){return e};t.default=function(e){return a.default.createElement(s.ContextMenuTrigger,i({id:u.GENERIC_MENU_ID,collect:l},e))}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(1),a=r(o),s=n(24),u=n(23),l=function(e){return e};t.default=function(e){return a.default.createElement(s.ContextMenuTrigger,i({id:u.SHOW_MENU_ID,collect:l},e))}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),n(399);var i=n(1),o=r(i),a=function(e){var t=e.copyrights,n=(t||[]).map(function(e,t){var n=e.text.replace("(C) ","").replace("(P) ",""),r=void 0;return r="C"===e.type?"©":"P"===e.type?"℗":"("+e.type+")",o.default.createElement("p",{key:t},r+" "+n)});return o.default.createElement("div",{className:"copyrights"},n)};t.default=a},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(406),o=r(i),a=n(1),s=r(a),u=function(e){var t=e.title,n=e.children,r=t?s.default.createElement("h1",null,t):n;return s.default.createElement("header",{className:o.default.hero},r)};t.default=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=r(i),a=n(2);t.default=function(){return o.default.createElement("svg",{className:"icon-pause",viewBox:"0 0 60 100"},o.default.createElement("path",{fill:"currentColor",d:"M0 8c0-5 3-8 8-8s9 3 9 8v84c0 5-4 8-9 8s-8-3-8-8V8zm43 0c0-5 3-8 8-8s8 3 8 8v84c0 5-3 8-8 8s-8-3-8-8V8z"},o.default.createElement("title",null,(0,a._)("pause-button.label"))))}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=r(i),a=n(2);t.default=function(){return o.default.createElement("svg",{className:"icon-play",viewBox:"0 0 85 100"},o.default.createElement("path",{fill:"currentColor",d:"M81 44.6c5 3 5 7.8 0 10.8L9 98.7c-5 3-9 .7-9-5V6.3c0-5.7 4-8 9-5l72 43.3z"},o.default.createElement("title",null,(0,a._)("play-button.label"))))}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),l=r(u),c=function(e){function t(e){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return a(t,e),s(t,[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"render",value:function(){return l.default.createElement("svg",{className:this.props.className,width:"23",height:"19",viewBox:"0 0 23 19",xmlns:"http://www.w3.org/2000/svg"},l.default.createElement("title",null,"radio-24"),l.default.createElement("path",{d:"M3.895 15.995C.315 11.802.812 5.477 5.005 1.895c.286-.243.603-.477.997-.74L5.45.323c-.43.284-.777.543-1.094.813C2.122 3.043.764 5.707.534 8.635c-.23 2.93.693 5.774 2.602 8.008.66.774 1.44 1.46 2.314 2.036l.55-.835c-.796-.526-1.504-1.148-2.105-1.85zM7.603 4.938c.306-.262.64-.493.99-.688l-.485-.874c-.41.226-.797.496-1.154.8-1.422 1.215-2.286 2.91-2.433 4.775-.146 1.865.442 3.674 1.657 5.096.54.632 1.19 1.16 1.936 1.573l.484-.876c-.64-.354-1.198-.807-1.66-1.348-2.148-2.515-1.85-6.31.666-8.458zM11.5 6.5c-1.654 0-3 1.346-3 3s1.346 3 3 3 3-1.346 3-3-1.346-3-3-3zm0 5c-1.102 0-2-.898-2-2 0-1.102.898-2 2-2 1.102 0 2 .898 2 2 0 1.102-.898 2-2 2zm8.364-9.144C19.204 1.583 18.426.898 17.55.32l-.55.835c.797.525 1.505 1.148 2.104 1.85 1.734 2.032 2.574 4.617 2.365 7.28-.21 2.663-1.445 5.084-3.476 6.82-.287.245-.604.48-.996.738l.55.834c.422-.278.78-.544 1.095-.813 2.234-1.908 3.592-4.572 3.822-7.5.232-2.93-.693-5.774-2.6-8.008zm-3.04 2.598c-.54-.632-1.192-1.162-1.937-1.573l-.484.876c.64.353 1.198.807 1.66 1.348 1.04 1.22 1.545 2.77 1.42 4.367-.127 1.6-.867 3.052-2.086 4.093-.305.26-.64.492-.99.688l.485.875c.41-.228.8-.497 1.154-.8 1.422-1.215 2.286-2.91 2.433-4.774.146-1.862-.443-3.674-1.657-5.096z",fill:"currentColor",fillRule:"evenodd"}))}}]),t}(l.default.Component);t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),l=r(u),c=function(e){function t(e){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return a(t,e),s(t,[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"render",value:function(){return l.default.createElement("div",{className:"icon"},l.default.createElement("svg",{width:"52",height:"52",viewBox:"0 0 52 52",xmlns:"http://www.w3.org/2000/svg"},l.default.createElement("title",null,"Add Song Icon"),l.default.createElement("path",{d:"M26 0C11.64 0 0 11.643 0 26c0 14.36 11.64 26 26 26s26-11.64 26-26S40.36 0 26 0zm0 50C12.767 50 2 39.234 2 26S12.767 2 26 2c13.234 0 24 10.766 24 24S39.234 50 26 50zm0-32c-4.418 0-8 3.582-8 8s3.582 8 8 8 8-3.582 8-8-3.58-8-8-8zm0 14c-3.308 0-6-2.69-6-6s2.692-6 6-6 6 2.69 6 6-2.69 6-6 6z",fill:"currentColor",fillRule:"evenodd"})))}}]),t}(l.default.Component);t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),l=r(u),c=function(e){function t(e){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return a(t,e),s(t,[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"render",value:function(){return l.default.createElement("div",{className:"icon"},l.default.createElement("svg",{width:"80",height:"79",viewBox:"0 0 80 79",xmlns:"http://www.w3.org/2000/svg"},l.default.createElement("title",null,"Album"),l.default.createElement("path",{d:"M76.8 3.138v72.126H3.2V3.138h73.6zM80 0H0v78.398h80V0zM40 20.8c-9.72 0-17.6 7.88-17.6 17.6C22.4 48.12 30.28 56 40 56c9.72 0 17.6-7.88 17.6-17.6 0-9.72-7.88-17.6-17.6-17.6zm0 3.2c7.94 0 14.4 6.46 14.4 14.4S47.94 52.8 40 52.8s-14.4-6.46-14.4-14.4S32.06 24 40 24z",fill:"currentColor",fillRule:"evenodd"})))}}]),t}(l.default.Component);t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),l=r(u),c=n(408),p=(r(c),n(2)),f=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={value:e.initialValue||""},n.handleChange=n.handleChange.bind(n),n}return a(t,e),s(t,[{key:"componentDidMount",value:function(){this.refs.query&&this.refs.query.focus()}},{key:"handleChange",value:function(e){var t=e.target.value;this.setState({value:t}),this.props.onChange&&this.props.onChange(t)}},{key:"render",value:function(){var e=this.state.value,t=this.props.label;return l.default.createElement("div",{className:"inputBox"},l.default.createElement("h4",{className:"inputBox-label"},t),l.default.createElement("input",{ref:"query",type:"text",className:"inputBox-input",value:e,onChange:this.handleChange,placeholder:(0,p._)("input.start-typing")}))}}]),t}(l.default.Component);t.default=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(422);var u=n(1),l=r(u),c=n(14),p=r(c),f=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"shouldComponentUpdate",value:function(e){return e.active!==this.props.active||e.icon!==this.props.icon||e.iconActive!==this.props.iconActive||e.isDisabled!==this.props.isDisabled}},{key:"render",value:function(){var e=this.props,t=e.active&&e.labelActive?e.labelActive:e.label,n=e.active&&e.iconActive?e.iconActive:e.icon;return l.default.createElement("button",{className:(0,p.default)("control-button","spoticon-"+n+"-16",{"control-button--active":e.active,"control-button--circled":e.circled,"control-button--disabled":e.isDisabled}),title:t,onClick:e.isDisabled?void 0:e.onClick})}}]),t}(l.default.PureComponent);f.defaultProps={onClick:function(){}},t.default=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(424),l=(r(u),n(1)),c=r(l),p=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleClick=n.handleClick.bind(n),n.handleMouseDown=n.handleMouseDown.bind(n),n.handleMouseMove=n.handleMouseMove.bind(n),n.handleMouseUp=n.handleMouseUp.bind(n),n.state={isDragging:!1},n}return a(t,e),s(t,[{key:"componentDidUpdate",value:function(e,t){this.state.isDragging&&!t.isDragging?(document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp)):!this.state.isDragging&&t.isDragging&&(document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp))}},{key:"handleMouseDown",value:function(e){0===e.button&&(e.stopPropagation(),this.dragStartX=e.pageX,this.dragStartY=e.pageY,this.setState({isDragging:!0}),this.props.onDragStart&&this.props.onDragStart(this._extractRelativePos(e.clientX)))}},{key:"handleMouseMove",value:function(e){return this.isOutsideBounds(e)?void this.handleMouseUp(e):void(this.props.onDragMove&&this.props.onDragMove(this._extractRelativePos(e.clientX)))}},{key:"handleClick",value:function(e){this.props.onClick&&this.props.onClick(this._extractRelativePos(e.clientX))}},{key:"handleMouseUp",value:function(e){e.stopPropagation(),this.setState({isDragging:!1}),this.props.onDragEnd&&this.props.onDragEnd(this._extractRelativePos(e.clientX))}},{key:"isOutsideBounds",value:function(e){return e.pageX<0||e.pageY<0||e.pageX>window.innerWidth||e.pageY>window.innerHeight+window.scrollY}},{key:"_extractRelativePos",value:function(e){var t=this.refs.progressBar.getBoundingClientRect(),n=t.right-t.left;return Math.max(0,Math.min((e-t.left)/n,1))}},{key:"render",value:function(){var e=this.props.max&&this.props.current?Math.min(1,this.props.current/this.props.max):0,t={width:100*e+"%"},n={left:100*e+"%"};return c.default.createElement("div",{className:"progress-bar",onClick:this.handleClick,onMouseDown:this.handleMouseDown},c.default.createElement("div",{ref:"progressBar",className:"middle-align progress-bar__bg"},c.default.createElement("div",{className:"progress-bar__fg",style:t}),c.default.createElement("div",{className:"middle-align progress-bar__slider",style:n})))}}]),t}(c.default.Component);p.defaultProps={current:0,max:1},t.default=p},function(e,t){"use strict";e.exports={authServerURL:"https://open.spotify.com"}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),l=r(u),c=n(26),p=r(c),f=n(3),d=n(34),h=function(e){function t(){i(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.handleClick=e.handleClick.bind(e),e}return a(t,e),s(t,[{key:"componentDidMount",value:function(){var e=document.querySelector(".line-animated path"),t=e.getTotalLength();e.style.transition=e.style.WebkitTransition="none",e.style.strokeDasharray=t+" "+t,e.style.strokeDashoffset=t,e.getBoundingClientRect(),e.style.transition=e.style.WebkitTransition="stroke-dashoffset 7s ease-in-out",e.style.strokeDashoffset="0"}},{key:"handleClick",value:function(){this.props.dispatch((0,d.loginRequest)())}},{key:"render",value:function(){return l.default.createElement("div",{style:{marginTop:"50vh",transform:"translateY(-50%)"},id:"login-container"},l.default.createElement("svg",{version:"1.1",className:"line-animated",onClick:this.handleLogin,style:{width:"250px",height:"250px",display:"block",margin:"auto"}},l.default.createElement("g",{transform:"matrix(0.15,0,0,0.15,60,-210)"},l.default.createElement("path",{d:"m 421.5,1533.375 c -408.962711,0 -740.5,331.5059 -740.5,740.4688 0,408.9627 331.537289,740.5 740.5,740.5 408.96271,0 740.5,-331.5373 740.5,-740.5 0,-408.9629 -331.53729,-740.4688 -740.5,-740.4688 z m -108.65625,386.4688 c 217.43517,0 446.20772,44.7272 613.3125,142.875 22.52392,12.7572 38.15625,31.9913 38.15625,67.25 0,40.3663 -32.44499,69.375 -69.84375,69.375 -15.07662,0 -24.02197,-3.6682 -38.15625,-11.4063 -134.03398,-80.3689 -342.03029,-124.625 -543.1875,-124.625 -100.41216,0 -202.39625,10.2115 -295.8125,35.5625 -10.759107,2.7077 -24.3563097,8.0938 -37.96875,8.0938 -39.50214,0 -69.8125,-31.2512 -69.8125,-70.75 0,-40.2419 24.940384,-62.8318 51.84375,-70.7813 105.55739,-31.0977 223.38382,-45.5937 351.46875,-45.5937 z M 297.75,2174.2812 c 193.82587,0 381.3323,48.274 528.75,136.5 24.71404,14.1715 33.8125,32.1677 33.8125,58.5313 0,32.0638 -25.52675,57.9687 -57.71875,57.9687 -16.06736,0 -26.17436,-6.4925 -37.09375,-12.8437 -120.45544,-71.4829 -287.40206,-118.9687 -470.21875,-118.9687 -93.76484,0 -174.69742,13.1295 -241.6875,30.9687 -14.43304,3.9722 -22.524473,8.25 -36.03125,8.25 -31.847449,0 -57.84375,-25.9521 -57.84375,-58.0625 0,-31.4884 15.272073,-53.1698 46.0625,-61.8438 83.240862,-22.8613 168.24466,-40.5 291.96875,-40.5 z m 10.15625,241.8126 c 162.03991,0 306.45491,37.1729 430.71875,111.6562 18.49491,10.7979 29.34375,21.832 29.34375,49.2188 0,26.6948 -21.70954,46.3124 -46.0625,46.3124 -11.97535,0 -20.14536,-4.1543 -31.34375,-10.9687 -107.32034,-64.9297 -241.13396,-99.0625 -383.15625,-99.0625 -79.23347,0 -158.97893,10.1616 -233.5625,25.6875 -12.127857,2.6292 -27.38982,7.3125 -36.5,7.3125 -28.1208138,0 -46.875,-22.3372 -46.875,-46.5312 0,-31.116 17.9529286,-46.6095 40.28125,-50.875 91.46135,-20.8435 182.54857,-32.75 277.15625,-32.75 z",stroke:"#fff",strokeWidth:"10",fill:"none",strokeDasharray:"988.01 988.01",strokeDashoffset:"0"}))),l.default.createElement("div",null,l.default.createElement(p.default,{onClick:this.handleClick,className:"btn-green",style:{margin:"5em auto",display:"block",transform:"scale(1.2)"}},"Log in with Spotify")))}}]),t}(l.default.Component);t.default=(0,f.connect)()(h)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.logAdEvent=t.logLogin=t.logMessage=void 0;var r=n(28),i=t.logMessage=function(e,t,n){return e.build().withMethod("POST").withHost(r.OPEN_HOST).withPath("/log/"+t).withoutMarket().withBody(n).send()};t.logLogin=function(e,t){return i(e,"login",{username:t})},t.logAdEvent=function(e,t){return i(e,"adevent",{message:t})}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="web_player_prototype",r=function(){};window&&window.ga&&(r=window.ga)("set","dimension8",n);var i=t.logEvent=function(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]&&arguments[3],o=i?{nonInteraction:!0}:void 0;r("send","event",e,t,n,o)};t.logError=function(e,t,n){i("error",e,t+"/"+n,!0)},t.logPlaybackError=function(e,t,n){i("playback_error",e,t+"/"+n,!0)},t.logRequestError=function(e,t){i("request_error",t.status,e,!0)},t.logPageView=function(e){r("set","page",e),r("send","pageview",{dimension8:n}),i("pageview",e,"",!0)}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(158),a=function(){function e(t){r(this,e),this._accessToken=null,this._market=null,this._shouldSendMarket=!0,this._locale=null,this._shouldSendLocale=!1,this._host=null,this.path="",this.queryParameters=null,this.method="GET",this.pendingRequests=t,this.jsonContentType=!1,this.body=null}return i(e,[{key:"withHost",value:function(e){return this._host=e,this}},{key:"withPath",value:function(e){return this.path=e,this}},{key:"withQueryParameters",value:function(e){return this.queryParameters=e,this}},{key:"withBody",value:function(e){return this.body=e,this}},{key:"withMethod",value:function(e){return this.method=e,this}},{key:"withoutMarket",value:function(){return this._shouldSendMarket=!1,this}},{key:"withLocale",value:function(){return this._shouldSendLocale=!0,this}},{key:"withJsonContentType",value:function(){return this.jsonContentType=!0,this}},{key:"getRequestIdentifier",value:function(){return this.method+"::"+this._host+this.path+"::"+JSON.stringify(this.queryParameters)}},{key:"send",value:function(){var t=this,n=new e.Implementation(this.method,""+this._host+this.path);this._shouldSendMarket&&this.market&&(this.queryParameters=Object.assign({},this.queryParameters,{market:this.market})),this._shouldSendLocale&&this.locale&&(this.queryParameters=Object.assign({},this.queryParameters,{locale:this.locale})),n.withQueryParameters(this.queryParameters),this._accessToken&&n.addHeader("Authorization","Bearer "+this._accessToken),n.addHeader("Accept","application/json"),this.jsonContentType&&n.addHeader("Content-Type","application/json;charset=UTF-8"),this.body&&n.withPostData(this.body);var r=this.getRequestIdentifier();if(this.pendingRequests.has(r)){var i=new Error("Already sent this request ("+r+")");return i.name="DUPLICATE_REQUEST_ERROR",console.warn(i),Promise.reject(i)}return"GET"===this.method.toUpperCase()&&this.pendingRequests.add(r),n.send().then(function(e){return t.pendingRequests.delete(r),e},function(e){throw(0,o.logRequestError)(r,e),t.pendingRequests.delete(r),e})}},{key:"accessToken",set:function(e){this._accessToken=e}},{key:"market",get:function(){return this._market},set:function(e){this._market=e}},{key:"locale",get:function(){return this._locale},set:function(e){this._locale=e}}],[{key:"setRequestImplementation",value:function(e){this.Implementation=e}}]),e}();t.default=a},function(e,t){"use strict";e.exports=function(e){return e===e.window?e:9===e.nodeType&&(e.defaultView||e.parentWindow)}},43,43,function(e,t,n){"use strict";var r=n(31),i={listen:function(e,t,n){return e.addEventListener?(e.addEventListener(t,n,!1),{remove:function(){e.removeEventListener(t,n,!1)}}):e.attachEvent?(e.attachEvent("on"+t,n),{remove:function(){e.detachEvent("on"+t,n)}}):void 0},capture:function(e,t,n){return e.addEventListener?(e.addEventListener(t,n,!0),{remove:function(){e.removeEventListener(t,n,!0)}}):{remove:r}},registerDefault:function(){}};e.exports=i},function(e,t){"use strict";function n(e){try{e.focus()}catch(e){}}e.exports=n},function(e,t){(function(t){"use strict";function n(e){if(e=e||t.document,"undefined"==typeof e)return null;try{return e.activeElement||e.body}catch(t){return e.body}}e.exports=n}).call(t,function(){return this}())},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){function t(e){return u.canUseDOM?void 0:s.default(!1),n.listen(e)}var n=p.default(o({getUserConfirmation:l.getUserConfirmation},e,{go:l.go}));return o({},n,{listen:t})}t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(21),s=r(a),u=n(82),l=n(108),c=n(168),p=r(c);t.default=i,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){return"string"==typeof e&&"/"===e.charAt(0)}function o(){var e=m.getHashPath();
return!!i(e)||(m.replaceHashPath("/"+e),!1)}function a(e,t,n){return e+(e.indexOf("?")===-1?"?":"&")+(t+"="+n)}function s(e,t){return e.replace(new RegExp("[?&]?"+t+"=[a-zA-Z0-9]+"),"")}function u(e,t){var n=e.match(new RegExp("\\?.*?\\b"+t+"=(.+?)\\b"));return n&&n[1]}function l(){function e(){var e=m.getHashPath(),t=void 0,n=void 0;k?(t=u(e,k),e=s(e,k),t?n=v.readState(t):(n=null,t=R.createKey(),m.replaceHashPath(a(e,k,t)))):t=n=null;var r=y.parsePath(e);return R.createLocation(c({},r,{state:n}),void 0,t)}function t(t){function n(){o()&&r(e())}var r=t.transitionTo;return o(),m.addEventListener(window,"hashchange",n),function(){m.removeEventListener(window,"hashchange",n)}}function n(e){var t=e.basename,n=e.pathname,r=e.search,i=e.state,o=e.action,s=e.key;if(o!==h.POP){var u=(t||"")+n+r;k?(u=a(u,k,s),v.saveState(s,i)):e.key=e.state=null;var l=m.getHashPath();o===h.PUSH?l!==u&&(window.location.hash=u):l!==u&&m.replaceHashPath(u)}}function r(e){1===++P&&(I=t(R));var n=R.listenBefore(e);return function(){n(),0===--P&&I()}}function i(e){1===++P&&(I=t(R));var n=R.listen(e);return function(){n(),0===--P&&I()}}function l(e){R.push(e)}function p(e){R.replace(e)}function f(e){R.go(e)}function g(e){return"#"+R.createHref(e)}function S(e){1===++P&&(I=t(R)),R.registerTransitionHook(e)}function T(e){R.unregisterTransitionHook(e),0===--P&&I()}function w(e,t){R.pushState(e,t)}function C(e,t){R.replaceState(e,t)}var O=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];_.canUseDOM?void 0:d.default(!1);var k=O.queryKey;(void 0===k||k)&&(k="string"==typeof k?k:E);var R=b.default(c({},O,{getCurrentLocation:e,finishTransition:n,saveState:v.saveState})),P=0,I=void 0;m.supportsGoWithoutReloadUsingHash();return c({},R,{listenBefore:r,listen:i,push:l,replace:p,go:f,createHref:g,registerTransitionHook:S,unregisterTransitionHook:T,pushState:w,replaceState:C})}t.__esModule=!0;var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p=n(36),f=(r(p),n(21)),d=r(f),h=n(45),y=n(46),_=n(82),m=n(108),v=n(107),g=n(166),b=r(g),E="_k";t.default=l,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){return Math.random().toString(36).substr(2,e)}function o(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.key===t.key&&c.default(e.state,t.state)}function a(){function e(e){return j.push(e),function(){j=j.filter(function(t){return t!==e})}}function t(){return H&&H.action===d.POP?F.indexOf(H.key):q?F.indexOf(q.key):-1}function n(e){var n=t();q=e,q.action===d.PUSH?F=[].concat(F.slice(0,n+1),[q.key]):q.action===d.REPLACE&&(F[n]=q.key),B.forEach(function(e){e(q)})}function r(e){if(B.push(e),q)e(q);else{var t=L();F=[t.key],n(t)}return function(){B=B.filter(function(t){return t!==e})}}function a(e,t){f.loopAsync(j.length,function(t,n,r){m.default(j[t],e,function(e){null!=e?r(e):n()})},function(e){D&&"string"==typeof e?D(e,function(e){t(e!==!1)}):t(e!==!1)})}function u(e){q&&o(q,e)||(H=e,a(e,function(t){if(H===e)if(t){if(e.action===d.PUSH){var r=S(q),i=S(e);i===r&&c.default(q.state,e.state)&&(e.action=d.REPLACE)}U(e)!==!1&&n(e)}else if(q&&e.action===d.POP){var o=F.indexOf(q.key),a=F.indexOf(e.key);o!==-1&&a!==-1&&x(o-a)}}))}function l(e){u(w(e,d.PUSH,E()))}function h(e){u(w(e,d.REPLACE,E()))}function _(){x(-1)}function v(){x(1)}function E(){return i(N)}function S(e){if(null==e||"string"==typeof e)return e;var t=e.pathname,n=e.search,r=e.hash,i=t;return n&&(i+=n),r&&(i+=r),i}function T(e){return S(e)}function w(e,t){var n=arguments.length<=2||void 0===arguments[2]?E():arguments[2];return"object"==typeof t&&("string"==typeof e&&(e=p.parsePath(e)),e=s({},e,{state:t}),t=n,n=arguments[3]||E()),y.default(e,t,n)}function C(e){q?(O(q,e),n(q)):O(L(),e)}function O(e,t){e.state=s({},e.state,t),M(e.key,e.state)}function k(e){j.indexOf(e)===-1&&j.push(e)}function R(e){j=j.filter(function(t){return t!==e})}function P(e,t){"string"==typeof t&&(t=p.parsePath(t)),l(s({state:e},t))}function I(e,t){"string"==typeof t&&(t=p.parsePath(t)),h(s({state:e},t))}var A=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],L=A.getCurrentLocation,U=A.finishTransition,M=A.saveState,x=A.go,D=A.getUserConfirmation,N=A.keyLength;"number"!=typeof N&&(N=b);var j=[],F=[],B=[],q=void 0,H=void 0;return{listenBefore:e,listen:r,transitionTo:u,push:l,replace:h,go:x,goBack:_,goForward:v,createKey:E,createPath:S,createHref:T,createLocation:w,setState:g.default(C,"setState is deprecated; use location.key to save state instead"),registerTransitionHook:g.default(k,"registerTransitionHook is deprecated; use listenBefore instead"),unregisterTransitionHook:g.default(R,"unregisterTransitionHook is deprecated; use the callback returned from listenBefore instead"),pushState:g.default(P,"pushState is deprecated; use push instead"),replaceState:g.default(I,"replaceState is deprecated; use replace instead")}}t.__esModule=!0;var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=n(36),l=(r(u),n(9)),c=r(l),p=n(46),f=n(453),d=n(45),h=n(455),y=r(h),_=n(110),m=r(_),v=n(109),g=r(v),b=6;t.default=a,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){return function(){function t(){if(!E){if(null==b&&s.canUseDOM){var e=document.getElementsByTagName("base")[0],t=e&&e.getAttribute("href");null!=t&&(b=t)}E=!0}}function n(e){return t(),b&&null==e.basename&&(0===e.pathname.indexOf(b)?(e.pathname=e.pathname.substring(b.length),e.basename=b,""===e.pathname&&(e.pathname="/")):e.basename=""),e}function r(e){if(t(),!b)return e;"string"==typeof e&&(e=u.parsePath(e));var n=e.pathname,r="/"===b.slice(-1)?b:b+"/",i="/"===n.charAt(0)?n.slice(1):n,a=r+i;return o({},e,{pathname:a})}function i(e){return g.listenBefore(function(t,r){c.default(e,n(t),r)})}function a(e){return g.listen(function(t){e(n(t))})}function l(e){g.push(r(e))}function p(e){g.replace(r(e))}function d(e){return g.createPath(r(e))}function h(e){return g.createHref(r(e))}function y(e){for(var t=arguments.length,i=Array(t>1?t-1:0),o=1;o<t;o++)i[o-1]=arguments[o];return n(g.createLocation.apply(g,[r(e)].concat(i)))}function _(e,t){"string"==typeof t&&(t=u.parsePath(t)),l(o({state:e},t))}function m(e,t){"string"==typeof t&&(t=u.parsePath(t)),p(o({state:e},t))}var v=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],g=e(v),b=v.basename,E=!1;return o({},g,{listenBefore:i,listen:a,push:l,replace:p,createPath:d,createHref:h,createLocation:y,pushState:f.default(_,"pushState is deprecated; use push instead"),replaceState:f.default(m,"replaceState is deprecated; use replace instead")})}}t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(36),s=(r(a),n(82)),u=n(46),l=n(110),c=r(l),p=n(109),f=r(p);t.default=i,e.exports=t.default},function(e,t){"use strict";var n={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,mixins:!0,propTypes:!0,type:!0},r={name:!0,length:!0,prototype:!0,caller:!0,arguments:!0,arity:!0},i="function"==typeof Object.getOwnPropertySymbols;e.exports=function(e,t,o){if("string"!=typeof t){var a=Object.getOwnPropertyNames(t);i&&(a=a.concat(Object.getOwnPropertySymbols(t)));for(var s=0;s<a.length;++s)if(!(n[a[s]]||r[a[s]]||o&&o[a[s]]))try{e[a[s]]=t[a[s]]}catch(e){}}return e}},function(e,t,n){var r=n(468),i=r.Symbol;e.exports=i},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=n(85),o=n(56),a=function e(){var t=this;r(this,e),this.handleShowEvent=function(e){for(var n in t.callbacks)(0,o.hasOwnProp)(t.callbacks,n)&&t.callbacks[n].show(e)},this.handleHideEvent=function(e){for(var n in t.callbacks)(0,o.hasOwnProp)(t.callbacks,n)&&t.callbacks[n].hide(e)},this.register=function(e,n){var r=(0,o.uniqueId)();return t.callbacks[r]={show:e,hide:n},r},this.unregister=function(e){e&&t.callbacks[e]&&delete t.callbacks[e]},this.callbacks={},o.canUseDOM&&(window.addEventListener(i.MENU_SHOW,this.handleShowEvent),window.addEventListener(i.MENU_HIDE,this.handleHideEvent))};t.default=new a},function(e,t){"use strict";function n(e,t){return e+t.charAt(0).toUpperCase()+t.substring(1)}var r={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridColumn:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},i=["Webkit","ms","Moz","O"];Object.keys(r).forEach(function(e){i.forEach(function(t){r[n(t,e)]=r[e]})});var o={background:{backgroundAttachment:!0,backgroundColor:!0,backgroundImage:!0,backgroundPositionX:!0,backgroundPositionY:!0,backgroundRepeat:!0},backgroundPosition:{backgroundPositionX:!0,backgroundPositionY:!0},border:{borderWidth:!0,borderStyle:!0,borderColor:!0},borderBottom:{borderBottomWidth:!0,borderBottomStyle:!0,borderBottomColor:!0},borderLeft:{borderLeftWidth:!0,borderLeftStyle:!0,borderLeftColor:!0},borderRight:{borderRightWidth:!0,borderRightStyle:!0,borderRightColor:!0},borderTop:{borderTopWidth:!0,borderTopStyle:!0,borderTopColor:!0},font:{fontStyle:!0,fontVariant:!0,fontWeight:!0,fontSize:!0,lineHeight:!0,fontFamily:!0},outline:{outlineWidth:!0,outlineStyle:!0,outlineColor:!0}},a={isUnitlessNumber:r,shorthandPropertyExpansions:o};e.exports=a},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i=n(10),o=n(47),a=(n(4),function(){function e(t){r(this,e),this._callbacks=null,this._contexts=null,this._arg=t}return e.prototype.enqueue=function(e,t){this._callbacks=this._callbacks||[],this._callbacks.push(e),this._contexts=this._contexts||[],this._contexts.push(t)},e.prototype.notifyAll=function(){var e=this._callbacks,t=this._contexts,n=this._arg;if(e&&t){e.length!==t.length?i("24"):void 0,this._callbacks=null,this._contexts=null;for(var r=0;r<e.length;r++)e[r].call(t[r],n);e.length=0,t.length=0}},e.prototype.checkpoint=function(){return this._callbacks?this._callbacks.length:0},e.prototype.rollback=function(e){this._callbacks&&this._contexts&&(this._callbacks.length=e,this._contexts.length=e)},e.prototype.reset=function(){this._callbacks=null,this._contexts=null},e.prototype.destructor=function(){this.reset()},e}());e.exports=o.addPoolingTo(a)},function(e,t,n){"use strict";function r(e){return!!l.hasOwnProperty(e)||!u.hasOwnProperty(e)&&(s.test(e)?(l[e]=!0,!0):(u[e]=!0,!1))}function i(e,t){return null==t||e.hasBooleanValue&&!t||e.hasNumericValue&&isNaN(t)||e.hasPositiveNumericValue&&t<1||e.hasOverloadedBooleanValue&&t===!1}var o=n(58),a=(n(18),n(33),n(539)),s=(n(6),new RegExp("^["+o.ATTRIBUTE_NAME_START_CHAR+"]["+o.ATTRIBUTE_NAME_CHAR+"]*$")),u={},l={},c={createMarkupForID:function(e){return o.ID_ATTRIBUTE_NAME+"="+a(e)},setAttributeForID:function(e,t){e.setAttribute(o.ID_ATTRIBUTE_NAME,t)},createMarkupForRoot:function(){return o.ROOT_ATTRIBUTE_NAME+'=""'},setAttributeForRoot:function(e){e.setAttribute(o.ROOT_ATTRIBUTE_NAME,"")},createMarkupForProperty:function(e,t){var n=o.properties.hasOwnProperty(e)?o.properties[e]:null;if(n){if(i(n,t))return"";var r=n.attributeName;return n.hasBooleanValue||n.hasOverloadedBooleanValue&&t===!0?r+'=""':r+"="+a(t)}return o.isCustomAttribute(e)?null==t?"":e+"="+a(t):null},createMarkupForCustomAttribute:function(e,t){return r(e)&&null!=t?e+"="+a(t):""},setValueForProperty:function(e,t,n){var r=o.properties.hasOwnProperty(t)?o.properties[t]:null;if(r){var a=r.mutationMethod;if(a)a(e,n);else{if(i(r,n))return void this.deleteValueForProperty(e,t);if(r.mustUseProperty)e[r.propertyName]=n;else{var s=r.attributeName,u=r.attributeNamespace;u?e.setAttributeNS(u,s,""+n):r.hasBooleanValue||r.hasOverloadedBooleanValue&&n===!0?e.setAttribute(s,""):e.setAttribute(s,""+n)}}}else if(o.isCustomAttribute(t))return void c.setValueForAttribute(e,t,n)},setValueForAttribute:function(e,t,n){if(r(t)){null==n?e.removeAttribute(t):e.setAttribute(t,""+n)}},deleteValueForAttribute:function(e,t){e.removeAttribute(t)},deleteValueForProperty:function(e,t){var n=o.properties.hasOwnProperty(t)?o.properties[t]:null;if(n){var r=n.mutationMethod;if(r)r(e,void 0);else if(n.mustUseProperty){var i=n.propertyName;n.hasBooleanValue?e[i]=!1:e[i]=""}else e.removeAttribute(n.attributeName)}else o.isCustomAttribute(t)&&e.removeAttribute(t)}};e.exports=c},function(e,t,n){"use strict";var r=n(18),i=n(504),o=n(183),a=n(59),s=n(37),u=n(517),l=n(533),c=n(188),p=n(540);n(6);i.inject();var f={findDOMNode:l,render:o.render,unmountComponentAtNode:o.unmountComponentAtNode,version:u,unstable_batchedUpdates:s.batchedUpdates,unstable_renderSubtreeIntoContainer:p};"undefined"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.inject&&__REACT_DEVTOOLS_GLOBAL_HOOK__.inject({ComponentTree:{getClosestInstanceFromNode:r.getClosestInstanceFromNode,getNodeFromInstance:function(e){return e._renderedComponent&&(e=c(e)),e?r.getNodeFromInstance(e):null}},Mount:o,Reconciler:a});e.exports=f},function(e,t){"use strict";var n={hasCachedChildNodes:1};e.exports=n},function(e,t,n){"use strict";function r(){if(this._rootNodeID&&this._wrapperState.pendingUpdate){this._wrapperState.pendingUpdate=!1;var e=this._currentElement.props,t=s.getValue(e);null!=t&&i(this,Boolean(e.multiple),t)}}function i(e,t,n){var r,i,o=u.getNodeFromInstance(e).options;if(t){for(r={},i=0;i<n.length;i++)r[""+n[i]]=!0;for(i=0;i<o.length;i++){var a=r.hasOwnProperty(o[i].value);o[i].selected!==a&&(o[i].selected=a)}}else{for(r=""+n,i=0;i<o.length;i++)if(o[i].value===r)return void(o[i].selected=!0);o.length&&(o[0].selected=!0)}}function o(e){var t=this._currentElement.props,n=s.executeOnChange(t,e);return this._rootNodeID&&(this._wrapperState.pendingUpdate=!0),l.asap(r,this),n}var a=n(11),s=n(117),u=n(18),l=n(37),c=(n(6),!1),p={getHostProps:function(e,t){return a({},t,{onChange:e._wrapperState.onChange,value:void 0})},mountWrapper:function(e,t){var n=s.getValue(t);e._wrapperState={pendingUpdate:!1,initialValue:null!=n?n:t.defaultValue,listeners:null,onChange:o.bind(e),wasMultiple:Boolean(t.multiple)},void 0===t.value||void 0===t.defaultValue||c||(c=!0)},getSelectValueContext:function(e){return e._wrapperState.initialValue},postUpdateWrapper:function(e){var t=e._currentElement.props;e._wrapperState.initialValue=void 0;var n=e._wrapperState.wasMultiple;e._wrapperState.wasMultiple=Boolean(t.multiple);var r=s.getValue(t);null!=r?(e._wrapperState.pendingUpdate=!1,i(e,Boolean(t.multiple),r)):n!==Boolean(t.multiple)&&(null!=t.defaultValue?i(e,Boolean(t.multiple),t.defaultValue):i(e,Boolean(t.multiple),t.multiple?[]:""))}};e.exports=p},function(e,t){"use strict";var n,r={injectEmptyComponentFactory:function(e){n=e}},i={create:function(e){return n(e)}};i.injection=r,e.exports=i},function(e,t){"use strict";var n={logTopLevelRenders:!1};e.exports=n},function(e,t,n){"use strict";function r(e){return s?void 0:a("111",e.type),new s(e)}function i(e){return new u(e)}function o(e){return e instanceof u}var a=n(10),s=(n(4),null),u=null,l={injectGenericComponentClass:function(e){s=e},injectTextComponentClass:function(e){u=e}},c={createInternalComponent:r,createInstanceForText:i,isTextComponent:o,injection:l};e.exports=c},function(e,t,n){"use strict";function r(e){return o(document.documentElement,e)}var i=n(499),o=n(443),a=n(164),s=n(165),u={hasSelectionCapabilities:function(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&"text"===e.type||"textarea"===t||"true"===e.contentEditable)},getSelectionInformation:function(){var e=s();return{focusedElem:e,selectionRange:u.hasSelectionCapabilities(e)?u.getSelection(e):null}},restoreSelection:function(e){var t=s(),n=e.focusedElem,i=e.selectionRange;t!==n&&r(n)&&(u.hasSelectionCapabilities(n)&&u.setSelection(n,i),a(n))},getSelection:function(e){var t;if("selectionStart"in e)t={start:e.selectionStart,end:e.selectionEnd};else if(document.selection&&e.nodeName&&"input"===e.nodeName.toLowerCase()){var n=document.selection.createRange();n.parentElement()===e&&(t={start:-n.moveStart("character",-e.value.length),end:-n.moveEnd("character",-e.value.length)})}else t=i.getOffsets(e);return t||{start:0,end:0}},setSelection:function(e,t){var n=t.start,r=t.end;if(void 0===r&&(r=n),"selectionStart"in e)e.selectionStart=n,e.selectionEnd=Math.min(r,e.value.length);else if(document.selection&&e.nodeName&&"input"===e.nodeName.toLowerCase()){var o=e.createTextRange();o.collapse(!0),o.moveStart("character",n),o.moveEnd("character",r-n),o.select()}else i.setOffsets(e,t)}};e.exports=u},function(e,t,n){"use strict";function r(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++)if(e.charAt(r)!==t.charAt(r))return r;return e.length===t.length?-1:n}function i(e){return e?e.nodeType===M?e.documentElement:e.firstChild:null}function o(e){return e.getAttribute&&e.getAttribute(A)||""}function a(e,t,n,r,i){var o;if(E.logTopLevelRenders){var a=e._currentElement.props.child,s=a.type;o="React mount: "+("string"==typeof s?s:s.displayName||s.name),console.time(o)}var u=w.mountComponent(e,n,null,g(e,t),i,0);o&&console.timeEnd(o),e._renderedComponent._topLevelWrapper=e,F._mountImageIntoNode(u,t,e,r,n)}function s(e,t,n,r){var i=O.ReactReconcileTransaction.getPooled(!n&&b.useCreateElement);i.perform(a,null,e,t,i,n,r),O.ReactReconcileTransaction.release(i)}function u(e,t,n){for(w.unmountComponent(e,n),t.nodeType===M&&(t=t.documentElement);t.lastChild;)t.removeChild(t.lastChild)}function l(e){var t=i(e);if(t){var n=v.getInstanceFromNode(t);return!(!n||!n._hostParent)}}function c(e){return!(!e||e.nodeType!==U&&e.nodeType!==M&&e.nodeType!==x)}function p(e){var t=i(e),n=t&&v.getInstanceFromNode(t);return n&&!n._hostParent?n:null}function f(e){var t=p(e);return t?t._hostContainerInfo._topLevelWrapper:null}var d=n(10),h=n(57),y=n(58),_=n(39),m=n(86),v=(n(40),n(18)),g=n(493),b=n(495),E=n(180),S=n(70),T=(n(33),n(509)),w=n(59),C=n(120),O=n(37),k=n(66),R=n(191),P=(n(4),n(90)),I=n(126),A=(n(6),y.ID_ATTRIBUTE_NAME),L=y.ROOT_ATTRIBUTE_NAME,U=1,M=9,x=11,D={},N=1,j=function(){this.rootID=N++};j.prototype.isReactComponent={},j.prototype.render=function(){return this.props.child},j.isReactTopLevelWrapper=!0;var F={TopLevelWrapper:j,_instancesByReactRootID:D,scrollMonitor:function(e,t){t()},_updateRootComponent:function(e,t,n,r,i){return F.scrollMonitor(r,function(){C.enqueueElementInternal(e,t,n),i&&C.enqueueCallbackInternal(e,i)}),e},_renderNewRootComponent:function(e,t,n,r){c(t)?void 0:d("37"),m.ensureScrollValueMonitoring();var i=R(e,!1);O.batchedUpdates(s,i,t,n,r);var o=i._instance.rootID;return D[o]=i,i},renderSubtreeIntoContainer:function(e,t,n,r){return null!=e&&S.has(e)?void 0:d("38"),F._renderSubtreeIntoContainer(e,t,n,r)},_renderSubtreeIntoContainer:function(e,t,n,r){C.validateCallback(r,"ReactDOM.render"),_.isValidElement(t)?void 0:d("39","string"==typeof t?" Instead of passing a string like 'div', pass React.createElement('div') or <div />.":"function"==typeof t?" Instead of passing a class like Foo, pass React.createElement(Foo) or <Foo />.":null!=t&&void 0!==t.props?" This may be caused by unintentionally loading two independent copies of React.":"");var a,s=_.createElement(j,{child:t});if(e){var u=S.get(e);a=u._processChildContext(u._context)}else a=k;var c=f(n);if(c){var p=c._currentElement,h=p.props.child;if(I(h,t)){var y=c._renderedComponent.getPublicInstance(),m=r&&function(){r.call(y)};return F._updateRootComponent(c,s,a,n,m),y}F.unmountComponentAtNode(n)}var v=i(n),g=v&&!!o(v),b=l(n),E=g&&!c&&!b,T=F._renderNewRootComponent(s,n,E,a)._renderedComponent.getPublicInstance();return r&&r.call(T),T},render:function(e,t,n){return F._renderSubtreeIntoContainer(null,e,t,n)},unmountComponentAtNode:function(e){c(e)?void 0:d("40");var t=f(e);if(!t){l(e),1===e.nodeType&&e.hasAttribute(L);return!1}return delete D[t._instance.rootID],O.batchedUpdates(u,t,e,!1),!0},_mountImageIntoNode:function(e,t,n,o,a){if(c(t)?void 0:d("41"),o){var s=i(t);if(T.canReuseMarkup(e,s))return void v.precacheNode(n,s);var u=s.getAttribute(T.CHECKSUM_ATTR_NAME);s.removeAttribute(T.CHECKSUM_ATTR_NAME);var l=s.outerHTML;s.setAttribute(T.CHECKSUM_ATTR_NAME,u);var p=e,f=r(p,l),y=" (client) "+p.substring(f-20,f+20)+"\n (server) "+l.substring(f-20,f+20);t.nodeType===M?d("42",y):void 0}if(t.nodeType===M?d("43"):void 0,a.useCreateElement){for(;t.lastChild;)t.removeChild(t.lastChild);h.insertTreeBefore(t,e,null)}else P(t,e),v.precacheNode(n,t.firstChild)}};e.exports=F},function(e,t,n){"use strict";var r=n(10),i=n(39),o=(n(4),{HOST:0,COMPOSITE:1,EMPTY:2,getType:function(e){return null===e||e===!1?o.EMPTY:i.isValidElement(e)?"function"==typeof e.type?o.COMPOSITE:o.HOST:void r("26",e)}});e.exports=o},function(e,t){"use strict";var n={currentScrollLeft:0,currentScrollTop:0,refreshScrollValues:function(e){n.currentScrollLeft=e.x,n.currentScrollTop=e.y}};e.exports=n},function(e,t,n){"use strict";function r(e,t){return null==t?i("30"):void 0,null==e?t:Array.isArray(e)?Array.isArray(t)?(e.push.apply(e,t),e):(e.push(t),e):Array.isArray(t)?[e].concat(t):[e,t]}var i=n(10);n(4);e.exports=r},function(e,t){"use strict";function n(e,t,n){Array.isArray(e)?e.forEach(t,n):e&&t.call(n,e)}e.exports=n},function(e,t,n){"use strict";function r(e){for(var t;(t=e._renderedNodeType)===i.COMPOSITE;)e=e._renderedComponent;return t===i.HOST?e._renderedComponent:t===i.EMPTY?null:void 0}var i=n(184);e.exports=r},function(e,t,n){"use strict";function r(){return!o&&i.canUseDOM&&(o="textContent"in document.documentElement?"textContent":"innerText"),o}var i=n(25),o=null;e.exports=r},function(e,t,n){"use strict";function r(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n["ms"+e]="MS"+t,n["O"+e]="o"+t.toLowerCase(),n}function i(e){if(s[e])return s[e];if(!a[e])return e;var t=a[e];for(var n in t)if(t.hasOwnProperty(n)&&n in u)return s[e]=t[n];return""}var o=n(25),a={animationend:r("Animation","AnimationEnd"),animationiteration:r("Animation","AnimationIteration"),animationstart:r("Animation","AnimationStart"),transitionend:r("Transition","TransitionEnd")},s={},u={};o.canUseDOM&&(u=document.createElement("div").style,"AnimationEvent"in window||(delete a.animationend.animation,delete a.animationiteration.animation,delete a.animationstart.animation),"TransitionEvent"in window||delete a.transitionend.transition),e.exports=i},function(e,t,n){"use strict";function r(e){if(e){var t=e.getName();if(t)return" Check the render method of `"+t+"`."}return""}function i(e){return"function"==typeof e&&"undefined"!=typeof e.prototype&&"function"==typeof e.prototype.mountComponent&&"function"==typeof e.prototype.receiveComponent}function o(e,t){var n;if(null===e||e===!1)n=l.create(o);else if("object"==typeof e){var s=e,u=s.type;if("function"!=typeof u&&"string"!=typeof u){var f="";f+=r(s._owner),a("130",null==u?u:typeof u,f)}"string"==typeof s.type?n=c.createInternalComponent(s):i(s.type)?(n=new s.type(s),n.getHostNode||(n.getHostNode=n.getNativeNode)):n=new p(s)}else"string"==typeof e||"number"==typeof e?n=c.createInstanceForText(e):a("131",typeof e);return n._mountIndex=0,n._mountImage=null,n}var a=n(10),s=n(11),u=n(491),l=n(179),c=n(181),p=(n(537),n(4),n(6),function(e){this.construct(e)});s(p.prototype,u,{_instantiateReactComponent:o}),e.exports=o},function(e,t){"use strict";function n(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!r[e.type]:"textarea"===t}var r={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};e.exports=n},function(e,t,n){"use strict";var r=n(25),i=n(89),o=n(90),a=function(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t};r.canUseDOM&&("textContent"in document.documentElement||(a=function(e,t){return 3===e.nodeType?void(e.nodeValue=t):void o(e,i(t))})),e.exports=a},function(e,t,n){"use strict";function r(e,t){return e&&"object"==typeof e&&null!=e.key?l.escape(e.key):t.toString(36)}function i(e,t,n,o){var f=typeof e;if("undefined"!==f&&"boolean"!==f||(e=null),null===e||"string"===f||"number"===f||"object"===f&&e.$$typeof===s)return n(o,e,""===t?c+r(e,0):t),1;var d,h,y=0,_=""===t?c:t+p;if(Array.isArray(e))for(var m=0;m<e.length;m++)d=e[m],h=_+r(d,m),y+=i(d,h,n,o);else{var v=u(e);if(v){var g,b=v.call(e);if(v!==e.entries)for(var E=0;!(g=b.next()).done;)d=g.value,h=_+r(d,E++),y+=i(d,h,n,o);else for(;!(g=b.next()).done;){var S=g.value;S&&(d=S[1],h=_+l.escape(S[0])+p+r(d,0),y+=i(d,h,n,o))}}else if("object"===f){var T="",w=String(e);a("31","[object Object]"===w?"object with keys {"+Object.keys(e).join(", ")+"}":w,T)}}return y}function o(e,t,n){return null==e?0:i(e,"",t,n)}var a=n(10),s=(n(40),n(505)),u=n(536),l=(n(4),n(116)),c=(n(6),"."),p=":";e.exports=o},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function u(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},u=r.getDisplayName,c=void 0===u?function(e){return"ConnectAdvanced("+e+")"}:u,f=r.methodName,y=void 0===f?"connectAdvanced":f,m=r.renderCountProp,b=void 0===m?void 0:m,E=r.shouldHandleStateChanges,S=void 0===E||E,T=r.storeKey,w=void 0===T?"store":T,C=r.withRef,O=void 0!==C&&C,k=s(r,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef"]),R=w+"Subscription",P=g++,I=(t={},t[w]=v.default,t[R]=h.PropTypes.instanceOf(_.default),t),A=(n={},n[R]=h.PropTypes.instanceOf(_.default),n);return function(t){(0,d.default)("function"==typeof t,"You must pass a component to the function returned by connect. Instead received "+t);var n=t.displayName||t.name||"Component",r=c(n),s=l({},k,{getDisplayName:c,methodName:y,renderCountProp:b,shouldHandleStateChanges:S,storeKey:w,withRef:O,displayName:r,wrappedComponentName:n,WrappedComponent:t}),u=function(n){function u(e,t){i(this,u);var a=o(this,n.call(this,e,t));return a.version=P,a.state={},a.renderCount=0,a.store=a.props[w]||a.context[w],a.parentSub=e[R]||t[R],a.setWrappedInstance=a.setWrappedInstance.bind(a),(0,d.default)(a.store,'Could not find "'+w+'" in either the context or '+('props of "'+r+'". ')+"Either wrap the root component in a <Provider>, "+('or explicitly pass "'+w+'" as a prop to "'+r+'".')),a.getState=a.store.getState.bind(a.store),a.initSelector(),a.initSubscription(),a}return a(u,n),u.prototype.getChildContext=function(){var e;return e={},e[R]=this.subscription||this.parentSub,e},u.prototype.componentDidMount=function(){S&&(this.subscription.trySubscribe(),this.selector.run(this.props),this.selector.shouldComponentUpdate&&this.forceUpdate())},u.prototype.componentWillReceiveProps=function(e){this.selector.run(e)},u.prototype.shouldComponentUpdate=function(){return this.selector.shouldComponentUpdate},u.prototype.componentWillUnmount=function(){this.subscription&&this.subscription.tryUnsubscribe(),this.subscription=null,this.store=null,this.parentSub=null,this.selector.run=function(){}},u.prototype.getWrappedInstance=function(){return(0,d.default)(O,"To access the wrapped instance, you need to specify "+("{ withRef: true } in the options argument of the "+y+"() call.")),this.wrappedInstance},u.prototype.setWrappedInstance=function(e){this.wrappedInstance=e},u.prototype.initSelector=function(){var t=this.store.dispatch,n=this.getState,r=e(t,s),i=this.selector={shouldComponentUpdate:!0,props:r(n(),this.props),run:function(e){try{var t=r(n(),e);(i.error||t!==i.props)&&(i.shouldComponentUpdate=!0,i.props=t,i.error=null)}catch(e){i.shouldComponentUpdate=!0,i.error=e}}}},u.prototype.initSubscription=function(){var e=this;S&&!function(){var t=e.subscription=new _.default(e.store,e.parentSub),n={};t.onStateChange=function(){this.selector.run(this.props),this.selector.shouldComponentUpdate?(this.componentDidUpdate=function(){this.componentDidUpdate=void 0,t.notifyNestedSubs()},this.setState(n)):t.notifyNestedSubs()}.bind(e)}()},u.prototype.isSubscribed=function(){return Boolean(this.subscription)&&this.subscription.isSubscribed()},u.prototype.addExtraProps=function(e){if(!O&&!b)return e;var t=l({},e);return O&&(t.ref=this.setWrappedInstance),b&&(t[b]=this.renderCount++),t},u.prototype.render=function(){var e=this.selector;if(e.shouldComponentUpdate=!1,e.error)throw e.error;return(0,h.createElement)(t,this.addExtraProps(e.props))},u}(h.Component);return u.WrappedComponent=t,u.displayName=r,u.childContextTypes=A,u.contextTypes=I,u.propTypes=I,(0,p.default)(u,t)}}t.__esModule=!0;var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=u;var c=n(170),p=r(c),f=n(21),d=r(f),h=n(1),y=n(197),_=r(y),m=n(198),v=r(m),g=0},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){return function(t,n){function r(){return i}var i=e(t,n);return r.dependsOnOwnProps=!1,r}}function o(e){return null!==e.dependsOnOwnProps&&void 0!==e.dependsOnOwnProps?Boolean(e.dependsOnOwnProps):1!==e.length}function a(e,t){return function(t,n){var r=(n.displayName,function(e,t){return r.dependsOnOwnProps?r.mapToProps(e,t):r.mapToProps(e)});return r.dependsOnOwnProps=o(e),r.mapToProps=function(t,n){r.mapToProps=e;var i=r(t,n);return"function"==typeof i&&(r.mapToProps=i,r.dependsOnOwnProps=o(i),i=r(t,n)),i},r}}t.__esModule=!0,t.wrapMapToPropsConstant=i,t.getDependsOnOwnProps=o,t.wrapMapToPropsFunc=a;var s=n(199);r(s)},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(){var e=[],t=[];return{clear:function(){t=i,e=i},notify:function(){for(var n=e=t,r=0;r<n.length;r++)n[r]()},subscribe:function(n){var r=!0;return t===e&&(t=e.slice()),t.push(n),function(){r&&e!==i&&(r=!1,t===e&&(t=e.slice()),t.splice(t.indexOf(n),1))}}}}t.__esModule=!0;var i=null,o={notify:function(){}},a=function(){function e(t,r){n(this,e),this.store=t,this.parentSub=r,this.unsubscribe=null,this.listeners=o}return e.prototype.addNestedSub=function(e){return this.trySubscribe(),this.listeners.subscribe(e)},e.prototype.notifyNestedSubs=function(){this.listeners.notify()},e.prototype.isSubscribed=function(){return Boolean(this.unsubscribe)},e.prototype.trySubscribe=function(){this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.onStateChange):this.store.subscribe(this.onStateChange),this.listeners=r())},e.prototype.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=o)},e}();t.default=a},function(e,t,n){"use strict";t.__esModule=!0;var r=n(1);t.default=r.PropTypes.shape({subscribe:r.PropTypes.func.isRequired,
dispatch:r.PropTypes.func.isRequired,getState:r.PropTypes.func.isRequired})},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){(0,a.default)(e)||(0,u.default)(n+"() in "+t+" must return a plain object. Instead received "+e+".")}t.__esModule=!0,t.default=i;var o=n(111),a=r(o),s=n(128),u=r(s)},function(e,t){"use strict";function n(e){return function(){for(var t=arguments.length,n=Array(t),i=0;i<t;i++)n[i]=arguments[i];return{type:r,payload:{method:e,args:n}}}}Object.defineProperty(t,"__esModule",{value:!0});var r=t.CALL_HISTORY_METHOD="@@router/CALL_HISTORY_METHOD",i=t.push=n("push"),o=t.replace=n("replace"),a=t.go=n("go"),s=t.goBack=n("goBack"),u=t.goForward=n("goForward");t.routerActions={push:i,replace:o,go:a,goBack:s,goForward:u}},function(e,t){"use strict";function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.type,a=t.payload;return n===i?r({},e,{locationBeforeTransitions:a}):e}Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.routerReducer=n;var i=t.LOCATION_CHANGE="@@router/LOCATION_CHANGE",o={locationBeforeTransitions:null}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function o(e){return 0===e.button}function a(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function s(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function u(e,t){var n=t.query,r=t.hash,i=t.state;return n||r||i?{pathname:e,query:n,hash:r,state:i}:e}t.__esModule=!0;var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c=n(1),p=r(c),f=n(22),d=(r(f),n(21)),h=r(d),y=n(130),_=p.default.PropTypes,m=_.bool,v=_.object,g=_.string,b=_.func,E=_.oneOfType,S=p.default.createClass({displayName:"Link",contextTypes:{router:y.routerShape},propTypes:{to:E([g,v]),query:v,hash:g,state:v,activeStyle:v,activeClassName:g,onlyActiveOnIndex:m.isRequired,onClick:b,target:g},getDefaultProps:function(){return{onlyActiveOnIndex:!1,style:{}}},handleClick:function(e){if(this.props.onClick&&this.props.onClick(e),!e.defaultPrevented&&(this.context.router?void 0:(0,h.default)(!1),!a(e)&&o(e)&&!this.props.target)){e.preventDefault();var t=this.props,n=t.to,r=t.query,i=t.hash,s=t.state,l=u(n,{query:r,hash:i,state:s});this.context.router.push(l)}},render:function(){var e=this.props,t=e.to,n=e.query,r=e.hash,o=e.state,a=e.activeClassName,c=e.activeStyle,f=e.onlyActiveOnIndex,d=i(e,["to","query","hash","state","activeClassName","activeStyle","onlyActiveOnIndex"]),h=this.context.router;if(h){if(null==t)return p.default.createElement("a",d);var y=u(t,{query:n,hash:r,state:o});d.href=h.createHref(y),(a||null!=c&&!s(c))&&h.isActive(y,f)&&(a&&(d.className?d.className+=" "+a:d.className=a),c&&(d.style=l({},d.style,c)))}return p.default.createElement("a",l({},d,{onClick:this.handleClick}))}});t.default=S,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=n(1),o=r(i),a=n(21),s=r(a),u=n(44),l=n(60),c=n(48),p=o.default.PropTypes,f=p.string,d=p.object,h=o.default.createClass({displayName:"Redirect",statics:{createRouteFromReactElement:function(e){var t=(0,u.createRouteFromReactElement)(e);return t.from&&(t.path=t.from),t.onEnter=function(e,n){var r=e.location,i=e.params,o=void 0;if("/"===t.to.charAt(0))o=(0,l.formatPattern)(t.to,i);else if(t.to){var a=e.routes.indexOf(t),s=h.getRoutePattern(e.routes,a-1),u=s.replace(/\/*$/,"/")+t.to;o=(0,l.formatPattern)(u,i)}else o=r.pathname;n({pathname:o,query:t.query||r.query,state:t.state||r.state})},t},getRoutePattern:function(e,t){for(var n="",r=t;r>=0;r--){var i=e[r],o=i.path||"";if(n=o.replace(/\/*$/,"/")+n,0===o.indexOf("/"))break}return"/"+n}},propTypes:{path:f,from:f,to:f.isRequired,query:d,state:d,onEnter:c.falsy,children:c.falsy},render:function(){(0,s.default)(!1)}});t.default=h,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){return a({},e,{setRouteLeaveHook:t.listenBeforeLeavingRoute,isActive:t.isActive})}function o(e,t){return e=a({},e,t)}t.__esModule=!0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.createRouterObject=i,t.createRoutingHistory=o;var s=n(92);r(s)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=(0,c.default)(e),n=function(){return t},r=(0,a.default)((0,u.default)(n))(e);return r.__v2_compatible__=!0,r}t.__esModule=!0,t.default=i;var o=n(83),a=r(o),s=n(169),u=r(s),l=n(456),c=r(l);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0,t.default=function(e){var t=void 0;return a&&(t=(0,o.default)(e)()),t};var i=n(208),o=r(i),a=!("undefined"==typeof window||!window.document||!window.document.createElement);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){return o({},e,t)}t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=i;var a=(n(92),n(22));r(a);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){return function(t){var n=(0,a.default)((0,u.default)(e))(t);return n.__v2_compatible__=!0,n}}t.__esModule=!0,t.default=i;var o=n(83),a=r(o),s=n(169),u=r(s);e.exports=t.default},116,function(e,t){"use strict";var n="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103;e.exports=n},function(e,t,n){"use strict";var r={};e.exports=r},function(e,t,n){"use strict";var r=!1;e.exports=r},function(e,t){"use strict";function n(e){var t=e&&(r&&e[r]||e[i]);if("function"==typeof t)return t}var r="function"==typeof Symbol&&Symbol.iterator,i="@@iterator";e.exports=n},function(e,t,n){"use strict";function r(e){return o.isValidElement(e)?void 0:i("143"),e}var i=n(62),o=n(61);n(4);e.exports=r},function(e,t,n){"use strict";function r(e,t){return e&&"object"==typeof e&&null!=e.key?l.escape(e.key):t.toString(36)}function i(e,t,n,o){var f=typeof e;if("undefined"!==f&&"boolean"!==f||(e=null),null===e||"string"===f||"number"===f||"object"===f&&e.$$typeof===s)return n(o,e,""===t?c+r(e,0):t),1;var d,h,y=0,_=""===t?c:t+p;if(Array.isArray(e))for(var m=0;m<e.length;m++)d=e[m],h=_+r(d,m),y+=i(d,h,n,o);else{var v=u(e);if(v){var g,b=v.call(e);if(v!==e.entries)for(var E=0;!(g=b.next()).done;)d=g.value,h=_+r(d,E++),y+=i(d,h,n,o);else for(;!(g=b.next()).done;){var S=g.value;S&&(d=S[1],h=_+l.escape(S[0])+p+r(d,0),y+=i(d,h,n,o))}}else if("object"===f){var T="",w=String(e);a("31","[object Object]"===w?"object with keys {"+Object.keys(e).join(", ")+"}":w,T)}}return y}function o(e,t,n){return null==e?0:i(e,"",t,n)}var a=n(62),s=(n(40),n(210)),u=n(213),l=(n(4),n(209)),c=(n(6),"."),p=":";e.exports=o},function(e,t){"use strict";function n(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if(0===t.length)return function(e){return e};if(1===t.length)return t[0];var r=t[t.length-1],i=t.slice(0,-1);return function(){return i.reduceRight(function(e,t){return t(e)},r.apply(void 0,arguments))}}t.__esModule=!0,t.default=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){function r(){m===_&&(m=_.slice())}function o(){return y}function s(e){if("function"!=typeof e)throw new Error("Expected listener to be a function.");var t=!0;return r(),m.push(e),function(){if(t){t=!1,r();var n=m.indexOf(e);m.splice(n,1)}}}function c(e){if(!(0,a.default)(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if("undefined"==typeof e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(v)throw new Error("Reducers may not dispatch actions.");try{v=!0,y=h(y,e)}finally{v=!1}for(var t=_=m,n=0;n<t.length;n++)t[n]();return e}function p(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");h=e,c({type:l.INIT})}function f(){var e,t=s;return e={subscribe:function(e){function n(){e.next&&e.next(o())}if("object"!=typeof e)throw new TypeError("Expected the observer to be an object.");n();var r=t(n);return{unsubscribe:r}}},e[u.default]=function(){return this},e}var d;if("function"==typeof t&&"undefined"==typeof n&&(n=t,t=void 0),"undefined"!=typeof n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(i)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var h=e,y=t,_=[],m=_,v=!1;return c({type:l.INIT}),d={dispatch:c,subscribe:s,getState:o,replaceReducer:p},d[u.default]=f,d}t.__esModule=!0,t.ActionTypes=void 0,t.default=i;var o=n(111),a=r(o),s=n(652),u=r(s),l=t.ActionTypes={INIT:"@@redux/INIT"}},function(e,t){"use strict";function n(e){"undefined"!=typeof console&&"function"==typeof console.error&&console.error(e);try{throw new Error(e)}catch(e){}}t.__esModule=!0,t.default=n},function(e,t){"use strict";var n=function(){var e,t=[];for(e=0;e<256;++e)t[e]=255;for(e=0;e<this.BASE64_DIGITS.length;++e)t[this.BASE64_DIGITS.charCodeAt(e)]=e;this._inverseData=String.fromCharCode.apply(String,t)};n.prototype.BASE64_DIGITS="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n.prototype.STRING_CHUNK_SIZE=4096,n.prototype._stringFromCharCode=function(e){if(e.length<this.STRING_CHUNK_SIZE)return String.fromCharCode.apply(String,e);var t=0,n=[];do n.push(String.fromCharCode.apply(String,e.slice(t,t+this.STRING_CHUNK_SIZE))),t+=this.STRING_CHUNK_SIZE;while(t<e.length);return n.join("")},n.prototype.encode=function(e){if("string"!=typeof e)return"";if("undefined"!=typeof window&&"undefined"!=typeof window.btoa)return window.btoa(e);var t,n,r,i,o,a;for(r=e.length,n=0,t="";n<r;){if(i=255&e.charCodeAt(n++),n===r){t+=this.BASE64_DIGITS.charAt(i>>2),t+=this.BASE64_DIGITS.charAt((3&i)<<4),t+="==";break}if(o=e.charCodeAt(n++),n===r){t+=this.BASE64_DIGITS.charAt(i>>2),t+=this.BASE64_DIGITS.charAt((3&i)<<4|(240&o)>>4),t+=this.BASE64_DIGITS.charAt((15&o)<<2),t+="=";break}a=e.charCodeAt(n++),t+=this.BASE64_DIGITS.charAt(i>>2),t+=this.BASE64_DIGITS.charAt((3&i)<<4|(240&o)>>4),t+=this.BASE64_DIGITS.charAt((15&o)<<2|(192&a)>>6),t+=this.BASE64_DIGITS.charAt(63&a)}return t},n.prototype.decode=function(e){if("undefined"!=typeof window&&"undefined"!=typeof window.atob)return window.atob(e);for(var t,n,r=[],i=e.length,o=0;;){do t=this._inverseData.charCodeAt(255&e.charCodeAt(o++));while(255===t&&o<i);do n=this._inverseData.charCodeAt(255&e.charCodeAt(o++));while(255===n&&o<i);if(255===n)break;r.push(255&(t<<2|n>>4));do t=this._inverseData.charCodeAt(255&e.charCodeAt(o++));while(255===t&&o<i);if(255===t)break;r.push(255&(n<<4|t>>2));do n=this._inverseData.charCodeAt(255&e.charCodeAt(o++));while(255===n&&o<i);if(255===n)break;r.push(255&(t<<6|n))}return this._stringFromCharCode(r)};var r=new n;e.exports={encode:r.encode.bind(r),decode:r.decode.bind(r)}},function(e,t,n){"use strict";function r(e){this._limit=e||100,this._list=null,this._map=null,this.clear()}var i=n(614);r.prototype.get=function(e){var t=this._map[e];if(!t)return null;var n=this._list;return n.remove(t),n.append(t),t.value},r.prototype.set=function(e,t){if(!e)throw new TypeError("Cache key can't be empty!");var n=this._list,r=this._map;if(n.length>=this._limit){var o=n.first;r[o.key]=null,n.remove(o)}var a=r[e];a?(n.remove(a),a.value=t):(a=new i.Node(t),a.key=e),n.append(a),r[e]=a},r.prototype.remove=function(e){var t=this._map,n=t[e];return n?(this._list.remove(n),t[e]=null,n.value):null},r.prototype.size=function(){return this._list.length},r.prototype.clear=function(){this._list=new i,this._map={}},e.exports=r},function(e,t){"use strict";function n(e){Error.call(this,e),this.message=e,this.code=null,this.target=null}n.prototype=new Error,n.prototype.constructor=n,n.prototype.name="FragmentError",e.exports=n},function(e,t){"use strict";function n(e,t){var n=t.manifest;if("file_urls_mp3"in n&&n.file_urls_mp3.length){var r=n.file_urls_mp3[0],i=r.file_url||"",o=i.split("/"),a=o.pop();return{noLog:!0,uri:t.metadata.uri,format:"MP3",fileId:a,bitrate:16e4,resolvedURL:i,impressionURL:r.impression_url,impressionURLs:r.impression_urls,playable:!!i}}for(var s=0,u=e.length;s<u;s++){var l=e[s];if(l in n){var c=n[l];if(c.length){var p=c[0];return{noLog:!1,uri:t.metadata.uri,format:l.replace("file_ids_","").toUpperCase(),fileId:p.file_id,bitrate:p.bitrate,resolvedURL:null,impressionURL:null,playable:!!p.file_id}}}}return null}e.exports=n},function(e,t){"use strict";function n(){this.url="",this.headers={},this.status=0,this.body=null}n.prototype.getStatusFamily=function(){return 0|this.status/100},e.exports=n},function(e,t){"use strict";function n(e,t){Error.call(this),this.message=e,this.status=t||0}n.prototype=new Error,n.prototype.constructor=n,n.prototype.name="RequestError",e.exports=n},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=r(i),a=n(3),s=n(15),u=n(374),l=r(u),c=function(e){return o.default.createElement(a.Provider,{store:e.store},o.default.createElement(s.Router,{createElement:e.createElement,history:e.history,routes:(0,l.default)(e.store),render:e.render}))};t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(383),l=(r(u),n(1)),c=r(l),p=n(30),f=r(p),d=n(100),h=r(d),y=n(63),_=n(27),m=n(51),v=n(2),g="https://www.spotify.com/account/",b="https://www.spotify.com/legal/",E="https://www.spotify.com/legal/privacy-policy/",S="https://www.spotify.com/legal/privacy-policy/#s13",T="https://www.spotify.com/legal/privacy-policy/#s13",w=function(e){function t(){i(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.handleLogExternalLink=e.handleLogExternalLink.bind(e),e}return a(t,e),s(t,[{key:"handleLogExternalLink",value:function(e){this.props.dispatch((0,m.logExternalLink)(e.target.getAttribute("href")))}},{key:"render",value:function(){var e=(0,_.selectImageUrlForWidth)(210,this.props.user.images);return c.default.createElement("section",{className:"accountPage"},c.default.createElement("div",{className:"accountPage-bodyContainer"},c.default.createElement("div",{className:"accountPage-body"},c.default.createElement("div",null,e&&c.default.createElement("img",{className:"accountPage-image",src:e}),!e&&c.default.createElement(h.default,null),c.default.createElement(f.default,null,this.props.user.display_name)),c.default.createElement(y.ButtonGroup,{alignment:"vertical"},c.default.createElement(y.Button,{href:g+"?utm_source=play&utm_campaign=wwwredirect&utm_medium=stp_test",onClick:this.handleLogExternalLink,_blank:!0,className:"btn-black btn-small",style:{minWidth:240}},(0,v._)("settings.view-account")),c.default.createElement(y.Button,{href:"https://www.spotify.com/home?utm_source=play&utm_campaign=wwwredirect&utm_medium=stp_test",onClick:this.handleLogExternalLink,_blank:!0,className:"btn-black btn-small",style:{minWidth:240}},(0,v._)("settings.view-full-website")),c.default.createElement(y.Button,{href:"https://support.spotify.com?utm_source=play&utm_campaign=wwwredirect&utm_medium=stp_test",onClick:this.handleLogExternalLink,_blank:!0,className:"btn-black btn-small",style:{minWidth:240}},(0,v._)("settings.view-help")),c.default.createElement(y.Button,{onClick:this.props.onLogout,className:"btn-black btn-small logout-button",style:{minWidth:240}},(0,v._)("settings.log-out"))))),c.default.createElement("div",{className:"accountPage-footer"},c.default.createElement("div",{className:"footerLinks"},c.default.createElement("a",{className:"footerLinks__item",href:b,onClick:this.handleLogExternalLink,target:"_blank"},(0,v._)("legal")),c.default.createElement("span",{className:"footerLinks__divider"},"|"),c.default.createElement("a",{className:"footerLinks__item",href:E,onClick:this.handleLogExternalLink,target:"_blank"},(0,v._)("privacy")),c.default.createElement("span",{className:"footerLinks__divider"},"|"),c.default.createElement("a",{className:"footerLinks__item",href:S,onClick:this.handleLogExternalLink,target:"_blank"},(0,v._)("cookies")),c.default.createElement("span",{className:"footerLinks__divider"},"|"),c.default.createElement("a",{className:"footerLinks__item",href:T,onClick:this.handleLogExternalLink,target:"_blank"},(0,v._)("about_ads")))))}}]),t}(c.default.PureComponent);t.default=w},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=e.onClose,n=e.users,r=e.onPlaylistSelect,i=e.onNewPlaylist,o=e.onLoadMore,s=e.playlists,l=e.isFullyLoaded;return a.default.createElement("div",{className:"dialog"},s&&a.default.createElement(S.default,{onReachBottom:o,full:l,useCustomScrollContainer:!0},a.default.createElement("div",{className:(0,w.default)(u.default.addToPlaylistDialog,"contentSpacing")},a.default.createElement("div",{className:u.default.addToPlaylistDialogHeader},a.default.createElement(v.default,{className:"btn-transparent",style:{width:32},onClick:t},a.default.createElement(b.default,null)),a.default.createElement("div",{className:(0,w.default)("asideButton-container",u.default.addToPlaylistDialogHeaderSpacing)},a.default.createElement(c.default,{size:"xlarge",align:"center",noMargins:!0},(0,C._)("playlist.add-to-header")),a.default.createElement("div",{className:"asideButton"},a.default.createElement(v.default,{className:"asideButton-button btn-green btn-small",onClick:i},(0,C._)("playlist.create-new"))))),a.default.createElement(f.default,null,s.map(function(e){var t=n&&n[e.owner.uri]&&[n[e.owner.uri]]||[];return a.default.createElement("div",{key:e.id},a.default.createElement(h.default,{entity:e,isPlayable:!1,isLinking:!1,hoverElement:a.default.createElement(_.default,null),metaText:e.tracks.total+" songs",onClick:r,owners:t}))})))))}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=r(o),s=n(384),u=r(s),l=n(30),c=r(l),p=n(42),f=r(p),d=n(35),h=r(d),y=n(259),_=r(y),m=n(26),v=r(m);n(162);var g=n(99),b=r(g),E=n(101),S=r(E),T=n(14),w=r(T),C=n(2);t.default=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(385),l=(r(u),n(1)),c=r(l),p=n(26),f=r(p),d=n(78),h=r(d),y=n(53),_=r(y),m=n(145),v=r(m),g=n(32),b=r(g),E=n(65),S=r(E),T=n(2),w=n(9),C=r(w),O=n(14),k=r(O),R=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return a(t,e),s(t,[{key:"shouldComponentUpdate",value:function(e){return this.props.playbackState.contextURI!==e.playbackState.contextURI||!(0,C.default)(this.props.owners,e.owners)||this.props.playbackState.isPlaying!==e.playbackState.isPlaying||this.props.isSaved!==e.isSaved||JSON.stringify(this.props.album)!==JSON.stringify(e.album)||this.props.playbackState.trackURI!==e.playbackState.trackURI}},{key:"render",value:function(){var e=this.props.album.tracks||{items:[],total:0},t=this.props.playbackState&&this.props.playbackState.isPlaying&&this.props.playbackState.contextURI===this.props.album.uri,n=null,r=this.props.album&&!this.props.album.is_playable,i=r;if(r){this.props.album.restrictions&&"product"===this.props.album.restrictions.reason&&(n=c.default.createElement("div",{className:"album-windowed-message"},c.default.createElement("h2",{className:"album-windowed-message--header"},(0,T._)("windowed.product-album-header")),c.default.createElement("div",{className:"album-windowed-message--description"},(0,T._)("windowed.product-album-description"))));for(var o=0;o<e.items.length;o++){var a=e.items[o];if(a.is_playable){i=!1;break}}}return c.default.createElement("section",{className:"content album contentSpacing"},c.default.createElement("div",{className:"container-fluid"},c.default.createElement("div",{className:"row"},c.default.createElement("div",{className:"col-xs-12 col-lg-3 col-xl-4 col-sticky"},c.default.createElement(h.default,{entity:this.props.album,totalTracks:e.total,onClickPlay:this.props.onPlayContext,playbackState:this.props.playbackState,isSaved:this.props.isSaved,owners:this.props.owners,isPlayable:!i},c.default.createElement(f.default,{className:(0,k.default)("btn-green",{disabled:i}),onClick:this.props.onPlayContext},(0,T._)(t?"album.pause":"album.play")),c.default.createElement("div",{className:"horizontal-list"},c.default.createElement(f.default,{className:"btn-transparent btn--narrow",onClick:this.props.onSave},(0,T._)(this.props.isSaved?"album.remove":"album.save")),c.default.createElement(S.default,{uri:this.props.album.uri,holdToDisplay:0},c.default.createElement(f.default,{className:"btn-transparent btn--narrow"},c.default.createElement("div",{className:"spoticon-ellipsis-24"})))))),c.default.createElement("div",{className:"col-xs-12 col-lg-9 col-xl-8"},n,c.default.createElement(_.default,{tracks:e.items,contextURI:this.props.album.uri,playbackState:this.props.playbackState,dispatch:this.props.dispatch}),this.props.album&&this.props.album.tracks&&this.props.album.tracks.items&&this.props.album.tracks.items.length!==this.props.album.tracks.total?c.default.createElement(b.default,null):null,c.default.createElement(v.default,{copyrights:this.props.album.copyrights||[]})))))}}]),t}(c.default.Component);t.default=R},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){var n=null,r=[],i=[],o=[],a=[],s={},u={},l="spotify:artist:"+t.params.artistId;e.entities.all.has(l)&&(n=e.entities.all.get(l),a=n.relatedArtists&&n.relatedArtists.map(function(t){return e.entities.all.get(t)}),n.albums&&(s=Object.assign({},n.albums,{items:n.albums.items.map(function(t){return e.entities.all.get(t)})}),s.items.some(function(e){return u=e,"compilation"!==e.album_type}),r=s.items.filter(function(e){return"album"===e.album_type}),i=s.items.filter(function(e){return"single"===e.album_type}),o=s.items.filter(function(e){return"compilation"===e.album_type})));var c=t.location.pathname,p=e.entities.follows.get(l),f=(0,g.extractBasicPlaybackData)(e);return{artist:n,albums:r,singles:i,compilations:o,latestRelease:u,relatedArtists:a,uri:l,playbackState:f,isFollowing:p,path:c}}Object.defineProperty(t,"__esModule",{value:!0}),t.Artist=void 0;var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(161),c=(r(l),n(1)),p=r(c),f=n(233),d=r(f),h=n(29),y=r(h),_=n(5),m=n(7),v=n(16),g=n(17),b=n(3),E=n(54),S=n(9),T=r(S),w=t.Artist=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleClickPlay=n.handleClickPlay.bind(n),n.handlePlayAlbum=n.handlePlayAlbum.bind(n),n.handleToggleFollowArtist=n.handleToggleFollowArtist.bind(n),n.handlePlayArtist=n.handlePlayArtist.bind(n),n}return a(t,e),u(t,[{key:"shouldComponentUpdate",value:function(e){return null!==e.artist&&null!==this.props.artist&&(e.artist.uri!==this.props.artist.uri||!(0,T.default)(e.artist.headerImages,this.props.artist.headerImages)||!(0,T.default)(e.artist.topTracks,this.props.artist.topTracks)||!(0,T.default)(e.playbackState,this.props.playbackState)||e.compilations.length!==this.props.compilations.length||e.singles.length!==this.props.singles.length||e.albums.length!==this.props.albums.length||e.isFollowing!==this.props.isFollowing||e.path!==this.props.path)}},{key:"componentWillReceiveProps",value:function(e){this.props.uri===e.uri||e.artist?e.artist&&(0,E.hasSimpleMetadata)(e.artist)&&this.props.dispatch((0,_.requestArtistComplementaryData)(e.uri)):this.props.dispatch((0,_.requestArtist)(e.uri));var t=e.artist&&e.artist.name,n=this.props.artist&&this.props.artist.name;t&&t!==n&&(document.title=e.artist.name)}},{key:"fetchInitialData",value:function(){this.props.artist?((0,E.hasSimpleMetadata)(this.props.artist)&&this.props.dispatch((0,_.requestArtistComplementaryData)(this.props.uri)),this.props.artist.name&&(document.title=this.props.artist.name)):this.props.dispatch((0,_.requestArtist)(this.props.uri)),this.props.dispatch((0,_.requestIsFollowingArtist)(this.props.uri))}},{key:"fetchMoreData",value:function(){this.props.dispatch((0,_.requestArtistAlbums)(this.props.uri))}},{key:"handleClickPlay",value:function(){this.props.dispatch((0,m.playArtist)(this.props.uri))}},{key:"handlePlayAlbum",value:function(e){this.props.dispatch((0,m.playAlbum)(e))}},{key:"handleToggleFollowArtist",value:function(){this.props.dispatch(this.props.isFollowing?(0,v.unfollowArtist)(this.props.uri):(0,v.followArtist)(this.props.uri))}},{key:"handlePlayArtist",value:function(e){this.props.dispatch((0,m.playArtist)(e))}},{key:"render",value:function(){if(this.props.artist){var e=this.props,t=e.artist,n=e.relatedArtists,r=e.playbackState,i=e.singles,o=e.albums,a=e.latestRelease,s=e.compilations,u=e.dispatch;return p.default.createElement("section",{className:"content artist"},p.default.createElement(d.default,{artist:this.props.artist,onClickPlay:this.handleClickPlay,playbackState:this.props.playbackState,onFollow:this.handleToggleFollowArtist,isFollowing:this.props.isFollowing,path:this.props.path,dispatch:this.props.dispatch}),p.default.cloneElement(this.props.children,{artist:t,relatedArtists:n,playbackState:r,singles:i,albums:o,latestRelease:a,compilations:s,dispatch:u,onPlayArtist:this.handlePlayArtist,onPlayAlbum:this.handlePlayAlbum}))}return p.default.createElement("div",null)}}]),t}(y.default);w.propTypes={dispatch:p.default.PropTypes.func.isRequired,artist:p.default.PropTypes.object,uri:p.default.PropTypes.string.isRequired,playbackState:p.default.PropTypes.object.isRequired,albums:p.default.PropTypes.array,singles:p.default.PropTypes.array,compilations:p.default.PropTypes.array,relatedArtists:p.default.PropTypes.array,latestRelease:p.default.PropTypes.object,path:p.default.PropTypes.string,isFollowing:p.default.PropTypes.bool},t.default=(0,b.connect)(s)(w)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(386),o=(r(i),n(1)),a=r(o),s=n(27),u=function(e){var t=e.className+" col-md-10 about-artist";return e.artist?a.default.createElement("div",null,a.default.createElement("div",{className:"container-fluid artist-about-container"},a.default.createElement("div",{className:"row"},a.default.createElement("section",{className:t},(0,s.formatBio)(e.artist.bio).map(function(e,t){return a.default.createElement("p",{key:t},e)}))))):a.default.createElement("div",null)};u.defaultProps={className:""},t.default=u},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),l=r(u),c=n(42),p=r(c),f=n(35),d=r(f),h=n(63),y=n(14),_=r(y),m=n(387),v=r(m),g=n(260),b=r(g),E=n(262),S=r(E),T=n(2),w=function(e){function t(){i(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.resizeTimeout=!1,e.state={limitItems:!0,windowSize:window.innerWidth},e.handleToggle=e.handleToggle.bind(e),e.changeWindowSize=e.changeWindowSize.bind(e),e.resizeThrottler=e.resizeThrottler.bind(e),e}return a(t,e),s(t,[{key:"componentDidMount",value:function(){window.addEventListener("resize",this.resizeThrottler,!1)}},{key:"shouldComponentUpdate",value:function(e,t){return e.albums.length!==this.props.albums.length||e.playbackState.contextURI!==this.props.playbackState.contextURI||e.playbackState.isPlaying!==this.props.playbackState.isPlaying||t.limitItems!==this.state.limitItems||t.windowSize!==this.state.windowSize}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.changeWindowSize)}},{key:"handleToggle",value:function(){this.setState({limitItems:!this.state.limitItems})}},{key:"changeWindowSize",value:function(){this.setState({windowSize:window.innerWidth})}},{key:"resizeThrottler",value:function(){clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(this.changeWindowSize,250)}},{key:"render",value:function(){var e=this,t=this.state.windowSize,n=2,r={min:768,medium:992,large:1200,
extra:1700};t>=r.extra?n=12:t<r.extra&&t>=r.large?n=8:t<r.large&&t>=r.medium?n=6:t<r.medium&&t>=r.min&&(n=4);var i=this.props.className+" artist-albums",o=this.props.albums||[];return this.state.limitItems&&(o=o.slice(0,12)),l.default.createElement("section",{className:(0,_.default)("contentSpacing",i)},this.props.children,l.default.createElement(p.default,{className:(0,_.default)({"grid--limit":this.state.limitItems})},o.map(function(t){return l.default.createElement(d.default,{key:t.uri,isPlayable:!0,entity:t,owners:t.artists||[],playbackState:e.props.playbackState,onClickPlay:e.props.onPlayAlbum})})),this.props.albums.length>n&&l.default.createElement("div",{className:v.default.showMoreWrapper},l.default.createElement(h.Button,{onClick:this.handleToggle,className:"btn-transparent btn-fg-green",noMargin:!0},this.state.limitItems?l.default.createElement("span",null,(0,T._)("artist.show-more-albums")," ",l.default.createElement(b.default,null)):l.default.createElement("span",null,(0,T._)("artist.show-less-albums")," ",l.default.createElement(S.default,null)))))}}]),t}(l.default.Component);w.defaultProps={className:""},t.default=w},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(388),l=(r(u),n(1)),c=r(l),p=n(26),f=r(p),d=n(77),h=r(d),y=n(2),_=n(9),m=r(_),v=n(8),g=function(e){function t(e){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return a(t,e),s(t,[{key:"componentWillReceiveProps",value:function(e){var t=this._extractHeaderImage(e),n=this._extractHeaderImage(this.props);t&&t!==n&&(this.props.dispatch((0,v.hideBackgroundImage)()),this.props.dispatch((0,v.resetBackgroundColor)()))}},{key:"shouldComponentUpdate",value:function(e){return e.artist.uri!==this.props.artist.uri||e.isFollowing!==this.props.isFollowing||e.playbackState.isPlaying!==this.props.playbackState.isPlaying||e.playbackState.contextURI!==this.props.playbackState.contextURI||e.path!==this.props.path||!(0,m.default)(e.artist.headerImages,this.props.artist.headerImages)}},{key:"_extractHeaderImage",value:function(e){return e.artist&&e.artist.headerImages&&e.artist.headerImages[0]||null}},{key:"headerTitleClass",value:function(e){var t=e.length;return t<15?"large":t>=15&&t<50?"medium":"small"}},{key:"render",value:function(){var e=this.props.playbackState.isPlaying&&this.props.playbackState.contextURI===this.props.artist.uri,t=this.props.artist.headerImages&&this.props.artist.headerImages[0]&&this.props.artist.headerImages[0].url,n=[{title:(0,y._)("artist.overview"),to:"/artist/"+this.props.artist.id},{title:(0,y._)("artist.related"),to:"/artist/"+this.props.artist.id+"/related"}];return null!==this.props.artist.bio&&n.push({title:(0,y._)("artist.about"),to:"/artist/"+this.props.artist.id+"/about"}),c.default.createElement("header",{className:"artist-header",style:{backgroundImage:t&&"url("+t+")"}},c.default.createElement("span",{className:"followers"},(0,y._)("artist.followers-count",this.props.artist.followers.total.toLocaleString(y.I18n.getInstance().locale))),c.default.createElement("h1",{className:this.headerTitleClass(this.props.artist.name)},this.props.artist.name),c.default.createElement("div",{className:"header-buttons"},c.default.createElement(f.default,{className:"btn-green",onClick:this.props.onClickPlay},(0,y._)(e?"artist.pause":"artist.play")),c.default.createElement(f.default,{className:"btn-black",onClick:this.props.onFollow},(0,y._)(this.props.isFollowing?"artist.unfollow":"artist.follow"))),c.default.createElement(h.default,{onlyActiveOnIndex:!0,links:n}))}}]),t}(c.default.Component);t.default=g},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(161),l=(r(u),n(1)),c=r(l),p=n(236),f=r(p),d=n(30),h=r(d),y=n(235),_=r(y),m=n(232),v=r(m),g=n(2),b=n(9),E=r(b),S=function(e){function t(e){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return a(t,e),s(t,[{key:"shouldComponentUpdate",value:function(e){return e.artist.uri!==this.props.artist.uri||e.compilations.length!==this.props.compilations.length||e.singles.length!==this.props.singles.length||e.albums.length!==this.props.albums.length||!(0,E.default)(e.playbackState,this.props.playbackState)||!(0,E.default)(e.artist.topTracks,this.props.artist.topTracks)}},{key:"render",value:function(){return this.props.artist?c.default.createElement("div",null,c.default.createElement("section",{className:"artist-music container-fluid"},c.default.createElement("div",{className:"row"},c.default.createElement(f.default,{latestRelease:this.props.latestRelease})),c.default.createElement("div",{className:"row"},this.props.artist.topTracks?c.default.createElement(_.default,{className:"col-sm-12 col-md-10",artist:this.props.artist,dispatch:this.props.dispatch,playbackState:this.props.playbackState}):"")),this.props.albums.length?c.default.createElement(v.default,{className:"artist-albums",albums:this.props.albums,playbackState:this.props.playbackState,onPlayAlbum:this.props.onPlayAlbum},c.default.createElement(h.default,{align:"center",size:"medium"},(0,g._)("artist.albums"))):"",this.props.singles.length?c.default.createElement(v.default,{className:"artist-singles",albums:this.props.singles,playbackState:this.props.playbackState,onPlayAlbum:this.props.onPlayAlbum},c.default.createElement(h.default,{align:"center",size:"medium"},(0,g._)("artist.singles"))):"",this.props.compilations.length?c.default.createElement(v.default,{className:"artist-compilations",albums:this.props.compilations,playbackState:this.props.playbackState,onPlayAlbum:this.props.onPlayAlbum},c.default.createElement(h.default,{align:"center",size:"medium"},(0,g._)("artist.compilations"))):""):c.default.createElement("div",null)}}]),t}(c.default.Component);t.default=S},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(389),l=(r(u),n(1)),c=r(l),p=n(53),f=r(p),d=n(30),h=r(d),y=n(2),_=n(9),m=r(_),v=function(e){function t(e){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return a(t,e),s(t,[{key:"shouldComponentUpdate",value:function(e){return!(0,m.default)(e.artist.topTracks,this.props.artist.topTracks)||!(0,m.default)(e.artist.playbackState,this.props.playbackState)}},{key:"render",value:function(){var e=this.props.className+" artist-toptracks";return c.default.createElement("section",{className:e},c.default.createElement(h.default,{align:"center",size:"medium"},(0,y._)("artist.popular-tracks")),c.default.createElement(f.default,{tracks:this.props.artist.topTracks.slice(0,5)||[],type:"artist",contextURI:this.props.artist.uri,playbackState:this.props.playbackState,dispatch:this.props.dispatch,className:"full-width"}))}}]),t}(c.default.Component);v.defaultProps={className:""},t.default=v},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(390),o=(r(i),n(1)),a=r(o),s=n(15),u=n(30),l=r(u),c=n(2),p=n(65),f=r(p),d=function(e){var t=e.latestRelease;return t.images?a.default.createElement("section",{className:"col-sm-8 col-md-10 latest-release"},a.default.createElement(l.default,{align:"center",size:"medium"},(0,c._)("artist.latest-release")),a.default.createElement(f.default,{uri:t.uri},a.default.createElement("div",{className:"row"},a.default.createElement("div",{className:"col-sm-2 col-md-2 album-image"},a.default.createElement("img",{src:t.images[2].url})),a.default.createElement("div",{className:"col-sm-8 col-md-10 album-title"},a.default.createElement(s.Link,{to:"/album/"+t.id},t.name," "))))):a.default.createElement("section",null)};t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(391),o=(r(i),n(1)),a=r(o),s=n(73),u=r(s),l=n(14),c=r(l),p=function(e){return e.artist?a.default.createElement("section",{className:(0,c.default)(e.className,"contentSpacing","related-artists")},a.default.createElement(u.default,{artists:e.relatedArtists,playbackState:e.playbackState,onPlayArtist:e.onPlayArtist})):a.default.createElement("div",null)};p.defaultProps={className:""},t.default=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(t,n){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(1),p=r(c),f=n(393),d=r(f),h=n(14),y=r(h),_=function(e){function t(e){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return s(t,e),l(t,[{key:"shouldComponentUpdate",value:function(e){return this.props.backgroundImage!==e.backgroundImage||this.props.backgroundColor!==e.backgroundColor}},{key:"rgbToHsl",value:function(e,t,n){var r=e/255,i=t/255,o=n/255,a=Math.max(r,i,o),s=Math.min(r,i,o),u=void 0,l=void 0,c=(a+s)/2;if(a===s)u=l=0;else{var p=a-s;switch(l=c>.5?p/(2-a-s):p/(a+s),a){case r:u=(i-o)/p+(i<o?6:0);break;case i:u=(o-r)/p+2;break;case o:u=(r-i)/p+4}u/=6}return[u,l,c]}},{key:"render",value:function(){var e=this.props.backgroundColor||[18,18,18],t=u(e,3),n=t[0],r=t[1],o=t[2],a=this.rgbToHsl(n,r,o),s=u(a,3),l=s[0],c=s[1],f=s[2],h=this.props.backgroundImage?{backgroundImage:"url(/static/assets/"+this.props.backgroundImage}:{backgroundImage:"linear-gradient(to bottom, hsl("+360*l+", "+100*c+"%,\n    "+Math.min(100*f,30)+"%), hsl("+360*l+", "+100*c+"%, 3%) 85%)"};return p.default.createElement("div",{className:(0,y.default)(d.default.burst,i({},d.default.noGradient,this.props.backgroundImage)),style:h})}}]),t}(p.default.Component);t.default=_},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(394),o=r(i),a=n(1),s=r(a),u=n(77),l=r(u),c=n(2),p=function(e){var t=e.children;return s.default.createElement("section",{className:"contentSpacing"},s.default.createElement(l.default,{links:[{title:(0,c._)("browse.featured"),to:"/browse/featured"},{title:(0,c._)("browse.genres-and-moods"),to:"/browse/genres"},{title:(0,c._)("browse.new-releases"),to:"/browse/newreleases"},{title:(0,c._)("browse.discover"),to:"/browse/discover"}]}),s.default.createElement("div",{className:o.default.content},t))};t.default=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){var t=e.children,n=e.alignment;return s.default.createElement("div",{className:(0,p.default)("button-group","button-group--"+n)},s.default.Children.map(t,function(e,t){return s.default.createElement("div",{key:t,className:"button-group__item"},e)}))}Object.defineProperty(t,"__esModule",{value:!0});var o=n(396),a=(r(o),n(1)),s=r(a),u=n(26),l=r(u),c=n(14),p=r(c);s.default.PropTypes.shape({type:s.default.PropTypes.oneOf([l.default])});i.defaultProps={alignment:"horizontal"},t.default=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),l=r(u),c=n(397),p=r(c),f=n(84),d=r(f),h=n(63),y=n(30),_=r(y),m=n(2),v=n(51),g=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return(0,d.default)(n),n}return a(t,e),s(t,[{key:"handleLogExternalLink",value:function(e){this.props.dispatch((0,v.logExternalLink)(e.target.getAttribute("href")))}},{key:"render",value:function(){return l.default.createElement("div",{className:"dialog"},l.default.createElement("div",{className:p.default.cdmErrorDialog},l.default.createElement("img",{className:p.default.cdmErrorDialogImage,src:"/static/images/devices/mac-web.png"}),l.default.createElement(_.default,{size:"large",align:"center"},(0,m._)("cdmerror.header")),l.default.createElement(_.default,{align:"center",isSubheader:!0},l.default.createElement("p",{className:p.default.cdmErrorDialogDescription},(0,m._)("cdmerror.subtitle.one")),l.default.createElement("p",{className:p.default.cdmErrorDialogDescription},(0,m._)("cdmerror.subtitle.two"))),l.default.createElement(h.Button,{className:"btn-green",href:"https://support.spotify.com/us/using_spotify/search_play/enable-the-spotify-web-player/?utm_source=open&utm_campaign=drm_error&utm_medium=web",_blank:!0,onClick:this.handleLogExternalLink},(0,m._)("cdmerror.cta"))))}}]),t}(l.default.Component);t.default=g},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(80),o=r(i),a=n(1),s=r(a),u=n(77),l=r(u),c=n(26),p=r(c);n(162);var f=n(14),d=r(f),h=n(2),y=function(e){var t=e.children,n=e.onNewPlaylist;return s.default.createElement("section",{className:"contentSpacing"},s.default.createElement("div",{className:(0,d.default)(o.default.tabBarContainer)},s.default.createElement("div",{className:"asideButton-container"},s.default.createElement(l.default,{links:[{title:(0,h._)("collection.tab-playlists"),to:"/collection/playlists"},{title:(0,h._)("collection.tab-daily-mix"),to:"/daily-mix-hub"},{title:(0,h._)("collection.tab-songs"),to:"/collection/songs"},{title:(0,h._)("collection.tab-albums"),to:"/collection/albums"},{title:(0,h._)("collection.tab-artists"),to:"/collection/artists"}]}),s.default.createElement("div",{className:(0,d.default)("asideButton")},s.default.createElement(p.default,{className:(0,d.default)("btn-green","btn-small asideButton-button"),onClick:n},(0,h._)("playlist.create-new"))))),s.default.createElement("div",{className:o.default.content},t))};t.default=y},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.AlbumMenu=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(43);var u=n(1),l=r(u),c=n(24),p=n(8),f=n(7),d=n(16),h=n(5),y=n(27),_=n(23),m=n(3),v=n(41),g=r(v),b=n(2),E=t.AlbumMenu=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleAddToPlaylist=n.handleAddToPlaylist.bind(n),n.handleCopyLink=n.handleCopyLink.bind(n),n.assignTextboxRef=n.assignTextboxRef.bind(n),n.handleStartRadioLink=n.handleStartRadioLink.bind(n),n.handleSaveRemoveAlbum=n.handleSaveRemoveAlbum.bind(n),n}return a(t,e),s(t,[{key:"componentWillReceiveProps",value:function(e){null!==e.uri&&this.props.dispatch((0,h.requestIsAlbumSaved)(e.uri))}},{key:"getAlbumId",value:function(e){return e.split(":").pop()}},{key:"handleCopyLink",value:function(){(0,y.copyTextFromInputElement)(this.txtCopyLink)&&this.props.dispatch((0,p.copyLinkSuccess)(this.txtCopyLink.value))}},{key:"handleAddToPlaylist",value:function(e,t){var n=t.uri;this.props.dispatch((0,p.openAddToPlaylistDialog)(n))}},{key:"assignTextboxRef",value:function(e){e&&(this.txtCopyLink=e)}},{key:"handleStartRadioLink",value:function(e,t){var n=t.uri,r=this.getAlbumId(n);this.props.dispatch((0,f.startRadio)("spotify:radio:album:"+r))}},{key:"handleSaveRemoveAlbum",value:function(e,t){var n=t.uri,r=this.props.isInCollection?d.removeAlbum:d.saveAlbum;this.props.dispatch(r(n))}},{key:"makeAlbumURL",value:function(e){var t=this.getAlbumId(e);return window.location.origin+"/album/"+t}},{key:"render",value:function(){var e=this.props,t=e.isInCollection,n=e.uri;if(null===n)return l.default.createElement(c.ContextMenu,{id:_.ALBUM_MENU_ID});var r=this.makeAlbumURL(n);return l.default.createElement(c.ContextMenu,{id:_.ALBUM_MENU_ID,currentItem:this.currentItem},l.default.createElement(c.MenuItem,{onClick:this.handleStartRadioLink},(0,b._)("context-menu.start-radio")),t?null:l.default.createElement(c.MenuItem,{onClick:this.handleSaveRemoveAlbum},(0,b._)("context-menu.save-album")),l.default.createElement(c.MenuItem,{onClick:this.handleAddToPlaylist},(0,b._)("context-menu.add-to-playlist")),l.default.createElement(c.MenuItem,{onClick:this.handleCopyLink},(0,b._)("context-menu.copy-album-link"),l.default.createElement("textarea",{readOnly:!0,ref:this.assignTextboxRef,value:r,style:{width:0,height:0,opacity:0}})),t?l.default.createElement(c.MenuItem,{onClick:this.handleSaveRemoveAlbum},(0,b._)("context-menu.remove-album")):null)}}]),t}(l.default.Component),S=function(e,t){var n=t.item&&t.item.uri||null;return{isInCollection:null!==n&&e.entities.follows.get(n),uri:n}};t.default=(0,g.default)(_.ALBUM_MENU_ID)((0,m.connect)(S,null,null,{areStatePropsEqual:function(e,t){return e.uri===t.uri&&e.isInCollection===t.isInCollection}})(E))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.ArtistMenu=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(43);var u=n(1),l=r(u),c=n(24),p=n(8),f=n(16),d=n(7),h=n(5),y=n(27),_=n(23),m=n(3),v=n(41),g=r(v),b=n(2),E=t.ArtistMenu=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleCopyLink=n.handleCopyLink.bind(n),n.assignTextboxRef=n.assignTextboxRef.bind(n),n._makeArtistURL=n._makeArtistURL.bind(n),n.handleStartRadioLink=n.handleStartRadioLink.bind(n),n.handleFollowUnfollowArtist=n.handleFollowUnfollowArtist.bind(n),n}return a(t,e),s(t,[{key:"componentWillReceiveProps",value:function(e){e.uri&&this.props.dispatch((0,h.requestIsFollowingArtist)(e.uri))}},{key:"handleCopyLink",value:function(){(0,y.copyTextFromInputElement)(this.txtCopyLink)&&this.props.dispatch((0,p.copyLinkSuccess)(this.txtCopyLink.value))}},{key:"assignTextboxRef",value:function(e){e&&(this.txtCopyLink=e)}},{key:"_makeArtistURL",value:function(e){if(e){var t=e.split(/:/).pop();return window.location.origin+"/artist/"+t}return""}},{key:"handleStartRadioLink",value:function(e,t){var n=t.uri,r=n.split(":"),i=r.pop();this.props.dispatch((0,d.startRadio)("spotify:radio:artist:"+i))}},{key:"handleFollowUnfollowArtist",value:function(e,t){var n=t.uri,r=this.props.isFollowing?f.unfollowArtist:f.followArtist;this.props.dispatch(r(n))}},{key:"render",value:function(){var e=this._makeArtistURL(this.props.uri);return l.default.createElement(c.ContextMenu,{id:_.ARTIST_MENU_ID},this.props.isFollowing?null:l.default.createElement(c.MenuItem,{onClick:this.handleFollowUnfollowArtist},(0,b._)("context-menu.follow-artist")),l.default.createElement(c.MenuItem,{onClick:this.handleStartRadioLink},(0,b._)("context-menu.start-radio")),l.default.createElement(c.MenuItem,{onClick:this.handleCopyLink},(0,b._)("context-menu.copy-artist-link"),l.default.createElement("textarea",{ref:this.assignTextboxRef,value:e,style:{width:0,height:0,opacity:0}})),this.props.isFollowing?l.default.createElement(c.MenuItem,{onClick:this.handleFollowUnfollowArtist},(0,b._)("context-menu.unfollow-artist")):null)}}]),t}(l.default.Component),S=function(e,t){var n=!!t.item&&"uri"in t.item;return{uri:n?t.item.uri:null,isFollowing:n&&e.entities.follows.get(t.item.uri)}};t.default=(0,g.default)(_.ARTIST_MENU_ID)((0,m.connect)(S,null,null,{areStatePropsEqual:function(e,t){return e.uri===t.uri&&e.isFollowing===t.isFollowing}})(E))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.EpisodeMenu=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(43);var u=n(1),l=r(u),c=n(24),p=n(23),f=n(8),d=n(27),h=n(3),y=n(41),_=r(y),m=n(2),v=t.EpisodeMenu=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.assignTextboxRef=n.assignTextboxRef.bind(n),n.makeShowURL=n.makeShowURL.bind(n),n.handleCopyLink=n.handleCopyLink.bind(n),n.noop=n.noop.bind(n),n}return a(t,e),s(t,[{key:"assignTextboxRef",value:function(e){e&&(this.txtCopyLink=e)}},{key:"handleCopyLink",value:function(){(0,d.copyTextFromInputElement)(this.txtCopyLink)&&this.props.dispatch((0,f.copyLinkSuccess)(this.txtCopyLink.value))}},{key:"makeShowURL",value:function(e){if(e){var t=e.split(/:/);return window.location.origin+"/episode/"+t[2]}return""}},{key:"noop",value:function(){}},{key:"render",value:function(){var e=this.makeShowURL(this.props.uri);return l.default.createElement(c.ContextMenu,{id:p.EPISODE_MENU_ID,currentItem:this.currentItem},l.default.createElement(c.MenuItem,{onClick:this.handleCopyLink},(0,m._)("context-menu.copy-episode-link"),l.default.createElement("textarea",{ref:this.assignTextboxRef,value:e,onChange:this.noop,style:{width:0,height:0,opacity:0}})))}}]),t}(l.default.Component),g=function(e,t){var n=!!t.item&&"uri"in t.item;return{uri:n?t.item.uri:null}};t.default=(0,_.default)(p.EPISODE_MENU_ID)((0,h.connect)(g,null,null,{areStatePropsEqual:function(e,t){return e.uri===t.uri}})(v))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.GenericMenu=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(43);var u=n(1),l=r(u),c=n(24),p=n(8),f=n(27),d=n(23),h=n(3),y=n(41),_=r(y),m=n(2),v=n(13),g=r(v),b=t.GenericMenu=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleCopyLink=n.handleCopyLink.bind(n),n.assignTextboxRef=n.assignTextboxRef.bind(n),n.handleOnChange=n.handleOnChange.bind(n),n}return a(t,e),s(t,[{key:"componentWillUpdate",value:function(e){null===e.uri}},{key:"handleOnChange",value:function(){}},{key:"handleCopyLink",value:function(){(0,f.copyTextFromInputElement)(this.txtCopyLink)&&this.props.dispatch((0,p.copyLinkSuccess)(this.txtCopyLink.value))}},{key:"assignTextboxRef",value:function(e){e&&(this.txtCopyLink=e)}},{key:"render",value:function(){var e=window.location.origin+"/browse";return this.props.uri&&(e=""+window.location.origin+g.default.fromString(this.props.uri).toURLPath(!0)),l.default.createElement(c.ContextMenu,{id:d.GENERIC_MENU_ID,currentItem:this.currentItem},l.default.createElement(c.MenuItem,{onClick:this.handleCopyLink},(0,m._)("context-menu.copy-generic-link"),l.default.createElement("textarea",{ref:this.assignTextboxRef,onChange:this.handleOnChange,value:e,style:{width:0,height:0,opacity:0}})))}}]),t}(l.default.Component),E=function(e,t){var n=!!t.item&&"uri"in t.item;return{uri:n?t.item.uri:null}};t.default=(0,_.default)(d.GENERIC_MENU_ID)((0,h.connect)(E,null,null,{areStatePropsEqual:function(e,t){return e.uri===t.uri}})(b))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.PlaylistMenu=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(43);var u=n(1),l=r(u),c=n(24),p=n(8),f=n(7),d=n(16),h=n(5),y=n(27),_=n(23),m=n(3),v=n(41),g=r(v),b=n(84),E=r(b),S=n(2),T=t.PlaylistMenu=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return(0,E.default)(n),n}return a(t,e),s(t,[{key:"componentWillReceiveProps",value:function(e){null!==e.uri&&this.props.dispatch((0,h.requestIsFollowingPlaylist)(e.uri))}},{key:"componentWillUpdate",value:function(e){null!==e.uri&&this.props.dispatch((0,h.requestPlaylistPublishedState)(e.uri))}},{key:"handleCopyLink",value:function(){(0,y.copyTextFromInputElement)(this.txtCopyLink)&&this.props.dispatch((0,p.copyLinkSuccess)(this.txtCopyLink.value))}},{key:"assignTextboxRef",value:function(e){e&&(this.txtCopyLink=e)}},{key:"makePlaylistURL",value:function(e){if(e){var t=e.split(/:/);return window.location.origin+"/user/"+t[2]+"/playlist/"+t[4]}return""}},{key:"handleStartRadioLink",value:function(e,t){var n=t.uri,r=n.split(":"),i=r.pop(),o=r.splice(-2,1);this.props.dispatch((0,f.startRadio)("spotify:radio:user:"+o+":playlist:"+i))}},{key:"handlePublishPlaylist",value:function(){this.props.dispatch((0,
d.publishPlaylist)(this.props.uri))}},{key:"handleUnpublishPlaylist",value:function(){this.props.dispatch((0,d.unpublishPlaylist)(this.props.uri))}},{key:"handleDeletePlaylist",value:function(){this.props.onOpenDeletePlaylistDialog(this.props.uri)}},{key:"handleSaveRemovePlaylist",value:function(e,t){var n=t.uri,r=this.props.isInCollection?d.unfollowPlaylist:d.followPlaylist;this.props.dispatch(r(n))}},{key:"handleNoop",value:function(){}},{key:"render",value:function(){var e=this.makePlaylistURL(this.props.uri);return l.default.createElement(c.ContextMenu,{id:_.PLAYLIST_MENU_ID},l.default.createElement(c.MenuItem,{onClick:this.handleStartRadioLink},(0,S._)("context-menu.start-radio")),this.props.isInCollection?null:l.default.createElement(c.MenuItem,{onClick:this.handleSaveRemovePlaylist},(0,S._)("context-menu.follow-playlist")),l.default.createElement(c.MenuItem,{onClick:this.handleCopyLink},(0,S._)("context-menu.copy-playlist-link"),l.default.createElement("textarea",{ref:this.assignTextboxRef,value:e,onChange:this.handleNoop,style:{width:0,height:0,opacity:0}})),this.props.isPlaylistOwnedByUser&&this.props.isPublished&&l.default.createElement(c.MenuItem,{onClick:this.handleUnpublishPlaylist},(0,S._)("context-menu.make-playlist-secret")),this.props.isPlaylistOwnedByUser&&!this.props.isPublished&&l.default.createElement(c.MenuItem,{onClick:this.handlePublishPlaylist},(0,S._)("context-menu.make-playlist-public")),this.props.isPlaylistOwnedByUser&&l.default.createElement(c.MenuItem,{onClick:this.handleDeletePlaylist},(0,S._)("context-menu.delete-playlist")),this.props.isInCollection&&!this.props.isPlaylistOwnedByUser?l.default.createElement(c.MenuItem,{onClick:this.handleSaveRemovePlaylist},(0,S._)("context-menu.unfollow-playlist")):null)}}]),t}(l.default.Component);T.defaultProps={onOpenDeletePlaylistDialog:function(){}};var w=function(e,t){var n=!!t.item&&"uri"in t.item,r=!1,i=!1;if(n){var o=e.entities.all.get(t.item.uri),a=e.session&&e.session.user&&e.session.user.id;r=!(!o||a!==o.owner.id),i=o&&o.public}return{uri:n?t.item.uri:null,isInCollection:n&&e.entities.follows&&e.entities.follows.has(t.item.uri)&&e.entities.follows.get(t.item.uri),isPlaylistOwnedByUser:r,isPublished:i}},C=function(e){return{onOpenDeletePlaylistDialog:function(t){return e((0,p.openDeletePlaylistDialog)(t))},dispatch:e}};t.default=(0,g.default)(_.PLAYLIST_MENU_ID)((0,m.connect)(w,C,null,{areStatePropsEqual:function(e,t){return e.uri===t.uri&&e.isInCollection===t.isInCollection&&e.isPublished===t.isPublished&&e.isPlaylistOwnedByUser===t.isPlaylistOwnedByUser}})(T))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.RadioBanMenu=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(43);var u=n(1),l=r(u),c=n(24),p=n(23),f=n(3),d=n(41),h=r(d),y=n(2),_=n(16),m=t.RadioBanMenu=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleBanRadioTrack=n.handleBanRadioTrack.bind(n),n.handleBanRadioArtist=n.handleBanRadioArtist.bind(n),n}return a(t,e),s(t,[{key:"componentWillUpdate",value:function(e){null===e.uri||null===e.artistURI}},{key:"handleBanRadioArtist",value:function(){this.props.dispatch((0,_.banRadioContext)(this.props.artistURI,this.props.contextURI))}},{key:"handleBanRadioTrack",value:function(){this.props.dispatch((0,_.banRadioContext)(this.props.uri,this.props.contextURI))}},{key:"render",value:function(){return l.default.createElement(c.ContextMenu,{id:p.RADIO_BAN_MENU_ID,currentItem:this.currentItem},l.default.createElement(c.MenuItem,{onClick:this.handleBanRadioTrack},(0,y._)("context-menu.ban-track")),l.default.createElement(c.MenuItem,{onClick:this.handleBanRadioArtist},(0,y._)("context-menu.ban-artist")))}}]),t}(l.default.Component),v=function(e,t){var n=!!t.item&&"uri"in t.item;return{uri:n?t.item.uri:null,artistURI:n?t.item.artistURI:null,contextURI:n?t.item.contextURI:null}};t.default=(0,h.default)(p.RADIO_BAN_MENU_ID)((0,f.connect)(v,null,null,{areStatePropsEqual:function(e,t){return e.uri===t.uri&&e.artistURI===t.artistURI}})(m))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(1),a=r(o),s=n(24),u=n(23),l=function(e){return e};t.default=function(e){return e.uri?a.default.createElement(s.ContextMenuTrigger,i({id:u.RADIO_BAN_MENU_ID,collect:l},e)):a.default.createElement("span",null,e.children)}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.ShowMenu=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(43);var u=n(1),l=r(u),c=n(24),p=n(23),f=n(8),d=n(27),h=n(3),y=n(41),_=r(y),m=n(2),v=t.ShowMenu=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.assignTextboxRef=n.assignTextboxRef.bind(n),n.makeShowURL=n.makeShowURL.bind(n),n.handleCopyLink=n.handleCopyLink.bind(n),n.noop=n.noop.bind(n),n}return a(t,e),s(t,[{key:"assignTextboxRef",value:function(e){e&&(this.txtCopyLink=e)}},{key:"handleCopyLink",value:function(){(0,d.copyTextFromInputElement)(this.txtCopyLink)&&this.props.dispatch((0,f.copyLinkSuccess)(this.txtCopyLink.value))}},{key:"makeShowURL",value:function(e){if(e){var t=e.split(/:/);return window.location.origin+"/show/"+t[2]}return""}},{key:"noop",value:function(){}},{key:"render",value:function(){var e=this.makeShowURL(this.props.uri);return l.default.createElement(c.ContextMenu,{id:p.SHOW_MENU_ID,currentItem:this.currentItem},l.default.createElement(c.MenuItem,{onClick:this.handleCopyLink},(0,m._)("context-menu.copy-show-link"),l.default.createElement("textarea",{ref:this.assignTextboxRef,value:e,onChange:this.noop,style:{width:0,height:0,opacity:0}})))}}]),t}(l.default.Component),g=function(e,t){var n=!!t.item&&"uri"in t.item;return{uri:n?t.item.uri:null}};t.default=(0,_.default)(p.SHOW_MENU_ID)((0,h.connect)(g,null,null,{areStatePropsEqual:function(e,t){return e.uri===t.uri}})(v))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.TrackMenu=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(43);var u=n(1),l=r(u),c=n(24),p=n(5),f=n(27),d=n(16),h=n(7),y=n(8),_=n(23),m=n(3),v=n(13),g=r(v),b=n(41),E=r(b),S=n(2),T=t.TrackMenu=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleSaveTrack=n.handleSaveTrack.bind(n),n.handleRemoveTrack=n.handleRemoveTrack.bind(n),n.handleAddToPlaylist=n.handleAddToPlaylist.bind(n),n.handleRemoveFromPlaylist=n.handleRemoveFromPlaylist.bind(n),n.handleCopyLink=n.handleCopyLink.bind(n),n.assignTextboxRef=n.assignTextboxRef.bind(n),n.makeTrackURL=n.makeTrackURL.bind(n),n.handleStartRadioLink=n.handleStartRadioLink.bind(n),n}return a(t,e),s(t,[{key:"componentWillReceiveProps",value:function(e){null!==e.uri&&this.props.dispatch((0,p.requestCollectionContainsTrack)(e.uri))}},{key:"handleCopyLink",value:function(){(0,f.copyTextFromInputElement)(this.txtCopyLink)&&this.props.dispatch((0,y.copyLinkSuccess)(this.txtCopyLink.value))}},{key:"handleSaveTrack",value:function(e,t){var n=t.uri;this.props.dispatch((0,d.saveTrack)(n))}},{key:"handleRemoveTrack",value:function(e,t){var n=t.uri;this.props.dispatch((0,d.removeTrack)(n))}},{key:"handleAddToPlaylist",value:function(e,t){var n=t.uri;this.props.dispatch((0,y.openAddToPlaylistDialog)(n))}},{key:"handleRemoveFromPlaylist",value:function(e,t){var n=t.uri,r=t.position;this.props.dispatch((0,d.removeFromPlaylist)(this.props.playlistUri,n,r))}},{key:"handleStartRadioLink",value:function(e,t){var n=t.uri,r=n.split(":"),i=r[r.length-1];this.props.dispatch((0,h.startRadio)("spotify:radio:track:"+i))}},{key:"assignTextboxRef",value:function(e){e&&(this.txtCopyLink=e)}},{key:"makeTrackURL",value:function(e){if(e){var t=e.split(/:/).pop();return window.location.origin+"/track/"+t}return""}},{key:"render",value:function(){var e=this.makeTrackURL(this.props.uri);return l.default.createElement(c.ContextMenu,{id:_.TRACK_MENU_ID,currentItem:this.currentItem},l.default.createElement(c.MenuItem,{onClick:this.handleStartRadioLink},(0,S._)("context-menu.start-radio")),this.props.isInCollection?l.default.createElement(c.MenuItem,{onClick:this.handleRemoveTrack},(0,S._)("context-menu.remove-from-collection")):l.default.createElement(c.MenuItem,{onClick:this.handleSaveTrack},(0,S._)("context-menu.add-to-collection")),l.default.createElement(c.MenuItem,{onClick:this.handleAddToPlaylist},(0,S._)("context-menu.add-to-playlist")),l.default.createElement(c.MenuItem,{onClick:this.handleCopyLink},(0,S._)("context-menu.copy-track-link"),l.default.createElement("textarea",{ref:this.assignTextboxRef,value:e,style:{width:0,height:0,opacity:0}})),this.props.playlistUri&&this.props.item&&"undefined"!=typeof this.props.item.position&&l.default.createElement(c.MenuItem,{onClick:this.handleRemoveFromPlaylist},(0,S._)("context-menu.remove-from-playlist")))}}]),t}(l.default.Component),w=function(e,t){var n=!!t.item&&"uri"in t.item,r=t.item&&g.default.from(t.item.context),i=t.item&&t.item.position,o=r&&r.type===g.default.Type.PLAYLIST,a=!1;if(o&&e.entities.all.has(t.item.context)){var s=e.entities.all.get(t.item.context),u=e.session&&e.session.user&&e.session.user.id;a=u===s.owner.id}return{position:i,uri:n?t.item.uri:null,playlistUri:o&&a?t.item.context:null,isInCollection:n&&e.entities.collection.has("mapTrackSaved")&&e.entities.collection.get("mapTrackSaved").has(t.item.uri)&&e.entities.collection.get("mapTrackSaved").get(t.item.uri)}};t.default=(0,E.default)(_.TRACK_MENU_ID)((0,m.connect)(w,null,null,{areStatePropsEqual:function(e,t){return e.isInCollection===t.isInCollection&&e.playlistUri===t.playlistUri&&e.uri===t.uri&&e.position===t.position}})(T))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),c=r(l),p=n(75),f=r(p),d=n(142),h=r(d),y=n(26),_=r(y),m=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"render",value:function(){var e=c.default.createElement(_.default,{className:"btn-transparent btn--narrow btn--no-margin btn--no-padding"},c.default.createElement("div",{className:"spoticon-ellipsis-24"}));return this.props.isEpisode?c.default.createElement(h.default,s({},this.props,{holdToDisplay:0}),e):c.default.createElement(f.default,s({},this.props,{holdToDisplay:0}),e)}}]),t}(c.default.PureComponent);m.defaultProps={isEpisode:!1},t.default=m},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),l=r(u),c=n(267),p=r(c),f=n(151),d=r(f),h=n(265),y=r(h),_=n(100),m=r(_),v=n(268),g=r(v),b=n(150),E=r(b),S=function(e){function t(){i(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={loaded:!1},e.onImageLoad=e.onImageLoad.bind(e),e.findPlaceHolderForEntity=e.findPlaceHolderForEntity.bind(e),e._img=null,e.getImageRef=e.getImageRef.bind(e),e.handleImageInViewport=e.handleImageInViewport.bind(e),e.target=null,e}return a(t,e),s(t,[{key:"componentWillReceiveProps",value:function(e){e.src!==this.props.src&&e.src&&(this.setState({loaded:!1}),this.loadImage(e.src))}},{key:"shouldComponentUpdate",value:function(e,t){return e.src!==this.props.src||e.type!==this.props.type||t.loaded!==this.state.loaded||t.inViewport!==this.state.inViewport}},{key:"componentWillUnmount",value:function(){this._img&&(this._img.onload=null),this.context.observer.unobserve(this.target)}},{key:"onImageLoad",value:function(){this.setState({loaded:!0})}},{key:"getImageRef",value:function(e){null!==e&&(this.context.observer.observe(e,this.handleImageInViewport),this.target=e)}},{key:"loadImage",value:function(e){this._img=new Image,this._img.onload=this.onImageLoad,this._img.src=e}},{key:"handleImageInViewport",value:function(){this.props.src&&this.loadImage(this.props.src)}},{key:"findPlaceHolderForEntity",value:function(e){return"album"===e?l.default.createElement(d.default,null):"playlist"===e?l.default.createElement(p.default,null):"artist"===e?l.default.createElement(y.default,null):"user"===e?l.default.createElement(m.default,null):"track"===e?l.default.createElement(E.default,null):"station"===e?l.default.createElement(g.default,null):l.default.createElement(p.default,null)}},{key:"render",value:function(){var e="cover-art-image",t={},n=this.findPlaceHolderForEntity(this.props.type);return this.props.src?this.state.loaded&&(e+=" cover-art-image-loaded",t={backgroundImage:"url("+this.props.src+")"}):e+=" cover-art-image-loaded",l.default.createElement("div",null,n,l.default.createElement("div",{className:e,style:t,ref:this.getImageRef}))}}]),t}(l.default.PureComponent);S.contextTypes={observer:l.default.PropTypes.object},t.default=S},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),l=r(u),c=n(148),p=r(c),f=n(147),d=r(f),h=n(76),y=r(h),_=function(e){function t(){i(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.handleClick=e.handleClick.bind(e),e}return a(t,e),s(t,[{key:"shouldComponentUpdate",value:function(e){return this.props.entityURI!==e.entityURI||this.props.contextURI!==e.contextURI||this.props.isPlaying!==e.isPlaying}},{key:"handleClick",value:function(e){e.preventDefault(),this.props.onClickPlay(this.props.entityURI)}},{key:"render",value:function(){var e=this.props.isPlaying&&this.props.contextURI===this.props.entityURI,t="cover-art-playback"+(e?" playing":""),n=l.default.createElement("button",{className:t,key:"button",onClick:this.handleClick},e?l.default.createElement(d.default,null):l.default.createElement(p.default,null)),r=this.props.className?""+this.props.className:"";r=r+" actionable"+(e?" playing":"");var i=Object.assign({},this.props,{className:r});return l.default.createElement(y.default,i,i.children,n)}}]),t}(l.default.Component);t.default=_},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),l=r(u),c=n(401),p=r(c),f=n(30),d=r(f),h=n(63),y=n(99),_=r(y),m=n(84),v=r(m),g=n(2),b=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return(0,v.default)(n),n}return a(t,e),s(t,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyPress)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyPress)}},{key:"handleKeyPress",value:function(e){"Escape"===e.key&&this.props.onClose(),"Enter"===e.key&&this.handleDelete()}},{key:"handleDelete",value:function(){this.props.onDelete(this.props.uri)}},{key:"render",value:function(){var e=this.props.onClose;return l.default.createElement("div",{className:"dialog"},l.default.createElement("div",{className:p.default.deletePlaylistDialog},l.default.createElement(h.Button,{className:"btn-transparent",style:{width:32},onClick:e},l.default.createElement(_.default,null)),l.default.createElement(d.default,{size:"xlarge",align:"center"},(0,g._)("playlist.delete-header")),l.default.createElement(h.ButtonGroup,null,l.default.createElement(h.Button,{className:"btn-black",onClick:e},(0,g._)("playlist.delete-cancel")),l.default.createElement(h.Button,{className:"btn-green",onClick:this.handleDelete},(0,g._)("playlist.delete-confirm")))))}}]),t}(l.default.Component);t.default=b},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),l=r(u),c=n(146),p=r(c),f=n(26),d=r(f),h=n(30),y=r(h),_=n(402),m=(r(_),n(51)),v=n(2),g=function(e){function t(){i(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.handleClick=e.handleClick.bind(e),e}return a(t,e),s(t,[{key:"handleClick",value:function(){this.props.dispatch((0,m.logExternalLink)(this.props.downloadLink))}},{key:"render",value:function(){return l.default.createElement("section",{style:{height:"100%"}},l.default.createElement(p.default,null),l.default.createElement("div",{className:"downloadPage"},l.default.createElement("div",{className:"downloadPage-inner"},l.default.createElement("img",{src:"/static/images/devices/mac.png"}),l.default.createElement(y.default,{size:"large",align:"center"},(0,v._)("download-page.header")),l.default.createElement(y.default,{align:"center",isSubheader:!0},(0,v._)("download-page.subtext")),l.default.createElement(d.default,{className:"btn-green",href:this.props.downloadLink,onClick:this.handleClick,_blank:!0},(0,v._)("download-page.button")))))}}]),t}(l.default.PureComponent);t.default=g},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),c=r(l),p=n(472),f=r(p),d=n(403),h=r(d),y=n(14),_=r(y),m=n(2),v=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleClick=n.handleClick.bind(n),n._onEscape=n._onEscape.bind(n),n.createMarkupForMessage=n.createMarkupForMessage.bind(n),n}return s(t,e),u(t,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this._onEscape)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this._onEscape)}},{key:"_onEscape",value:function(e){"Escape"===e.key&&this.props.onClose()}},{key:"handleClick",value:function(e){e.preventDefault(),window.location.reload(!0)}},{key:"createMarkupForMessage",value:function(e){return{__html:e}}},{key:"render",value:function(){var e;return c.default.createElement(f.default,{transitionName:"feedbackBar-animation",transitionEnterTimeout:250,transitionLeaveTimeout:200},null!==this.props.message&&c.default.createElement("div",{className:(0,_.default)(h.default.feedbackBar,(e={},i(e,h.default["feedbackBar--error"],this.props.isError),i(e,h.default["feedbackBar--notice"],this.props.isNotice),e))},c.default.createElement("div",{className:h.default.feedbackBar__message},this.props.allowHTML?c.default.createElement("span",{dangerouslySetInnerHTML:this.createMarkupForMessage(this.props.message)}):this.props.message+" ",this.props.isError&&c.default.createElement("a",{className:h.default.feedbackBar__reloadButton,"aria-label":(0,m._)("error.reload"),onClick:this.handleClick},(0,m._)("error.reload"))),c.default.createElement("button",{className:h.default.feedbackBar__close,onClick:this.props.onClose,"aria-label":"Close"},"×")))}}]),t}(c.default.PureComponent);t.default=v},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),l=r(u),c=n(42),p=r(c),f=n(35),d=r(f),h=n(30),y=r(h),_=n(13),m=r(_),v=n(14),g=r(v),b=n(291),E=r(b),S=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return a(t,e),s(t,[{key:"renderLink",value:function(e){var t=e.href.replace("https://api.spotify.com/v1/views/","spotify:view:");return"-page"!==t.substr(-5)&&(t+="-page"),l.default.createElement(d.default,{key:e.href,entity:Object.assign({},e,{uri:t}),isPlayable:!1,maxWidth:450,owners:[]})}},{key:"renderDefault",value:function(e,t){var n=m.default.from(e.uri),r=n.type===m.default.Type.ALBUM&&e.artists?e.artists:[];return l.default.createElement(d.default,{key:t,entity:e,link:n.toURLPath(!0),title:e.name,image:e.images.length?e.images[0].url:"",playbackState:this.props.playbackState,onClickPlay:this.props.onPlay,onClick:this.props.onClick,owners:r,maxWidth:450})}},{key:"render",value:function(){var e=this;return this.props.entities.length?l.default.createElement("section",null,l.default.createElement(y.default,{align:"center"},this.props.title),l.default.createElement(p.default,{className:(0,g.default)({"grid--limit":this.props.limited})},this.props.entities.filter(function(e){return null!==e.name}).map(function(t,n){switch(t.type){case"link":return e.renderLink(t);default:return e.renderDefault(t,n)}})),this.props.limited&&this.props.total&&this.props.viewMoreButtonLink&&l.default.createElement(E.default,{total:this.props.total,linkTo:this.props.viewMoreButtonLink})):null}}]),t}(l.default.Component);S.defaultProps={onClick:function(){}},t.default=S},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=r(i),a=n(2);t.default=function(){return o.default.createElement("svg",{width:"51px",height:"52px",viewBox:"88 88 51 52"},o.default.createElement("path",{d:"M98,88 C92.477,88 88,92.477 88,98 C88,103.523 92.477,108 98,108 C103.523,108 108,103.523 108,98 C108,92.476 103.523,88 98,88 L98,88 Z M105.001,98.999 L99.001,98.999 L99.001,104.999 L97.001,104.999 L97.001,98.999 L91.001,98.999 L91.001,96.999 L97.001,96.999 L97.001,90.999 L99.001,90.999 L99.001,96.999 L105.001,96.999 L105.001,98.999 L105.001,98.999 Z M112.751,95.345 C112.868,95.998 112.938,96.665 112.967,97.344 L137,92.234 L137,119.265 C135.349,117.221 132.826,115.909 130,115.909 C125.038,115.909 121,119.947 121,124.909 C121,129.872 125.038,133.909 130,133.909 C134.962,133.909 139,129.872 139,124.909 L139,89.765 L112.751,95.345 L112.751,95.345 Z M130,131.909 C126.14,131.909 123,128.769 123,124.909 C123,121.05 126.14,117.909 130,117.909 C133.86,117.909 137,121.05 137,124.909 C137,128.77 133.859,131.909 130,131.909 L130,131.909 Z M105,125.354 C103.348,123.311 100.826,121.999 98,121.999 C93.037,121.999 89,126.037 89,130.999 C89,135.961 93.037,139.999 98,139.999 C102.963,139.999 107,135.961 107,130.999 L107,109.972 C106.368,110.448 105.704,110.884 105,111.257 L105,125.354 L105,125.354 Z M98,137.999 C94.14,137.999 91,134.859 91,130.999 C91,127.139 94.14,123.999 98,123.999 C101.86,123.999 105,127.139 105,130.999 C105,134.858 101.859,137.999 98,137.999 L98,137.999 Z",stroke:"none",fill:"#FFFFFF",fillRule:"evenodd"},o.default.createElement("title",null,(0,a._)("addToPlaylist-icon.label"))))}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=r(i);t.default=function(){return o.default.createElement("svg",{width:"16",height:"10",viewBox:"0 0 16 10",xmlns:"http://www.w3.org/2000/svg"},o.default.createElement("title",null,"Down"),o.default.createElement("path",{d:"M8 9.77L.62 1.13l.76-.65L8 8.23 14.62.48l.76.65",fill:"currentColor",fillRule:"evenodd"}))}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=r(i),a=n(2);t.default=function(){return o.default.createElement("svg",{className:"icon-explicit",viewBox:"0 0 20 20"},o.default.createElement("path",{fill:"currentColor",d:"M9 9V7h4V5H7v10h6v-2H9v-2h4V9H9zM0 2.994C0 1.34 1.343 0 2.994 0h14.012C18.66 0 20 1.343 20 2.994v14.012C20 18.66 18.657 20 17.006 20H2.994C1.34 20 0 18.657 0 17.006V2.994z"},o.default.createElement("title",null,(0,a._)("explicit-icon.label"))))}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=r(i);t.default=function(){return o.default.createElement("svg",{width:"16",height:"10",viewBox:"0 0 16 10",xmlns:"http://www.w3.org/2000/svg"},o.default.createElement("title",null,"Up"),o.default.createElement("path",{
d:"M8 .23l7.38 8.64-.76.65L8 1.77 1.38 9.52l-.76-.65",fill:"currentColor",fillRule:"evenodd"}))}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=r(i);t.default=function(){return o.default.createElement("svg",{width:"16",height:"14",viewBox:"0 0 16 14",xmlns:"http://www.w3.org/2000/svg"},o.default.createElement("title",null,"Volume"),o.default.createElement("path",{d:"M12.945.38l-.652.762c1.577 1.462 2.57 3.544 2.57 5.858 0 2.314-.994 4.396-2.57 5.858l.65.763c1.79-1.644 2.92-3.997 2.92-6.62S14.735 2.024 12.945.38zm-2.272 2.66l-.65.762c.826.815 1.34 1.947 1.34 3.198 0 1.25-.515 2.382-1.342 3.2l.652.762c1.04-1 1.69-2.404 1.69-3.96 0-1.558-.65-2.963-1.69-3.963zM0 4v6h2.804L8 13V1L2.804 4H0zm7-1.268v8.536L3.072 9H1V5h2.072L7 2.732z",fill:"currentColor",fillRule:"evenodd"}))}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),l=r(u),c=function(e){function t(e){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return a(t,e),s(t,[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"render",value:function(){return l.default.createElement("div",{className:"icon"},l.default.createElement("svg",{width:"51",height:"52",viewBox:"0 0 51 52",xmlns:"http://www.w3.org/2000/svg"},l.default.createElement("title",null,"Add Playlist Icon"),l.default.createElement("path",{d:"M10 0C4.477 0 0 4.477 0 10s4.477 10 10 10 10-4.477 10-10c0-5.524-4.477-10-10-10zm7 11h-6v6H9v-6H3V9h6V3h2v6h6v2zm7.75-3.655c.118.653.188 1.32.217 2L49 4.234v27.03c-1.65-2.044-4.174-3.356-7-3.356-4.962 0-9 4.037-9 9 0 4.962 4.038 9 9 9s9-4.038 9-9V1.764l-26.25 5.58zM42 43.91c-3.86 0-7-3.14-7-7s3.14-7 7-7 7 3.14 7 7-3.14 7-7 7zm-25-6.556C15.348 35.31 12.826 34 10 34c-4.963 0-9 4.037-9 9 0 4.96 4.037 9 9 9s9-4.04 9-9V21.97c-.632.476-1.296.912-2 1.285v14.097zM10 50c-3.86 0-7-3.14-7-7s3.14-7 7-7 7 3.14 7 7c0 3.858-3.14 7-7 7z",fill:"currentColor",fillRule:"evenodd"})))}}]),t}(l.default.Component);t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),l=r(u),c=function(e){function t(e){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return a(t,e),s(t,[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"render",value:function(){return l.default.createElement("div",{className:"icon"},l.default.createElement("svg",{width:"80",height:"79",viewBox:"0 0 80 79",xmlns:"http://www.w3.org/2000/svg"},l.default.createElement("title",null,"Artist Icon"),l.default.createElement("path",{d:"M53.043 50.486L46.68 46.83c-.636-.366-1.074-.99-1.2-1.716-.125-.725.077-1.462.555-2.02l5.178-6.072c3.287-3.84 5.097-8.743 5.097-13.803V21.24c0-5.85-2.447-11.497-6.716-15.5C45.266 1.686 39.596-.343 33.66.048c-11.12.718-19.83 10.326-19.83 21.87v1.3c0 5.063 1.81 9.964 5.096 13.802l5.18 6.074c.476.558.678 1.295.553 2.02-.127.723-.563 1.35-1.202 1.717l-12.697 7.3C4.124 57.9 0 64.982 0 72.61v5.92h2.97v-5.92c0-6.562 3.548-12.653 9.265-15.902l12.702-7.3c1.407-.81 2.372-2.19 2.65-3.788.276-1.598-.17-3.22-1.222-4.454l-5.18-6.077C18.356 31.787 16.8 27.57 16.8 23.216v-1.3c0-9.982 7.49-18.287 17.05-18.906 5.124-.326 9.99 1.41 13.712 4.9 3.727 3.493 5.778 8.227 5.778 13.332v1.977c0 4.352-1.557 8.57-4.385 11.872l-5.18 6.074c-1.05 1.234-1.496 2.858-1.22 4.456.278 1.597 1.242 2.977 2.647 3.785l4.51 2.59c1.048-.61 2.16-1.12 3.33-1.51zM66.84 37.133v22.71c-2.038-2.203-4.942-3.592-8.17-3.592-6.143 0-11.14 5-11.14 11.14 0 6.143 4.996 11.14 11.14 11.14 6.142 0 11.14-4.997 11.14-11.14V42.28l8.705 5.027L80 44.732l-13.16-7.6zM58.67 75.56c-4.504 0-8.17-3.664-8.17-8.17 0-4.504 3.664-8.168 8.17-8.168 4.504 0 8.168 3.664 8.168 8.17 0 4.504-3.664 8.168-8.17 8.168z",fill:"currentColor",fillRule:"evenodd"})))}}]),t}(l.default.Component);t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),l=r(u),c=function(e){function t(e){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return a(t,e),s(t,[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"render",value:function(){return l.default.createElement("div",{className:"icon download-icon"},l.default.createElement("svg",{viewBox:"0 0 20 20",xmlns:"http://www.w3.org/2000/svg"},l.default.createElement("title",null,"Download icon"),l.default.createElement("path",{d:"M12 11.657V6h-1v5.65L9.076 9.414l-.758.65 3.183 3.702 3.195-3.7-.758-.653L12 11.657zM11.5 2C7.358 2 4 5.358 4 9.5c0 4.142 3.358 7.5 7.5 7.5 4.142 0 7.5-3.358 7.5-7.5C19 5.358 15.642 2 11.5 2zm0 14C7.916 16 5 13.084 5 9.5S7.916 3 11.5 3 18 5.916 18 9.5 15.084 16 11.5 16z",fill:"currentColor",fillRule:"evenodd"})))}}]),t}(l.default.Component);t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),l=r(u),c=function(e){function t(e){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return a(t,e),s(t,[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"render",value:function(){return l.default.createElement("div",{className:"icon"},l.default.createElement("svg",{width:"80",height:"81",viewBox:"0 0 80 81",xmlns:"http://www.w3.org/2000/svg"},l.default.createElement("title",null,"Playlist Icon"),l.default.createElement("path",{d:"M25.6 11.565v45.38c-2.643-3.27-6.68-5.37-11.2-5.37-7.94 0-14.4 6.46-14.4 14.4s6.46 14.4 14.4 14.4 14.4-6.46 14.4-14.4v-51.82l48-10.205V47.2c-2.642-3.27-6.678-5.37-11.2-5.37-7.94 0-14.4 6.46-14.4 14.4s6.46 14.4 14.4 14.4S80 64.17 80 56.23V0L25.6 11.565zm-11.2 65.61c-6.176 0-11.2-5.025-11.2-11.2 0-6.177 5.024-11.2 11.2-11.2 6.176 0 11.2 5.023 11.2 11.2 0 6.174-5.026 11.2-11.2 11.2zm51.2-9.745c-6.176 0-11.2-5.024-11.2-11.2 0-6.174 5.024-11.2 11.2-11.2 6.176 0 11.2 5.026 11.2 11.2 0 6.178-5.026 11.2-11.2 11.2z",fill:"currentColor",fillRule:"evenodd"})))}}]),t}(l.default.Component);t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),c=r(l),p=function(e){function t(e){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return s(t,e),u(t,[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"render",value:function(){var e;return c.default.createElement("div",{className:"icon"},c.default.createElement("svg",{width:"80",height:"81",viewBox:"0 0 80 81",xmlns:"http://www.w3.org/2000/svg"},c.default.createElement("title",null,"Radio Icon"),c.default.createElement("path",(e={stroke:"null",fill:"currentColor",d:"M13.54 62.9C.84 48.03 2.6 25.6 17.47 12.9c1.02-.86 2.14-1.7 3.54-2.62l-1.95-2.95c-1.52 1-2.75 1.93-3.88 2.88C7.25 16.98 2.44 26.43 1.62 36.8c-.8 10.4 2.46 20.47 9.23 28.4 2.34 2.74 5.1 5.17 8.2 7.2L21 69.46c-2.82-1.86-5.33-4.07-7.46-6.56zm13.14-39.2c1.1-.94 2.27-1.75 3.52-2.45l-1.72-3.1c-1.46.8-2.83 1.76-4.1 2.84-5.04 4.3-8.1 10.3-8.62 16.92-.52 6.6 1.57 13.03 5.87 18.07 1.92 2.23 4.22 4.1 6.87 5.57l1.7-3.1c-2.26-1.26-4.23-2.87-5.87-4.8-7.62-8.9-6.56-22.36 2.36-29.98zm13.82 5.53c-5.86 0-10.63 4.77-10.63 10.64S34.64 50.5 40.5 50.5s10.64-4.77 10.64-10.63-4.77-10.64-10.64-10.64zm0 17.73c-3.9 0-7.1-3.2-7.1-7.1 0-3.9 3.2-7.08 7.1-7.08 3.9 0 7.1 3.18 7.1 7.1 0 3.9-3.2 7.08-7.1 7.08zm29.66-32.42c-2.34-2.74-5.1-5.17-8.2-7.22L60 10.28c2.83 1.86 5.34 4.07 7.46 6.56 6.15 7.2 9.13 16.37 8.4 25.8-.76 9.45-5.14 18.04-12.34 24.2-1 .86-2.14 1.7-3.53 2.6l1.94 2.96c1.5-.98 2.77-1.92 3.88-2.88 7.92-6.76 12.74-16.2 13.55-26.6.83-10.38-2.45-20.46-9.2-28.38zm-10.78 9.2c-1.92-2.23-4.23-4.1-6.87-5.57l-1.7 3.1c2.26 1.26 4.24 2.87 5.88 4.8 3.7 4.3 5.48 9.8 5.03 15.47-.44 5.67-3.06 10.82-7.38 14.5-1.08.93-2.27 1.76-3.5 2.45l1.7 3.1c1.46-.8 2.84-1.77 4.1-2.84 5.04-4.3 8.1-10.32 8.63-16.93.5-6.6-1.57-13.02-5.88-18.07z"},i(e,"fill","currentColor"),i(e,"fillRule","evenodd"),e))))}}]),t}(c.default.Component);t.default=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),l=r(u),c=function(e){function t(e){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return a(t,e),s(t,[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"render",value:function(){return l.default.createElement("div",{className:"icon"},l.default.createElement("svg",{width:"52",height:"54",viewBox:"0 0 52 54",xmlns:"http://www.w3.org/2000/svg"},l.default.createElement("title",null,"Add Artist Icon"),l.default.createElement("path",{d:"M35.71 34.12l-4.282-2.462c-.43-.247-.724-.668-.808-1.156-.085-.488.05-.984.373-1.36l3.486-4.088c2.212-2.585 3.43-5.886 3.43-9.293v-1.33c0-3.938-1.647-7.74-4.52-10.435C30.474 1.263 26.657-.102 22.66.16 15.176.646 9.31 7.114 9.31 14.887v.875c0 3.41 1.22 6.71 3.432 9.293l3.487 4.09c.32.375.456.87.372 1.36-.085.486-.38.908-.81 1.155l-8.547 4.914C2.775 39.112 0 43.878 0 49.012V53h2v-3.987c0-4.417 2.388-8.518 6.237-10.705l8.552-4.916c.946-.544 1.596-1.473 1.782-2.55.187-1.075-.113-2.168-.822-2.998l-3.488-4.09c-1.903-2.224-2.95-5.062-2.95-7.994v-.875c0-6.72 5.04-12.312 11.478-12.73 3.448-.218 6.725.95 9.23 3.3 2.51 2.35 3.89 5.538 3.89 8.975v1.33c0 2.932-1.047 5.77-2.95 7.995l-3.488 4.09c-.708.83-1.008 1.923-.822 3 .187 1.074.836 2.003 1.782 2.547l3.036 1.745c.706-.412 1.455-.755 2.243-1.018zM43 43v-9h-2v9h-9v2h9v9h2v-9h9v-2h-9z",fill:"currentColor",fillRule:"evenodd"})))}}]),t}(l.default.Component);t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),l=r(u),c=function(e){function t(e){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return a(t,e),s(t,[{key:"shouldComponentUpdate",value:function(){return!1}},{key:"render",value:function(){return l.default.createElement("div",{className:"icon search-icon"},l.default.createElement("svg",{viewBox:"0 0 27 28",xmlns:"http://www.w3.org/2000/svg"},l.default.createElement("title",null,"Search"),l.default.createElement("path",{d:"M18.387 16.623C19.995 15.076 21 12.907 21 10.5 21 5.806 17.195 2 12.5 2 7.806 2 4 5.806 4 10.5S7.806 19 12.5 19c1.927 0 3.7-.65 5.125-1.73l4.4 5.153.76-.65-4.398-5.15zM12.5 18C8.364 18 5 14.636 5 10.5S8.364 3 12.5 3 20 6.364 20 10.5 16.636 18 12.5 18z",fill:"currentColor",fillRule:"evenodd"})))}}]),t}(l.default.Component);t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),l=r(u),c=n(15),p=function(e){function t(e){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return a(t,e),s(t,[{key:"shouldComponentUpdate",value:function(e){return e.uri!==this.props.uri||e.name!==this.props.name}},{key:"render",value:function(){return l.default.createElement(c.Link,{to:this.props.uri,onClick:this.props.onClick,className:"mo-info-name"},this.props.name&&this.props.name.substring(0,50))}}]),t}(l.default.Component);t.default=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.NavBar=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(410),l=(r(u),n(1)),c=r(l),p=n(15),f=n(3),d=n(266),h=r(d),y=n(270),_=r(y),m=n(296),v=r(m),g=n(274),b=r(g),E=n(273),S=r(E),T=n(17),w=n(2),C=n(9),O=r(C),k=t.NavBar=function(e){function t(e){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return a(t,e),s(t,[{key:"render",value:function(){return c.default.createElement("nav",{className:"navBar"},c.default.createElement(v.default,null),c.default.createElement("div",{className:"navBar-expand"},c.default.createElement("ul",{className:"navlist"},c.default.createElement("div",{className:"group"},c.default.createElement("li",{className:"navlist-item"},c.default.createElement(p.Link,{to:"/search",className:"navlist-itemlink",activeClassName:"is-active"},(0,w._)("navbar.search"),c.default.createElement(_.default,null)))),c.default.createElement("div",{className:"group"},c.default.createElement("li",{className:"navlist-item"},c.default.createElement(p.Link,{to:"/browse",className:"navlist-itemlink",activeClassName:"is-active"},(0,w._)("navbar.browse"))),c.default.createElement("li",{className:"navlist-item"},c.default.createElement(p.Link,{to:"/collection",className:"navlist-itemlink",activeClassName:"is-active"},(0,w._)("navbar.your-music"))))),c.default.createElement(S.default,{contexts:this.props.contexts,playbackState:this.props.playbackState})),c.default.createElement("ul",{className:"navlist"},c.default.createElement("li",{className:"navlist-item download-item"},c.default.createElement(p.Link,{to:"/upsell",className:"navlist-itemlink",activeClassName:"is-active"},(0,w._)("navbar.install-app"),c.default.createElement(h.default,null)))),c.default.createElement(b.default,null))}}]),t}(c.default.Component),R=function(e){return{path:e.routing.locationBeforeTransitions.pathname,contexts:e.playbackHistory.contexts,playbackState:(0,T.extractBasicPlaybackData)(e)}};t.default=(0,f.connect)(R,null,null,{pure:!0,areStatePropsEqual:function(e,t){var n=e.path.split("/"),r=t.path.split("/");return n[1]===r[1]&&e.playbackState.contextURI===t.playbackState.contextURI&&e.playbackState.isPlaying===t.playbackState.isPlaying&&(0,O.default)(e.contexts,t.contexts)}})(k)},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.RecentlyPlayedWidget=void 0;var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(411),c=(i(l),n(1)),p=i(c),f=n(15),d=n(13),h=r(d),y=n(65),_=i(y),m=n(98),v=i(m),g=n(74),b=i(g),E=n(143),S=i(E),T=n(2),w=t.RecentlyPlayedWidget=function(e){function t(e){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return s(t,e),u(t,[{key:"shouldComponentUpdate",value:function(e){return JSON.stringify(e.contexts)!==JSON.stringify(this.props.contexts)||e.playbackState.contextURI!==this.props.playbackState.contextURI||e.playbackState.isPlaying!==this.props.playbackState.isPlaying}},{key:"render",value:function(){var e=this,t={album:_.default,playlist:v.default,artist:b.default},n=this.props.contexts?this.props.contexts.filter(function(e){return"uri"in e}).map(function(n){var r=h.from(n.uri),i=n.uri===e.props.playbackState.contextURI,o=t[r.type]||S.default;return r.type&&p.default.createElement(o,{uri:n.uri,key:n.uri},p.default.createElement("li",{className:"navlist-item"},p.default.createElement(f.Link,{to:r.toURLPath(!0),className:"navlist-itemlink "+(e.props.playbackState.isPlaying&&i?"active":""),title:n.name},e.props.playbackState.isPlaying&&i?p.default.createElement("span",{className:"icon playing-icon spoticon-volume-16"}):null,n.name,p.default.createElement("span",{className:"type"},(0,T._)("type."+r.type)))))}):[];return n.length?p.default.createElement("div",{className:"recently-played group"},p.default.createElement("h2",null,(0,T._)("navbar.recently-played")),p.default.createElement("ul",{className:"navlist"},n)):null}}]),t}(p.default.Component);t.default=w},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),l=r(u),c=n(275),p=r(c),f=n(3),d=n(9),h=r(d);n(412);var y=function(e){function t(e){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return a(t,e),s(t,[{key:"shouldComponentUpdate",value:function(e){return!(0,h.default)(e.session,this.props.session)}},{key:"render",value:function(){var e=this.props.session&&this.props.session.user;return l.default.createElement("div",{className:"sessionInfo"},l.default.createElement(p.default,{user:e,routing:this.props.routing}))}}]),t}(l.default.Component),_=function(e){return{session:e.session}};t.default=(0,f.connect)(_)(y)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.UserWidget=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(413),l=(r(u),n(1)),c=r(l),p=n(141),f=r(p),d=n(15),h=n(9),y=r(h),_=n(3),m=t.UserWidget=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"shouldComponentUpdate",value:function(e){return!(0,y.default)(e.user,this.props.user)}},{key:"render",value:function(){if(!this.props.user)return null;var e=this.props.user.display_name||this.props.user.id;return c.default.createElement("div",{className:"user-widget"},c.default.createElement(d.Link,{to:"/settings/account",activeClassName:"is-active"},c.default.createElement(f.default,{label:e,width:28,images:this.props.user.images,className:"user-avatar"}),c.default.createElement("span",{className:"user-link"},e)))}}]),t}(c.default.Component),v=function(e){var t=e.session.user;return{user:t}};t.default=(0,_.connect)(v)(m)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),l=r(u),c=n(414),p=r(c),f=n(30),d=r(f),h=n(152),y=r(h),_=n(63),m=n(99),v=r(m),g=n(2),b=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={name:null},n.handleNameChange=n.handleNameChange.bind(n),n.handleCreate=n.handleCreate.bind(n),n._onKeyPress=n._onKeyPress.bind(n),n}return a(t,e),s(t,[{key:"componentDidMount",value:function(){document.addEventListener("keydown",this._onKeyPress)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this._onKeyPress)}},{key:"_onKeyPress",value:function(e){"Escape"===e.key&&this.props.onClose(),"Enter"===e.key&&this.handleCreate()}},{key:"handleNameChange",value:function(e){this.setState({name:e})}},{key:"handleCreate",value:function(){"string"==typeof this.state.name&&""!==this.state.name.trim()&&this.props.onCreate(this.state.name)}},{key:"render",value:function(){var e=this.props.onClose;return l.default.createElement("div",{className:"dialog"},l.default.createElement("div",{className:p.default.newPlaylistDialog},l.default.createElement(_.Button,{className:"btn-transparent",style:{width:32},onClick:e},l.default.createElement(v.default,null)),l.default.createElement(d.default,{size:"xlarge",align:"center"},(0,g._)("playlist.new-header")),l.default.createElement("div",{className:p.default.inputBoxContainer},l.default.createElement(y.default,{label:(0,g._)("playlist.new-label"),onChange:this.handleNameChange})),l.default.createElement(_.ButtonGroup,null,l.default.createElement(_.Button,{className:"btn-black",onClick:e},(0,g._)("playlist.new-cancel")),l.default.createElement(_.Button,{className:"btn-green",onClick:this.handleCreate},(0,g._)("playlist.new-confirm")))))}}]),t}(l.default.Component);t.default=b},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(415),l=(r(u),n(1)),c=r(l),p=n(2),f=function(e){function t(e){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return a(t,e),s(t,[{key:"shouldComponentUpdate",value:function(e){return e.device.local!==this.props.device.local||e.device.name!==this.props.device.name}},{key:"render",value:function(){return this.props.device.local?null:c.default.createElement("div",{className:"connect-bar"},c.default.createElement("span",{className:"connect-bar__device-icon spoticon-spotify-connect-16"}),(0,p._)("connect-bar.playing-from-prefix")," ",c.default.createElement("span",{className:"connect-bar__device-name"},this.props.device.name))}}]),t}(c.default.Component);t.default=f},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t);
}Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectDeviceList=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(81),l=(r(u),n(1)),c=r(l),p=n(279),f=r(p),d=n(2),h=n(14),y=r(h),_=t.ConnectDeviceList=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"render",value:function(){var e=this,t=this.props.devices,n=t.sort(function(e,t){return e.name>t.name?1:e.name>t.name?-1:0}).filter(function(e){return void 0===e.is_restricted||!e.is_restricted}).map(function(t){return c.default.createElement(f.default,{onClick:e.props.onItemClick,key:t.id,device:t})});return c.default.createElement("div",{className:(0,y.default)("connect-device-list-container",{"connect-device-list-container--is-visible":this.props.isVisible}),onClick:this.props.onClick},c.default.createElement("div",{className:"connect-title"},c.default.createElement("span",{className:"connect-title__text"},(0,d._)("connect-picker.picker-title")),c.default.createElement("a",{className:"connect-title__help",href:"https://www.spotify.com/connect/?utm_source=wp-picker&utm_medium=web",target:"_blank"},c.default.createElement("img",{src:"/static/assets/images/connect_help.png",title:(0,d._)("connect-picker.tooltip")}))),c.default.createElement("div",{className:"connect-header"},c.default.createElement("img",{className:"connect-header__image",src:"/static/assets/connect_header@1x.png"})),(t.length<1||1===t.length&&t[0].is_active)&&c.default.createElement("div",{className:"connect-info"},c.default.createElement("p",null,(0,d._)("connect-picker.no-devices-info-top"),c.default.createElement("br",null),(0,d._)("connect-picker.no-devices-info-bottom")),c.default.createElement("a",{className:"btn btn-blue btn-small",href:"https://www.spotify.com/connect/?utm_source=wp-picker&utm_medium=web",target:"_blank"},(0,d._)("connect-picker.learn-more"))),(t.length>1||1===t.length&&!t[0].is_active)&&c.default.createElement("ul",{className:"connect-device-list"},n))}}]),t}(c.default.Component);_.defaultProps={onClick:function(){},devices:[]},t.default=_},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectDeviceListItem=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(81),l=(r(u),n(1)),c=r(l),p=t.ConnectDeviceListItem=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleClick=n.handleClick.bind(n),n}return a(t,e),s(t,[{key:"handleClick",value:function(){this.props.onClick(this.props.device.id)}},{key:"render",value:function(){var e=this.props.device,t=e.is_active,n="media connect-device-list-item"+(t?" connect-device-list-item--active":""),r=t?e.name:"Spotify Connect",i=t?"Listening On":e.name,o="other";switch(e.type){case"Computer":o="computer";break;case"Smartphone":o="mobile";break;case"TV":o="tv";break;case"Tablet":o="tablet";break;case"Car":o="car";break;case"Speaker":o="speaker";break;case"Multispeaker":o="multispeaker"}var a="device spoticon-device-"+o+"-32";return c.default.createElement("button",{className:n,onClick:this.handleClick},c.default.createElement("div",{className:"media__img connect-device-list-item__icon"},c.default.createElement("div",{className:a})),c.default.createElement("div",{className:"media__bd"},c.default.createElement("span",{className:"connect-device-list-item__device-subtitle"},i),c.default.createElement("span",{className:"connect-device-list-item__device-title"},c.default.createElement("span",{className:"connect-device-list-item__connect-icon spoticon-spotify-connect-16"}),r)))}}]),t}(c.default.Component);p.defaultProps={device:{id:"",is_active:!1,name:"",type:""}},t.default=p},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectDevicePicker=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(81),l=(r(u),n(1)),c=r(l),p=n(7),f=n(5),d=n(278),h=r(d),y=n(281),_=r(y),m=t.ConnectDevicePicker=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.state={isListVisible:!1},n.handleItemClick=n.handleItemClick.bind(n),n.handleToggleListVisibility=n.handleToggleListVisibility.bind(n),n.handleDocumentKeyDown=n.handleDocumentKeyDown.bind(n),n.handleDocumentClick=n.handleDocumentClick.bind(n),n.closePicker=n.closePicker.bind(n),n.openPicker=n.openPicker.bind(n),n}return a(t,e),s(t,[{key:"shouldComponentUpdate",value:function(e,t){return JSON.stringify(e.devices)!==JSON.stringify(this.props.devices)||e.isConnectBarVisible!==this.props.isConnectBarVisible||this.state.isListVisible!==t.isListVisible}},{key:"handleDocumentKeyDown",value:function(e){"Escape"===e.key&&this.closePicker()}},{key:"handleDocumentClick",value:function(){this.closePicker()}},{key:"openPicker",value:function(){this.props.dispatch((0,f.requestConnectDevices)()),this.setState({isListVisible:!0}),document.addEventListener("keydown",this.handleDocumentKeyDown),document.addEventListener("click",this.handleDocumentClick)}},{key:"closePicker",value:function(){this.setState({isListVisible:!1}),document.removeEventListener("keydown",this.handleDocumentKeyDown),document.removeEventListener("click",this.handleDocumentClick)}},{key:"handleConnectDeviceListClick",value:function(e){e.nativeEvent.stopImmediatePropagation()}},{key:"handleItemClick",value:function(e){this.props.dispatch((0,p.setActiveDevice)(e)),this.closePicker()}},{key:"handleToggleListVisibility",value:function(){this.state.isListVisible?this.closePicker():this.openPicker()}},{key:"render",value:function(){return c.default.createElement("span",{className:"connect-device-picker"},c.default.createElement(h.default,{onClick:this.handleConnectDeviceListClick,onItemClick:this.handleItemClick,devices:this.props.devices,isVisible:this.state.isListVisible}),c.default.createElement(_.default,{onClick:this.handleToggleListVisibility,isActive:this.props.isConnectBarVisible}))}}]),t}(c.default.Component);m.defaultProps={devices:[],device:{}},t.default=m},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.ConnectDevicePickerIcon=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(81),l=(r(u),n(1)),c=r(l),p=n(14),f=r(p),d=t.ConnectDevicePickerIcon=function(e){function t(e){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return a(t,e),s(t,[{key:"render",value:function(){return c.default.createElement("button",{className:(0,f.default)("spoticon-devices-16","control-button",{"control-button--is-active":this.props.isActive}),onClick:this.props.onClick})}}]),t}(c.default.Component);t.default=d},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(416);var u=n(1),l=r(u),c=n(287),p=r(c),f=n(280),d=r(f),h=n(9),y=r(h),_=function(e){function t(e){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return a(t,e),s(t,[{key:"shouldComponentUpdate",value:function(e){return!(0,y.default)(e,this.props)}},{key:"render",value:function(){return l.default.createElement("div",{className:"extra-controls"},l.default.createElement(d.default,{dispatch:this.props.dispatch,device:this.props.device,devices:this.props.devices,isConnectBarVisible:this.props.isConnectBarVisible}),l.default.createElement(p.default,{volume:this.props.device.volume,dispatch:this.props.dispatch}))}}]),t}(l.default.Component);_.defaultProps={device:{volume:1,id:""}},t.default=_},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.NowPlayingBar=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(417),l=(r(u),n(1)),c=r(l),p=n(284),f=r(p),d=n(286),h=r(d),y=n(282),_=r(y),m=n(277),v=r(m),g=n(3),b=n(9),E=r(b),S=t.NowPlayingBar=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.getCurrentTrack=n.getCurrentTrack.bind(n),n}return a(t,e),s(t,[{key:"shouldComponentUpdate",value:function(e){var t=this.getCurrentTrack(this.props),n=this.getCurrentTrack(e);return!t||!n||(!(0,E.default)(e.player,this.props.player)||!(0,E.default)(e.favoriteTracks,this.props.favoriteTracks)||!(0,E.default)(e.device,this.props.device)||!(0,E.default)(e.devices,this.props.devices)||t.uri===n.uri&&this.props.isInCollection!==e.isInCollection)}},{key:"getCurrentTrack",value:function(e){return e.player&&e.player.trackWindow&&e.player.trackWindow.currentTrack}},{key:"render",value:function(){var e=this.getCurrentTrack(this.props),t=this.props.player&&this.props.player.context&&this.props.player.context.uri,n=this.props.device||{volume:100,local:!0,id:""};return c.default.createElement("footer",{className:"now-playing-bar-container"},c.default.createElement("div",{className:"now-playing-bar"},c.default.createElement("div",{className:"now-playing-bar__left"},c.default.createElement(f.default,{dispatch:this.props.dispatch,track:e,contextURI:t,isInCollection:this.props.isInCollection})),c.default.createElement("div",{className:"now-playing-bar__center"},c.default.createElement(h.default,{track:e,contextURI:t,favoriteTracks:this.props.favoriteTracks,playbackState:this.props.player||{paused:!0,shuffle:!1,repeatMode:0},trackDuration:e?e.duration_ms:0,dispatch:this.props.dispatch})),c.default.createElement("div",{className:"now-playing-bar__right"},c.default.createElement("div",{className:"now-playing-bar__right__inner"},c.default.createElement(_.default,{dispatch:this.props.dispatch,device:n,devices:this.props.devices,isConnectBarVisible:this.props.isConnectBarVisible})))),c.default.createElement(v.default,{device:n}))}}]),t}(c.default.Component),T=function(e){return{player:e.playback&&e.playback.player,device:e.playback&&e.playback.device,devices:e.playback&&e.playback.devices,dispatch:e.dispatch,favoriteTracks:e.favorites&&e.favorites.tracks,isInCollection:e.playback&&e.playback.player&&e.playback.player.trackWindow&&e.playback.player.trackWindow.currentTrack&&e.entities.collection.has("mapTrackSaved")&&e.entities.collection.get("mapTrackSaved").has(e.playback.player.trackWindow.currentTrack.uri)&&e.entities.collection.get("mapTrackSaved").get(e.playback.player.trackWindow.currentTrack.uri)||!1}};t.default=(0,g.connect)(T)(S)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(418),l=(r(u),n(5)),c=n(16),p=n(76),f=r(p),d=n(149),h=r(d),y=n(75),_=r(y),m=n(74),v=r(m),g=n(153),b=r(g),E=n(27),S=n(1),T=r(S),w=n(15),C=n(13),O=r(C),k=n(332),R=r(k),P=n(14),I=r(P),A=n(2),L=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleToggleSave=n.handleToggleSave.bind(n),n}return a(t,e),s(t,[{key:"shouldComponentUpdate",value:function(e){return!e.track||!this.props.track||(e.isInCollection!==this.props.isInCollection||(e.track.uri!==this.props.track.uri||e.contextURI!==this.props.contextURI))}},{key:"componentWillUpdate",value:function(e){if(e.track){var t=e.track.linked_from&&e.track.linked_from.uri||e.track.uri;this.props.dispatch((0,l.requestCollectionContainsTrack)(t))}}},{key:"handleToggleSave",value:function(){var e=this.props.track.linked_from&&this.props.track.linked_from.uri||this.props.track.uri;this.props.isInCollection?this.props.dispatch((0,c.removeTrack)(e)):this.props.dispatch((0,c.saveTrack)(e))}},{key:"render",value:function(){var e=this.props,t=e.track,n=e.contextURI,r="",i=!1,o=!1,a=56,s=null,u=null,l="#",c="#";if(!t)return T.default.createElement("div",{className:(0,I.default)("now-playing",{"now-playing__radio":o})});i=O.default.from(t.uri).type===O.default.Type.AD,o=n&&O.default.from(n).type===O.default.Type.RADIO;var p=n&&O.default.from(n).type===O.default.Type.STATION,d=o?t.album.uri:n;return r=(0,E.selectImageUrlForWidth)(a,t.album.images),s=T.default.createElement(f.default,{isPlayable:!1,imgSrc:r,width:56,label:t.album.name,className:"now-playing__cover-art"}),u=o||p?T.default.createElement("div",{className:"now-playing__radio-icon"},T.default.createElement(h.default,null)):null,l=i?t.artists[0].uri:O.default.from(t.album.uri).toURLPath(!0),c=i?t.artists[0].uri:O.default.from(d).toURLPath(!0),T.default.createElement("div",{className:(0,I.default)("now-playing",{"now-playing__radio":o||p})},i?T.default.createElement("a",{style:{border:"none"},href:c,rel:"noopener noreferrer",target:"_blank"},u,s):T.default.createElement(w.Link,{style:{border:"none"},to:c},u,s),T.default.createElement("div",{className:"track-info"},T.default.createElement("div",{className:"track-info__name"},i?T.default.createElement("a",{href:l,rel:"noopener noreferrer",target:"_blank"},t.name):T.default.createElement(_.default,{uri:t.uri,context:n},T.default.createElement(w.Link,{to:l},t.name))),T.default.createElement("div",{className:"track-info__artists"},t&&t.artists.map(function(e,t){var r=""!==e.uri?e.uri:n,o=i?(0,R.default)(r):O.default.from(r).toURLPath(!0),a=i?T.default.createElement("a",{href:o,rel:"noopener noreferrer",target:"_blank"},e.name):T.default.createElement(v.default,{uri:r,renderTag:"span"},T.default.createElement(w.Link,{to:o},e.name));return T.default.createElement("span",{key:t},t>0?", ":null,a)}))),i?"":T.default.createElement(b.default,{onClick:this.handleToggleSave,active:this.props.isInCollection,icon:"add",iconActive:"added",label:(0,A._)("context-menu.add-to-collection"),labelActive:(0,A._)("context-menu.remove-from-collection")}))}}]),t}(T.default.Component);t.default=L},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.PlaybackBar=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(419);var u=n(1),l=r(u),c=n(154),p=r(c),f=n(104),d=r(f),h=n(27),y=t.PlaybackBar=function(e){function t(){i(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.handleDragStart=e.handleDragStart.bind(e),e.handleDragEnd=e.handleDragEnd.bind(e),e.handleTimeUpdate=e.handleTimeUpdate.bind(e),e.handleToggleRemainingTime=e.handleToggleRemainingTime.bind(e),e.state={isDragging:!1,trackPosition:d.default.getPosition()||0},e.positionSubscriptionToken=null,e}return a(t,e),s(t,[{key:"componentWillReceiveProps",value:function(e){this.props.playing&&!e.playing?d.default.unsubscribe(this.positionSubscriptionToken):!this.props.playing&&e.playing&&(this.positionSubscriptionToken=d.default.subscribe("position",this.handleTimeUpdate))}},{key:"componentWillUnmount",value:function(){d.default.unsubscribe(this.positionSubscriptionToken)}},{key:"handleDragStart",value:function(e){d.default.unsubscribe(this.positionSubscriptionToken),this.setState({isDragging:!0,dragPosition:e})}},{key:"handleDragEnd",value:function(e){var t=this;setTimeout(function(){t.state.isDragging&&(t.positionSubscriptionToken=d.default.subscribe("position",t.handleTimeUpdate),t.setState({isDragging:!1,dragPosition:0}))},1e3),this.props.onSeek&&this.props.onSeek(e)}},{key:"handleTimeUpdate",value:function(e){this.state.trackPosition!==e&&this.setState({trackPosition:e})}},{key:"handleToggleRemainingTime",value:function(){this.setState({isRemainingTimeToggled:!this.state.isRemainingTimeToggled})}},{key:"render",value:function(){var e=this.state.isDragging?this.state.dragPosition*this.props.max:this.state.trackPosition;return l.default.createElement("div",{className:"playback-bar"},l.default.createElement("div",{className:"playback-bar__progress-time"},(0,h.formatTime)(e)),l.default.createElement(p.default,{max:this.props.max,current:e,onDragStart:this.handleDragStart,onDragMove:this.handleDragStart,onDragEnd:this.handleDragEnd}),l.default.createElement("div",{className:"playback-bar__progress-time",onClick:this.handleToggleRemainingTime},this.state.isRemainingTimeToggled?"-"+(0,h.formatTime)(this.props.max-e):(0,h.formatTime)(this.props.max)))}}]),t}(l.default.Component);y.defaultProps={playing:!1},t.default=y},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(420);var l=n(1),c=i(l),p=n(7),f=r(p),d=n(16),h=r(d),y=n(153),_=i(y),m=n(249),v=i(m),g=n(285),b=i(g),E=n(2),S=n(9),T=i(S),w=n(13),C=i(w),O=n(104),k=i(O),R=function(e){function t(){o(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.state={isRemainingTimeToggled:!1},e.handlePlay=e.handlePlay.bind(e),e.handleShuffle=e.handleShuffle.bind(e),e.handleRepeat=e.handleRepeat.bind(e),e.handleSeek=e.handleSeek.bind(e),e.handleSkipBack=e.handleSkipBack.bind(e),e.handleSkipForward=e.handleSkipForward.bind(e),e.seek=e.seek.bind(e),e.handleLikeTrack=e.handleLikeTrack.bind(e),e.handleBanTrack=e.handleBanTrack.bind(e),e}return s(t,e),u(t,[{key:"shouldComponentUpdate",value:function(e,t){return!(0,T.default)(e.playbackState,this.props.playbackState)||!(0,T.default)(e.favoriteTracks,this.props.favoriteTracks)||e.trackDuration!==this.props.trackDuration||e.contextURI!==this.props.contextURI||t.isDragging!==this.state.isDragging||t.trackPosition!==this.state.trackPosition}},{key:"handlePlay",value:function(){this.props.dispatch(f.togglePlay())}},{key:"handleShuffle",value:function(){this.props.dispatch(f.setShuffle(!this.props.playbackState.shuffle))}},{key:"handleRepeat",value:function(){this.props.dispatch(f.setRepeat(1===this.props.playbackState.repeatMode?0:1))}},{key:"handleLikeTrack",value:function(){this.props.dispatch(h.saveTrack(this.props.track.uri)),this.props.dispatch(h.likeRadioTrack(this.props.track.uri,this.props.contextURI))}},{key:"handleBanTrack",value:function(){this.props.dispatch(h.banRadioContext(this.props.track.uri,this.props.contextURI))}},{key:"handleSkipBack",value:function(){var e=3e3,t=k.default.getPosition()||0;t>e?this.props.dispatch(f.seek(0)):this.props.dispatch(f.previous())}},{key:"handleSeek",value:function(e){this.seek(e)}},{key:"handleSkipForward",value:function(){this.props.dispatch(f.next())}},{key:"seek",value:function(e){this.props.dispatch(f.seek(e*this.props.trackDuration))}},{key:"render",value:function(){var e=this.props.track&&this.props.favoriteTracks.indexOf(this.props.track.uri)!==-1||!1,t=this.props.contextURI,n=t&&(C.default.from(t).type===C.default.Type.RADIO||C.default.from(t).type===C.default.Type.STATION),r=t&&t.indexOf(":cluster:")!==-1,i=!this.props.playbackState.paused,o=this.props.playbackState.shuffle,a=0!==this.props.playbackState.repeatMode,s=this.props.track&&C.default.from(this.props.track.uri).type===C.default.Type.AD,u=2===this.props.playbackState.repeatMode?"repeatonce":"repeat",l=this.state.trackPosition||0,p=c.default.createElement(_.default,{label:(0,E._)(o?"playback-control.disable-shuffle":"playback-control.enable-shuffle"),icon:"shuffle",active:o,onClick:this.handleShuffle}),f=c.default.createElement(_.default,{label:(0,E._)(a?"playback-control.disable-repeat":"playback-control.enable-repeat"),icon:u,active:a,onClick:this.handleRepeat});return r?(p=c.default.createElement(_.default,{label:(0,E._)("playback-control.favorite"),icon:"heart"+(e?"-active":""),active:e,onClick:this.handleLikeTrack}),f=c.default.createElement(v.default,{holdToDisplay:0,uri:this.props.track&&this.props.track.uri,artistURI:this.props.track.artists&&this.props.track.artists.length&&this.props.track.artists[0].uri,contextURI:t},c.default.createElement(_.default,{label:(0,E._)("playback-control.ban"),icon:"ban"}))):n&&(p=c.default.createElement(_.default,{label:(0,E._)("playback-control.thumbs-down"),icon:"thumbs-down",onClick:this.handleBanTrack}),f=c.default.createElement(_.default,{label:(0,E._)("playback-control.thumbs-up"),icon:"thumbs-up",onClick:this.handleLikeTrack})),c.default.createElement("div",{className:"player-controls"},c.default.createElement("div",{className:"player-controls__buttons"},p,c.default.createElement(_.default,{isDisabled:s,label:(0,E._)("playback-control.skip-back"),icon:"skip-back",onClick:this.handleSkipBack}),c.default.createElement(_.default,{isDisabled:s,circled:!0,label:(0,E._)(i?"playback-control.pause":"playback-control.play"),icon:i?"pause":"play",onClick:this.handlePlay}),c.default.createElement(_.default,{isDisabled:s,label:(0,E._)("playback-control.skip-forward"),icon:"skip-forward",onClick:this.handleSkipForward}),f),c.default.createElement(b.default,{max:this.props.trackDuration,current:l,onSeek:this.handleSeek,playing:i}))}}]),t}(c.default.Component);R.defaultProps={favoriteTracks:[]},t.default=R},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.VolumeBar=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(421);var u=n(1),l=r(u),c=n(154),p=r(c),f=n(7),d=n(9),h=r(d),y=n(14),_=r(y),m=t.VolumeBar=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.state={isDragging:!1,toggleVolumeLevel:0,dragPosition:0,shouldDragValueBeUsed:!1},n.setVolume=n.setVolume.bind(n),n.handleToggleVolume=n.handleToggleVolume.bind(n),n.handleDragStart=n.handleDragStart.bind(n),n.handleDragMove=n.handleDragMove.bind(n),n.handleDragEnd=n.handleDragEnd.bind(n);var r=function(e,t){var n=void 0;return function(){var r=this,i=arguments,o=function(){n=null,e.apply(r,i)};n||(n=setTimeout(o,t))}};return n.dispatchWhileDragging=r(n.dispatchWhileDragging.bind(n),1e3),n}return a(t,e),s(t,[{key:"shouldComponentUpdate",value:function(e,t){return e.volume!==this.props.volume||!(0,h.default)(t,this.state)}},{key:"setVolume",value:function(e){var t=Math.min(1,Math.max(0,e));this.props.dispatch((0,f.setVolume)(t))}},{key:"handleDragStart",value:function(e){this.setState({isDragging:!0,dragPosition:e,shouldDragValueBeUsed:!0})}},{key:"handleDragMove",value:function(e){this.setState({dragPosition:e,shouldDragValueBeUsed:!0}),this.dispatchWhileDragging(e)}},{key:"handleDragEnd",value:function(e){var t=this;setTimeout(function(){t.setState({shouldDragValueBeUsed:!1,dragPosition:0})},1e3),this.setState({isDragging:!1}),this.setVolume(e)}},{key:"dispatchWhileDragging",value:function(e){this.state.isDragging&&this.setVolume(e)}},{key:"handleToggleVolume",value:function(){0===this.props.volume?this.setVolume(this.state.toggleVolumeLevel):(this.setState({toggleVolumeLevel:this.props.volume}),this.setVolume(0))}},{key:"volumeIcon",value:function(e){var t=void 0;return t=0===e?"-off":e<1/3?"-onewave":e<2/3?"-twowave":"","spoticon-volume"+t+"-16 control-button"}},{key:"render",value:function(){var e=this.state.shouldDragValueBeUsed?this.state.dragPosition:this.props.volume,t=!1;e===-1&&(e=1,t=!0);var n=(0,_.default)("volume-bar",{"volume-bar--disabled":t});return l.default.createElement("div",{className:n},l.default.createElement("button",{className:(0,_.default)(this.volumeIcon(e),"volume-bar__icon"),onClick:this.handleToggleVolume}),l.default.createElement(p.default,{max:1,current:e,onDragStart:this.handleDragStart,onDragMove:this.handleDragMove,onDragEnd:this.handleDragEnd}))}}]),t}(l.default.Component);m.defaultProps={volume:1},t.default=m},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(423),l=(r(u),n(1)),c=r(l),p=n(26),f=r(p),d=n(78),h=r(d),y=n(53),_=r(y),m=n(32),v=r(m),g=n(2),b=n(98),E=r(b),S=n(9),T=r(S),w=function(e){function t(e){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return a(t,e),s(t,[{key:"shouldComponentUpdate",value:function(e){if(!this.props.playlist.tracks.items||!e.playlist.tracks.items)return!0;var t=this.props.playlist.tracks.items.length!==e.playlist.tracks.items.length||!(0,
T.default)(this.props.owners,e.owners)||this.props.playbackState.trackURI!==e.playbackState.trackURI||this.props.playbackState.isPlaying!==e.playbackState.isPlaying||this.props.isFollowing!==e.isFollowing||this.props.isOwnedByUser!==e.isOwnedByUser||this.props.playlist.uri!==e.playlist.uri;return t}},{key:"render",value:function(){var e=this.props.playlist.tracks&&this.props.playlist.tracks.items||[],t=e.map(function(e){return Object.assign({},e.track,{added_at:e.added_at,added_by:e.added_by,is_local:e.is_local})}),n=this.props.playbackState&&this.props.playbackState.isPlaying&&this.props.playbackState.contextURI===this.props.playlist.uri;return c.default.createElement("section",{className:"content playlist contentSpacing"},c.default.createElement("div",{className:"container-fluid"},c.default.createElement("div",{className:"row"},c.default.createElement("div",{className:"col-xs-12 col-lg-3 col-xl-4 col-sticky"},c.default.createElement(h.default,{entity:this.props.playlist,type:"playlist",description:this.props.playlist.description,totalTracks:this.props.playlist.tracks.total,playbackState:this.props.playbackState,onClickPlay:this.props.onPlayContext,isFollowing:this.props.isFollowing,owners:this.props.owners},c.default.createElement(f.default,{className:"btn-green",onClick:this.props.onPlayContext},(0,g._)(n?"playlist.pause":"playlist.play")),c.default.createElement("div",{className:"follow horizontal-list"},!this.props.isOwnedByUser&&c.default.createElement(f.default,{className:this.props.isFollowing?"btn-transparent btn-fg-green":"btn-transparent",onClick:this.props.onFollow},(0,g._)(this.props.isFollowing?"playlist.unfollow":"playlist.follow")),c.default.createElement(E.default,{holdToDisplay:0,uri:this.props.playlist.uri,renderTag:"span"},c.default.createElement(f.default,{className:"btn-transparent btn--narrow"},c.default.createElement("div",{className:"spoticon-ellipsis-24"})))))),c.default.createElement("div",{className:"col-xs-12 col-lg-9 col-xl-8"},c.default.createElement(_.default,{tracks:t,contextURI:this.props.playlist.uri,playbackState:this.props.playbackState,dispatch:this.props.dispatch}),this.props.playlist&&this.props.playlist.tracks&&this.props.playlist.tracks.items&&this.props.playlist.tracks.items.length!==this.props.playlist.tracks.total?c.default.createElement(v.default,null):null))))}}]),t}(c.default.Component);t.default=w},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),l=r(u),c=n(35),p=r(c),f=n(30),d=r(f),h=n(42),y=r(h),_=n(2),m=n(13),v=r(m),g=function(e){function t(e){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return a(t,e),s(t,[{key:"render",value:function(){var e=this;return l.default.createElement("section",null,l.default.createElement(d.default,{align:"center",isSubheader:!0},(0,_._)("radio.daily-mixes-page-subtitle")),l.default.createElement(y.default,null,this.props.dailyMixes.map(function(t,n){return l.default.createElement(p.default,{key:n,onClickPlay:e.props.onClickPlay,playbackState:e.props.playbackState,link:v.default.from(t.uri).toURLPath(!0),title:t.title,metaText:t.description,entity:t,owners:[],isPlayable:!0,isDailyMix:!0,dailyMixWaveUrl:t.waveImageUrl,dailyMixTextUrl:t.textImageUrl})})))}}]),t}(l.default.Component);t.default=g},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(425),l=r(u),c=n(1),p=r(c),f=n(26),d=r(f),h=n(78),y=r(h),_=n(53),m=r(_),v=n(2),g=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"shouldComponentUpdate",value:function(e){var t=this.props.playbackState.contextURI!==e.playbackState.contextURI||this.props.playbackState.isPlaying!==e.playbackState.isPlaying||JSON.stringify(this.props.station)!==JSON.stringify(e.album)||this.props.playbackState.trackURI!==e.playbackState.trackURI;return t}},{key:"render",value:function(){var e=this.props.station.tracks||{items:[],total:0},t=this.props.playbackState&&this.props.playbackState.isPlaying&&this.props.playbackState.contextURI===this.props.station.uri,n="content "+l.default.station;return p.default.createElement("section",{className:n},p.default.createElement("div",{className:"container-fluid"},p.default.createElement("div",{className:"row"},p.default.createElement("div",{className:"col-xs-12 col-lg-3 col-xl-4"},p.default.createElement(y.default,{entity:this.props.station,totalTracks:e.total,onClickPlay:this.props.onPlayContext,playbackState:this.props.playbackState,user:this.props.user,description:(0,v._)("tracklist-header.daily-mix-description",this.props.station.description),owners:[]},p.default.createElement(d.default,{className:"btn-green",onClick:this.props.onPlayContext},(0,v._)(t?"album.pause":"album.play")))),p.default.createElement("div",{className:"col-xs-12 col-lg-9 col-xl-8"},p.default.createElement(m.default,{tracks:e.items,contextURI:this.props.station.uri,playbackState:this.props.playbackState,dispatch:this.props.dispatch})))))}}]),t}(p.default.Component);t.default=g},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();n(426);var u=n(1),l=r(u),c=n(2),p=n(26),f=r(p),d=n(102),h=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"shouldComponentUpdate",value:function(e){return e.total!==this.props.total||e.linkTo!==this.props.linkTo}},{key:"render",value:function(){var e=this;return l.default.createElement("div",{className:"view-more view-more--responsive"},Object.keys(d.mediaQueryBreakpoints).map(function(t,n){return l.default.createElement("div",{className:"view-more-button",key:n},e.props.total>d.mediaQueryBreakpoints[t].itemsToShow&&l.default.createElement(f.default,{className:"btn-fg-green",linkTo:e.props.linkTo},(0,c._)("view.view-more")))}))}}]),t}(l.default.PureComponent);t.default=h},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(429),l=(r(u),n(428)),c=(r(l),n(14)),p=r(c),f=n(427),d=(r(f),n(1)),h=r(d),y=n(272),_=r(y),m=n(283),v=r(m),g=n(314),b=r(g),E=n(303),S=r(E),T=n(300),w=r(T),C=n(315),O=r(C),k=n(311),R=r(k),P=n(304),I=r(P),A=n(251),L=r(A),U=n(243),M=r(U),x=n(247),D=r(x),N=n(244),j=r(N),F=n(245),B=r(F),q=n(250),H=r(q),V=n(246),W=r(V),K=n(248),Q=r(K),Y=n(301),z=r(Y),G=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.observer=null,n.handleIntersection=n.handleIntersection.bind(n),n.observerTargetToCallback=new Map,n}return a(t,e),s(t,[{key:"getChildContext",value:function(){var e=this;return{observer:{observe:function(t,n){return e.observer?(e.observer.observe(t),void e.observerTargetToCallback.set(t,n)):void n()},unobserve:function(t){e.observer&&(e.observer.unobserve(t),e.observerTargetToCallback.delete(t))}}}}},{key:"componentDidMount",value:function(){this.observer=window.IntersectionObserver&&new IntersectionObserver(this.handleIntersection)}},{key:"componentWillUnmount",value:function(){this.observer&&this.observer.disconnect()}},{key:"handleIntersection",value:function(e){var t=this;e.forEach(function(e){var n=t.observerTargetToCallback.get(e.target);n&&e.intersectionRatio>0&&n()})}},{key:"render",value:function(){var e=this.props,t=e.ui,n=e.isConnectBarVisible,r=e.children;return document.addEventListener("contextmenu",function(e){return e.preventDefault()}),h.default.createElement("div",{className:(0,p.default)("root",{"is-connectBarVisible":n})},h.default.createElement(b.default,null),h.default.createElement(S.default,null),h.default.createElement("div",{className:"top-container"},h.default.createElement("div",{className:"nav-bar-container"},h.default.createElement(_.default,null)),h.default.createElement("div",{className:(0,p.default)("main-view-container",{"main-view-container--has-ads":t.ads.isLeaderboardVisible})},h.default.createElement("div",{className:"hw-accelerate"},r),h.default.createElement("div",{className:(0,p.default)("ads-container",{"is-hidden":!t.ads.isLeaderboardVisible})},h.default.createElement("div",{className:"ads-container__inner"},h.default.createElement(z.default,null))))),h.default.createElement("div",{className:"nowPlayingBar-container"},h.default.createElement(v.default,{isConnectBarVisible:n})),t.newPlaylistDialog.isAddToPlaylistDialogOpen&&h.default.createElement(w.default,null),t.newPlaylistDialog.isNewPlaylistDialogOpen&&h.default.createElement(O.default,null),t.deletePlaylistDialog.isOpen&&h.default.createElement(R.default,null),t.cdmErrorDialog.isOpen&&h.default.createElement(I.default,null),h.default.createElement(L.default,null),h.default.createElement(M.default,null),h.default.createElement(D.default,null),h.default.createElement(j.default,null),h.default.createElement(W.default,null),h.default.createElement(Q.default,null),h.default.createElement(B.default,null),h.default.createElement(H.default,null))}}]),t}(h.default.Component);G.childContextTypes={observer:h.default.PropTypes.object},t.default=G},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n=null;e.entities.search.has(t.params.query)&&(n=e.entities.search.get(t.params.query));var r=e.searchHistory.contexts;return{results:n,searchHistory:r}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=r(o),s=n(3),u=n(146),l=r(u),c=n(320),p=r(c),f=n(77),d=r(f),h=n(2),y=function(e){var t=e.params.query?e.params.query:"",n=[];if(e.searchHistory.length&&n.push({title:(0,h._)("search.recent-searches"),to:"/search/recent/"+t}),e.params.query){var r=encodeURIComponent(e.params.query);return null!==e.results&&(n.push({title:(0,h._)("search.top-results"),to:"/search/results/"+r}),e.results.artists.items.length>0&&n.push({title:(0,h._)("search.artists"),to:"/search/artists/"+r}),e.results.tracks.items.length>0&&n.push({title:(0,h._)("search.tracks"),to:"/search/songs/"+r}),e.results.albums.items.length>0&&n.push({title:(0,h._)("search.albums"),to:"/search/albums/"+r}),e.results.playlists.items.length>0&&n.push({title:(0,h._)("search.playlists"),to:"/search/playlists/"+r})),a.default.createElement("section",null,a.default.createElement(l.default,null,a.default.createElement(p.default,{query:e.params.query})),a.default.createElement(d.default,{links:n}),a.default.createElement("div",{className:"search-bg contentSpacing"},e.children))}return a.default.createElement("section",null,a.default.createElement(l.default,null,a.default.createElement(p.default,null)),a.default.createElement(d.default,{links:n}),a.default.createElement("div",{className:"search-bg contentSpacing"},e.children))};t.default=(0,s.connect)(i)(y)},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e){return{searchHistory:e.searchHistory.contexts,dispatch:e.dispatch}}Object.defineProperty(t,"__esModule",{value:!0}),t.SearchHistory=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(430),p=(i(c),n(1)),f=i(p),d=n(15),h=n(3),y=n(13),_=r(y),m=n(2),v=t.SearchHistory=function(e){function t(e){return o(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return s(t,e),l(t,[{key:"shouldComponentUpdate",value:function(e){return JSON.stringify(e.searchHistory)!==JSON.stringify(this.props.searchHistory)}},{key:"render",value:function(){var e=this.props.searchHistory.filter(function(e){return"uri"in e}).map(function(e){var t=_.fromString(e.uri);return f.default.createElement("li",{key:e.uri},f.default.createElement(d.Link,{to:t.toURLPath(!0)},f.default.createElement("h1",null,e.name),f.default.createElement("span",null,(0,m._)("type."+t.type))))});return f.default.createElement("div",{className:"search-history"},f.default.createElement("ul",null,e))}}]),t}(f.default.Component);t.default=(0,h.connect)(u)(v)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(431),l=(r(u),n(1)),c=r(l),p=n(26),f=r(p),d=n(78),h=r(d),y=n(53),_=r(y),m=n(144),v=r(m),g=n(145),b=r(g),E=n(2),S=n(9),T=r(S),w=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this))}return a(t,e),s(t,[{key:"shouldComponentUpdate",value:function(e){return this.props.playbackState.contextURI!==e.playbackState.contextURI||this.props.playbackState.isPlaying!==e.playbackState.isPlaying||!(0,T.default)(this.props.show,e.show)||!(0,T.default)(this.props.owners,e.owners)||this.props.playbackState.trackURI!==e.playbackState.trackURI}},{key:"render",value:function(){var e=this.props.show.episodes||{items:[],total:0},t=this.props.playbackState&&this.props.playbackState.isPlaying&&this.props.playbackState.contextURI===this.props.show.uri;return c.default.createElement("section",{className:"content show contentSpacing"},c.default.createElement("div",{className:"container-fluid"},c.default.createElement("div",{className:"row"},c.default.createElement("div",{className:"col-xs-12 col-lg-3 col-xl-4 col-sticky"},c.default.createElement(h.default,{entity:this.props.show,owners:this.props.owners,totalTracks:e.total,onClickPlay:this.props.onPlayContext,playbackState:this.props.playbackState,description:this.props.show.description,isPlayable:!0},c.default.createElement(f.default,{className:"btn-green",onClick:this.props.onPlayContext},(0,E._)(t?"album.pause":"album.play")),c.default.createElement("div",{className:"horizontal-list"},c.default.createElement(v.default,{uri:this.props.show.uri,holdToDisplay:0},c.default.createElement(f.default,{className:"btn-transparent btn--narrow"},c.default.createElement("div",{className:"spoticon-ellipsis-24"})))))),c.default.createElement("div",{className:"col-xs-12 col-lg-9 col-xl-8"},c.default.createElement(_.default,{tracks:e.items,contextURI:this.props.show.uri,playbackState:this.props.playbackState,dispatch:this.props.dispatch}),c.default.createElement(b.default,{copyrights:this.props.show.copyrights||[]})))))}}]),t}(c.default.Component);t.default=w},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(432),o=(r(i),n(1)),a=r(o),s=n(15);t.default=function(){return a.default.createElement(s.Link,{to:"/browse",className:"logo"},a.default.createElement("svg",{viewBox:"0 0 167.5 167.5"},a.default.createElement("title",null,"Spotify"),a.default.createElement("path",{fill:"currentColor",d:"M83.7 0C37.5 0 0 37.5 0 83.7c0 46.3 37.5 83.7 83.7 83.7 46.3 0 83.7-37.5 83.7-83.7S130 0 83.7 0zM122 120.8c-1.4 2.5-4.6 3.2-7 1.7-19.8-12-44.5-14.7-73.7-8-2.8.5-5.6-1.2-6.2-4-.2-2.8 1.5-5.6 4-6.2 32-7.3 59.6-4.2 81.6 9.3 2.6 1.5 3.4 4.7 1.8 7.2zM132.5 98c-2 3-6 4-9 2.2-22.5-14-56.8-18-83.4-9.8-3.2 1-7-1-8-4.3s1-7 4.6-8c30.4-9 68.2-4.5 94 11 3 2 4 6 2 9zm1-23.8c-27-16-71.6-17.5-97.4-9.7-4 1.3-8.2-1-9.5-5.2-1.3-4 1-8.5 5.2-9.8 29.6-9 78.8-7.2 109.8 11.2 3.7 2.2 5 7 2.7 10.7-2 3.8-7 5-10.6 2.8z"})))}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(435),l=(r(u),n(1)),c=r(l),p=n(15),f=n(76),d=r(f),h=n(148),y=r(h),_=n(147),m=r(_),v=n(263),g=r(v),b=n(261),E=r(b),S=n(13),T=r(S),w=n(27),C=n(252),O=r(C),k=n(65),R=r(k),P=n(74),I=r(P),A=n(2),L=T.default.Type,U=function(e){function t(){i(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.handleClick=e.handleClick.bind(e),e.handleKeyUp=e.handleKeyUp.bind(e),e.isPlayable=e.isPlayable.bind(e),e.isEpisode=e.isEpisode.bind(e),e}return a(t,e),s(t,[{key:"shouldComponentUpdate",value:function(e){return this.props.track.uri!==e.track.uri||this.isPlaying(this.props.track,this.props.playbackState)!==this.isPlaying(e.track,e.playbackState)||this.isActive(this.props.playbackState.trackURI)!==this.isActive(e.playbackState.trackURI)||this.props.contextURI!==e.contextURI&&this.props.index!==e.index}},{key:"handleClick",value:function(){this.isPlayable(this.props.track)&&(this.isActive(this.props.playbackState.trackURI)?this.props.onTogglePlay():this.props.onPlay(this.props.index,this.props.contextURI))}},{key:"handleKeyUp",value:function(e){13!==e.keyCode&&32!==e.keyCode||this.handleClick()}},{key:"isPlaying",value:function(e,t){var n=e.linked_from&&e.linked_from.uri;return(e.uri===t.trackURI||n===t.trackURI)&&t.isPlaying}},{key:"isPlayable",value:function(e){return!!this.isEpisode(e)||e.is_playable}},{key:"isEpisode",value:function(e){return T.default.from(e.uri).type===T.default.Type.EPISODE}},{key:"isSearch",value:function(e){return 0===e.indexOf("spotify:list:search:")}},{key:"isActive",value:function(e){var t=this.props.track,n=t.linked_from&&t.linked_from.uri;return e&&this.props.contextURI===this.props.playbackState.contextURI&&(e===t.uri||e===n)}},{key:"render",value:function(){var e=this.props.track,t=e.linked_from&&e.linked_from.uri||this.props.track.uri;if("undefined"==typeof e.uri)return c.default.createElement("li",{className:"hidden"});var n=["tracklist-row"],r=this.isActive(this.props.playbackState.trackURI),i=this.props.playbackState.isPlaying,o=T.default.from(this.props.contextURI).type,a=o===L.PLAYLIST,s=o===L.ALBUM,u=o===L.COLLECTION,l=o===L.RADIO||o===L.STATION,f=this.isSearch(this.props.contextURI),h=this.isEpisode(e),_=this.isPlayable(e);_||n.push("tracklist-row-unplayable"),r&&n.push("active");var v=null,b=void 0,S=e.artists?e.artists.length-(a||u||f||l||h?0:1):0,C=e.artists&&e.artists.filter(function(e,t){return t>(a||u||f||l?-1:0)}).map(function(e,t){var n=e.uri&&T.default.from(e.uri);return n?c.default.createElement("span",{key:e.id},c.default.createElement(I.default,{renderTag:"span",uri:n.toURI()},c.default.createElement(p.Link,{to:n.toURLPath(!0)||"",tabIndex:"-1"},e.name)),S>1&&t<S-1?", ":null):c.default.createElement("span",{key:e.id},e.name,S>1&&t<S-1?", ":null)}),k=null;if(e.album){var P=e.album.uri&&T.default.from(e.album.uri),U=P?c.default.createElement(p.Link,{to:P.toURLPath(!0),tabIndex:"-1"},e.album.name):e.album.name;k=P?c.default.createElement(R.default,{renderTag:"span",uri:P?P.toURI():null},U):c.default.createElement("span",null,U)}if(a||u||f||l)b="top-align",v=c.default.createElement("span",{className:"artists-album"},C,c.default.createElement("span",{className:"artists-album-separator","aria-label":"in album"},"•"),k);else if(s&&C.length>0)b="top-align",v=c.default.createElement("span",{className:"artists-album"},C);else if(h){b="top-align";var M=(0,w.formatDate)(new Date(e.release_date));v=c.default.createElement("span",{className:"artists-album"},M)}else b="middle-align",n.push("tracklist-row--oneline");var x=[],D=h?"":this.props.index+1+".",N=c.default.createElement("div",{className:"position "+b},r&&i?c.default.createElement(g.default,null):D);return x.push(c.default.createElement("div",{key:"position",className:"tracklist-col position-outer"},c.default.createElement("div",{className:"play-pause "+b,onClick:this.handleClick},r&&i?c.default.createElement(m.default,null):c.default.createElement(y.default,null)),N)),o===L.ARTIST&&x.push(c.default.createElement("div",{key:"cover-art",className:"tracklist-col cover-art-thumb",onClick:this.handleClick},c.default.createElement(d.default,{images:e.album.images,width:50,label:e.name,className:"middle-align"}))),x.push(c.default.createElement("div",{key:"name",className:"tracklist-col name"},c.default.createElement("div",{className:"track-name-wrapper "+b},c.default.createElement("span",{className:"track-name"},e.name),v))),e.is_local!==!0&&x.push(c.default.createElement("div",{key:"more",className:"tracklist-col more"},c.default.createElement("div",{className:b},c.default.createElement(O.default,{uri:t,context:this.props.contextURI,position:this.props.index,isEpisode:h})))),!e.is_playable&&e.restrictions&&"product"===e.restrictions.reason&&x.push(c.default.createElement("div",{key:"premium",className:"tracklist-col premium"},c.default.createElement("div",{className:b},c.default.createElement("span",null,(0,A._)("windowed.product-track-header"))))),e.explicit&&x.push(c.default.createElement("div",{key:"explicit",className:"tracklist-col explicit"},c.default.createElement("div",{className:b},c.default.createElement(E.default,null)))),e.duration_ms&&x.push(c.default.createElement("div",{key:"duration",className:"tracklist-col duration"},c.default.createElement("div",{className:b},c.default.createElement("span",{className:"total-duration"},(0,w.formatTime)(e.duration_ms))))),c.default.createElement("li",{className:n.join(" "),onDoubleClick:this.handleClick,onKeyUp:this.handleKeyUp,role:"button",tabIndex:"0"},x)}}]),t}(c.default.Component);t.default=U},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(437),o=(r(i),n(1)),a=r(o),s=n(42),u=r(s),l=n(35),c=r(l),p=n(13),f=r(p),d=n(2),h=n(141),y=r(h),_=function(e){var t=e.user,n=e.users,r=e.userPlaylists,i=e.onPlayPlaylist,o=e.playbackState;return a.default.createElement("section",{className:"contentSpacing component-user"},a.default.createElement("header",{className:"user-header"},a.default.createElement("div",{className:"row"},a.default.createElement("div",{className:"user-info col-md-12"},a.default.createElement(y.default,{label:t.display_name||t.id,width:200,images:t.images,className:"user-avatar"}),a.default.createElement("h1",{className:"user-name"},t.display_name||t.id)))),a.default.createElement("h2",{className:"public-playlists-header"},(0,d._)("user.public-playlists")),a.default.createElement(u.default,null,(r||[]).map(function(e){var t=n&&n[e.owner.uri]&&[n[e.owner.uri]]||[];return a.default.createElement(c.default,{key:e.uri,entity:e,link:f.default.from(e.uri).toURLPath(!0),title:e.name,image:e.images.length?e.images[0].url:"",playbackState:o,onClickPlay:i,owners:t})})))};t.default=_},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.AccountPageContainer=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),l=r(u),c=n(29),p=r(c),f=n(3),d=n(34),h=n(8),y=n(227),_=r(y),m=t.AccountPageContainer=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"shouldComponentUpdate",value:function(e){return null!==e.user}},{key:"componentDidMount",value:function(){this.props.dispatch((0,h.resetBackgroundColor)()),this.props.dispatch((0,h.hideBackgroundImage)())}},{key:"fetchInitialData",value:function(){this.props.user&&(document.title=this.props.user.display_name||this.props.user.id)}},{key:"fetchMoreData",value:function(){}},{key:"render",value:function(){var e=this.props,t=e.user,n=e.onLogout,r=e.dispatch;return t?l.default.createElement(_.default,{user:t,onLogout:n,dispatch:r}):l.default.createElement("section",null)}}]),t}(p.default);m.propTypes={user:l.default.PropTypes.shape({id:l.default.PropTypes.string.isRequired,display_name:l.default.PropTypes.string}),onLogout:l.default.PropTypes.func.isRequired,dispatch:l.default.PropTypes.func.isRequired};var v=function(e){return{user:e.session&&e.session.user}},g=function(e){return{onLogout:function(){return e((0,d.logoutRequest)())},dispatch:e}};t.default=(0,f.connect)(v,g)(m)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){var t=e.session&&e.session.user&&e.session.user.id,n=e.entities.collection.get("playlists"),r=n?n.items:null,i={},o=r&&r.map(function(t){var n=e.entities.all.get(t);return i[n.owner.uri]=e.entities.all.get(n.owner.uri),n}),a=r&&o.filter(function(e){return e.owner.id===t}),s=!!n&&n.items.length===n.total;return{isFullyLoaded:s,playlists:a,addToPlaylistUri:e.ui.newPlaylistDialog.addToPlaylistUri,users:i}}Object.defineProperty(t,"__esModule",{value:!0}),t.AddToPlaylistDialogContainer=void 0;var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),c=r(l),p=n(3),f=n(8),d=n(16),h=n(5),y=n(228),_=r(y),m=t.AddToPlaylistDialogContainer=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleClose=n.handleClose.bind(n),n.handleNewPlaylist=n.handleNewPlaylist.bind(n),n.handleLoadMore=n.handleLoadMore.bind(n),n.handlePlaylistSelect=n.handlePlaylistSelect.bind(n),n}return a(t,e),u(t,[{key:"componentDidMount",value:function(){return this.props.playlists?void(0===this.props.playlists.length&&this.props.dispatch((0,f.switchToNewPlaylistDialog)())):void this.props.dispatch((0,
h.requestCurrentUserPlaylists)())}},{key:"componentWillReceiveProps",value:function(e){var t=this;if(e.playlists&&JSON.stringify(e)!==JSON.stringify(this.props)&&0===e.playlists.length){var n=new Set;e.playlists.forEach(function(e){var t=e.owner;n.add(t.uri)}),n.forEach(function(n){n in e.users||t.props.dispatch((0,h.requestUser)(n))}),this.props.dispatch((0,f.switchToNewPlaylistDialog)())}}},{key:"componentWillUnmount",value:function(){this.props.dispatch((0,h.requestCurrentUserPlaylists)())}},{key:"handleClose",value:function(){this.props.dispatch((0,f.closeAddToPlaylistDialog)())}},{key:"handlePlaylistSelect",value:function(e){this.props.dispatch((0,d.addToPlaylist)(e,this.props.addToPlaylistUri))}},{key:"handleNewPlaylist",value:function(){this.props.dispatch((0,f.openNewPlaylistDialog)())}},{key:"handleLoadMore",value:function(){this.props.dispatch((0,h.requestCurrentUserPlaylistsMore)())}},{key:"render",value:function(){return c.default.createElement(_.default,{playlists:this.props.playlists,onClose:this.handleClose,onPlaylistSelect:this.handlePlaylistSelect,onNewPlaylist:this.handleNewPlaylist,onLoadMore:this.handleLoadMore,isFullyLoaded:this.props.isFullyLoaded,users:this.props.users})}}]),t}(c.default.Component);t.default=(0,p.connect)(s)(m)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){var t=!!e.features.ads,n=e.session.productState&&1===parseInt(e.session.productState.ads,10);return{location:e.routing.locationBeforeTransitions&&e.routing.locationBeforeTransitions.pathname,accessToken:e.session.accessToken,adsEnabled:t&&n,playbackState:(0,m.extractBasicPlaybackData)(e),username:e.session.user&&e.session.user.id}}Object.defineProperty(t,"__esModule",{value:!0}),t.AdsContainer=void 0;var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(438),c=(r(l),n(1)),p=r(c),f=n(3),d=n(331),h=r(d),y=n(51),_=n(8),m=n(17),v=t.AdsContainer=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleLeaderboardRendererd=n.handleLeaderboardRendered.bind(n),n.handleLeaderboardFailed=n.handleLeaderboardFailed.bind(n),n.handleLeaderboardEnabled=n.handleLeaderboardEnabled.bind(n),n.handleLeaderboardDisabled=n.handleLeaderboardDisabled.bind(n),n.adManager=new h.default(n.props.accessToken,{frameSrc:"/blank"}),n.adManager.on("leaderboard_rendered",n.handleLeaderboardRendererd),n.adManager.on("leaderboard_failed",n.handleLeaderboardFailed),n.adManager.on("leaderboard_enabled",n.handleLeaderboardEnabled),n.adManager.on("leaderboard_disabled",n.handleLeaderboardDisabled),n}return a(t,e),u(t,[{key:"componentDidMount",value:function(){this.props.adsEnabled&&this.props.username&&(this.adManager.isLeaderboardEnabled()||this.setupLeaderboard())}},{key:"shouldComponentUpdate",value:function(e){return this.props.playbackState.trackURI!==e.playbackState.trackURI||this.props.username!==e.username||this.props.location!==e.location||this.props.accessToken!==e.accessToken}},{key:"componentWillUpdate",value:function(e){this.props.adsEnabled&&this.props.username&&(this.adManager.isLeaderboardEnabled()||this.setupLeaderboard(),e.accessToken!==this.props.accessToken&&this.adManager.setAccessToken(e.accessToken),this.adManager.setPath(e.location),this.adManager.setIsAdPlaying((0,m.isAd)(e.playbackState.trackURI)))}},{key:"setupLeaderboard",value:function(){this.adManager.enableLeaderboard(this.refs.adContainer)}},{key:"handleLeaderboardRendered",value:function(e){var t={username:this.props.username},n=Object.assign({},e.data,t);this.props.dispatch((0,y.logAdEvent)(n))}},{key:"handleLeaderboardFailed",value:function(e){var t={username:this.props.username},n=Object.assign({},e.data,t);this.props.dispatch((0,y.logAdEvent)(n))}},{key:"handleLeaderboardEnabled",value:function(){this.props.dispatch((0,_.showLeaderboardAd)())}},{key:"handleLeaderboardDisabled",value:function(){this.props.dispatch((0,_.hideLeaderboardAd)())}},{key:"render",value:function(){return this.props.adsEnabled&&this.props.username?p.default.createElement("div",null,p.default.createElement("div",{ref:"adContainer"})):null}}]),t}(p.default.Component);t.default=(0,f.connect)(s)(v)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){var n=null,r=[],i="spotify:album:"+t.params.albumId;e.entities.all.has(i)&&(n=e.entities.all.get(i),r=n.artists);var o=e.entities.follows.get(i),a=(0,b.extractBasicPlaybackData)(e);return{album:n,owners:r,uri:i,playbackState:a,isSaved:o}}Object.defineProperty(t,"__esModule",{value:!0}),t.AlbumContainer=void 0;var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),c=r(l),p=n(3),f=n(29),d=r(f),h=n(229),y=r(h),_=n(5),m=n(16),v=n(7),g=n(8),b=n(17),E=n(54),S=n(9),T=r(S),w=t.AlbumContainer=function(e){function t(){i(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.handlePlayAlbum=e.handlePlayAlbum.bind(e),e.handleToggleSaveAlbum=e.handleToggleSaveAlbum.bind(e),e}return a(t,e),u(t,[{key:"componentWillReceiveProps",value:function(e){e.uri!==this.props.uri&&(e.album||this.props.dispatch((0,_.requestAlbum)(e.uri)),this.props.dispatch((0,_.requestIsAlbumSaved)(e.uri)));var t=e.album&&e.album.images[0],n=this.props.album&&this.props.album.images[0];t&&t!==n&&this.props.dispatch((0,g.setContextualBackground)(t));var r=e.album&&e.album.name,i=this.props.album&&this.props.album.name;r&&r!==i&&(document.title=r)}},{key:"fetchInitialData",value:function(){this.props.album&&!(0,E.hasSimpleMetadata)(this.props.album)||this.props.dispatch((0,_.requestAlbum)(this.props.uri)),this.props.dispatch((0,_.requestIsAlbumSaved)(this.props.uri)),this.props.album&&(Array.isArray(this.props.album.images)&&this.props.dispatch((0,g.setContextualBackground)(this.props.album.images[0])),document.title=this.props.album.name)}},{key:"fetchMoreData",value:function(){this.props.dispatch((0,_.requestAlbumTracks)(this.props.uri))}},{key:"handlePlayAlbum",value:function(){this.props.dispatch((0,v.playAlbum)(this.props.uri))}},{key:"handleToggleSaveAlbum",value:function(){this.props.dispatch(this.props.isSaved?(0,m.removeAlbum)(this.props.uri):(0,m.saveAlbum)(this.props.uri))}},{key:"render",value:function(){return this.props.album?c.default.createElement("div",null,c.default.createElement(y.default,{album:this.props.album,onPlayContext:this.handlePlayAlbum,dispatch:this.props.dispatch,isSaved:this.props.isSaved,onSave:this.handleToggleSaveAlbum,owners:this.props.owners,playbackState:this.props.playbackState})):c.default.createElement("section",null)}}]),t}(d.default);w.propTypes={dispatch:c.default.PropTypes.func.isRequired,album:c.default.PropTypes.object,uri:c.default.PropTypes.string.isRequired,playbackState:c.default.PropTypes.object.isRequired,owners:c.default.PropTypes.array.isRequired},t.default=(0,p.connect)(s,null,null,{pure:!0,areStatePropsEqual:function(e,t){return(0,T.default)(e.album,t.album)&&(0,T.default)(e.playbackState,t.playbackState)&&(0,T.default)(e.owners=t.owners)&&e.uri===t.uri&&e.isSaved===t.isSaved}})(w)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=r(i),a=n(3),s=n(238),u=r(s),l=function(e){return o.default.createElement(u.default,e)},c=function(e){return{backgroundImage:e.ui.background.image,backgroundColor:e.ui.background.color}};t.default=(0,a.connect)(c)(l)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),o=n(241),a=r(o);t.default=(0,i.connect)()(a.default)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.CollectionAlbumsContainer=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},l=n(1),c=r(l),p=n(29),f=r(p),d=n(5),h=n(3),y=n(95),_=r(y),m=n(64),v=r(m),g=n(151),b=r(g),E=n(17),S=n(32),T=r(S),w=n(8),C=n(7),O=n(2),k=n(9),R=r(k),P=t.CollectionAlbumsContainer=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handlePlayAlbum=n.handlePlayAlbum.bind(n),n.setBackground=n.setBackground.bind(n),n}return a(t,e),s(t,[{key:"componentDidMount",value:function(){u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"componentDidMount",this).call(this),this.setBackground()}},{key:"componentDidUpdate",value:function(){u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"componentDidUpdate",this).call(this),this.setBackground()}},{key:"setBackground",value:function(){var e=this.props.albums;Array.isArray(e)&&e.length>0&&Array.isArray(e[0].images)&&this.props.dispatch((0,w.setContextualBackground)(e[0].images[0]))}},{key:"fetchInitialData",value:function(){0===this.props.albums.length&&this.props.dispatch((0,d.requestCollectionAlbums)()),document.title=(0,O._)("collection.albums-page-title")}},{key:"fetchMoreData",value:function(){this.props.dispatch((0,d.requestCollectionAlbumsMore)())}},{key:"handlePlayAlbum",value:function(e){this.props.dispatch((0,C.playAlbum)(e))}},{key:"render",value:function(){if(this.props.isFetching)return null;var e=this.props.albums&&this.props.albums.length!==this.props.total?c.default.createElement(T.default,null):null;return this.props.albums.length?c.default.createElement("div",null,c.default.createElement(_.default,{albums:this.props.albums,playbackState:this.props.playbackState,onPlayAlbum:this.handlePlayAlbum}),e):c.default.createElement(v.default,{message:(0,O._)("collection.empty-page.albums-subtitle")},c.default.createElement(b.default,null))}}]),t}(f.default);P.propTypes={dispatch:c.default.PropTypes.func.isRequired,albums:c.default.PropTypes.array.isRequired,playbackState:c.default.PropTypes.object.isRequired,isFetching:c.default.PropTypes.bool,total:c.default.PropTypes.number};var I=function(e){var t=!1;return e.entities.collection.has("albums")&&(t=e.entities.collection.get("albums").isFetching),{albums:e.entities.collection.has("albums")&&e.entities.collection.get("albums").items?e.entities.collection.get("albums").items.map(function(t){return e.entities.all.get(t.album)}):[],total:e.entities.collection.has("albums")?e.entities.collection.get("albums").total:0,playbackState:(0,E.extractBasicPlaybackData)(e),isFetching:t}};t.default=(0,h.connect)(I,null,null,{pure:!0,areStatePropsEqual:function(e,t){return(0,R.default)(e.albums,t.albums)&&e.isFetching===t.isFetching&&e.total===t.total&&e.playbackState.isPlaying===t.playbackState.isPlaying&&e.playbackState.contextURI===t.playbackState.contextURI}})(P)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.CollectionArtistsContainer=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},l=n(1),c=r(l),p=n(29),f=r(p),d=n(5),h=n(3),y=n(73),_=r(y),m=n(64),v=r(m),g=n(269),b=r(g),E=n(17),S=n(8),T=n(32),w=r(T),C=n(7),O=n(2),k=n(9),R=r(k),P=t.CollectionArtistsContainer=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handlePlayArtist=n.handlePlayArtist.bind(n),n.setBackground=n.setBackground.bind(n),n}return a(t,e),s(t,[{key:"componentDidMount",value:function(){u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"componentDidMount",this).call(this),this.setBackground()}},{key:"componentDidUpdate",value:function(){u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"componentDidUpdate",this).call(this),this.setBackground()}},{key:"setBackground",value:function(){var e=this.props.artists;Array.isArray(e)&&e.length>0&&Array.isArray(e[0].images)&&this.props.dispatch((0,S.setContextualBackground)(e[0].images[0]))}},{key:"fetchInitialData",value:function(){0===this.props.artists.length&&this.props.dispatch((0,d.requestCollectionArtists)()),document.title=(0,O._)("collection.artists-page-title")}},{key:"fetchMoreData",value:function(){this.props.dispatch((0,d.requestCollectionArtistsMore)())}},{key:"handlePlayArtist",value:function(e){this.props.dispatch((0,C.playArtist)(e))}},{key:"render",value:function(){if(this.props.isFetching)return null;var e=this.props.artists&&this.props.artists.length!==this.props.total?c.default.createElement(w.default,null):null;return this.props.artists.length?c.default.createElement("div",null,c.default.createElement(_.default,{artists:this.props.artists,playbackState:this.props.playbackState,onPlayArtist:this.handlePlayArtist}),e):c.default.createElement(v.default,{message:(0,O._)("collection.empty-page.artists-subtitle")},c.default.createElement(b.default,null))}}]),t}(f.default);P.propTypes={dispatch:c.default.PropTypes.func.isRequired,artists:c.default.PropTypes.array.isRequired,playbackState:c.default.PropTypes.object.isRequired,isFetching:c.default.PropTypes.bool,total:c.default.PropTypes.number};var I=function(e){var t=!1;return e.entities.collection.has("artists")&&(t=e.entities.collection.get("artists").isFetching),{artists:e.entities.collection.has("artists")&&e.entities.collection.get("artists").items?e.entities.collection.get("artists").items.map(function(t){return e.entities.all.get(t)}):[],total:e.entities.collection.has("artists")?e.entities.collection.get("artists").total:0,playbackState:(0,E.extractBasicPlaybackData)(e),isFetching:t}};t.default=(0,h.connect)(I,null,null,{pure:!0,areStatePropsEqual:function(e,t){return(0,R.default)(e.artists,t.artists)&&e.isFetching===t.isFetching&&e.total===t.total&&e.playbackState.isPlaying===t.playbackState.isPlaying&&e.playbackState.contextURI===t.playbackState.contextURI}})(P)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(){return{}}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),c=r(l),p=n(3),f=n(242),d=r(f),h=n(8),y=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleNewPlaylist=n.handleNewPlaylist.bind(n),n}return a(t,e),u(t,[{key:"shouldComponentUpdate",value:function(e){return e.children!==this.props.children}},{key:"handleNewPlaylist",value:function(){this.props.dispatch((0,h.openNewPlaylistDialog)())}},{key:"render",value:function(){return c.default.createElement(d.default,{children:this.props.children,onNewPlaylist:this.handleNewPlaylist})}}]),t}(c.default.Component);t.default=(0,p.connect)(s)(y)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.CollectionPlaylistsContainer=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=function e(t,n,r){null===t&&(t=Function.prototype);var i=Object.getOwnPropertyDescriptor(t,n);if(void 0===i){var o=Object.getPrototypeOf(t);return null===o?void 0:e(o,n,r)}if("value"in i)return i.value;var a=i.get;if(void 0!==a)return a.call(r)},l=n(1),c=r(l),p=n(29),f=r(p),d=n(5),h=n(3),y=n(96),_=r(y),m=n(64),v=r(m),g=n(264),b=r(g),E=n(32),S=r(E),T=n(17),w=n(8),C=n(2),O=n(7),k=n(9),R=r(k),P=t.CollectionPlaylistsContainer=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handlePlayPlaylist=n.handlePlayPlaylist.bind(n),n.setBackground=n.setBackground.bind(n),n}return a(t,e),s(t,[{key:"componentDidMount",value:function(){u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"componentDidMount",this).call(this),this.setBackground()}},{key:"componentDidUpdate",value:function(){u(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"componentDidUpdate",this).call(this),this.setBackground()}},{key:"setBackground",value:function(){var e=this.props.playlists;Array.isArray(e)&&e.length>0&&Array.isArray(e[0].images)&&this.props.dispatch((0,w.setContextualBackground)(e[0].images[0]))}},{key:"fetchInitialData",value:function(){0===this.props.playlists.length&&this.props.dispatch((0,d.requestCurrentUserPlaylists)()),document.title=(0,C._)("collection.playlists-page-title")}},{key:"fetchMoreData",value:function(){this.props.dispatch((0,d.requestCurrentUserPlaylistsMore)())}},{key:"handlePlayPlaylist",value:function(e){this.props.dispatch((0,O.playPlaylist)(e))}},{key:"render",value:function(){if(this.props.isFetching)return null;var e=this.props.playlists&&this.props.playlists.length!==this.props.total?c.default.createElement(S.default,null):null;return this.props.playlists.length?c.default.createElement("div",null,c.default.createElement(_.default,{playlists:this.props.playlists,playbackState:this.props.playbackState,onPlayPlaylist:this.handlePlayPlaylist,users:this.props.users}),e):c.default.createElement(v.default,{message:(0,C._)("collection.empty-page.playlists-subtitle")},c.default.createElement(b.default,null))}}]),t}(f.default);P.propTypes={dispatch:c.default.PropTypes.func.isRequired,playlists:c.default.PropTypes.array,isFetching:c.default.PropTypes.bool,users:c.default.PropTypes.object,total:c.default.PropTypes.number,playbackState:c.default.PropTypes.object};var I=function(e){var t=!1;e.entities.collection.has("playlists")&&(t=e.entities.collection.get("playlists").isFetching);var n=e.entities.collection.has("playlists")&&e.entities.collection.get("playlists").items?e.entities.collection.get("playlists").items.map(function(t){return e.entities.all.get(t)}):[],r=e.entities.collection.has("playlists")?e.entities.collection.get("playlists").total:0,i={};return n.forEach(function(t){e.entities.all.has(t.owner.uri)&&(i[t.owner.uri]=e.entities.all.get(t.owner.uri))}),{playlists:n,total:r,isFetching:t,playbackState:(0,T.extractBasicPlaybackData)(e),users:i}};t.default=(0,h.connect)(I,null,null,{pure:!0,areStatePropsEqual:function(e,t){return(0,R.default)(e.playlists,t.playlists)&&e.isFetching===t.isFetching&&e.total===t.total&&e.playbackState.isPlaying===t.playbackState.isPlaying&&e.playbackState.contextURI===t.playbackState.contextURI}})(P)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.CollectionSongsContainer=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),l=r(u),c=n(29),p=r(c),f=n(5),d=n(3),h=n(97),y=r(h),_=n(64),m=r(_),v=n(150),g=r(v),b=n(32),E=r(b),S=n(17),T=n(8),w=n(2),C=n(9),O=r(C),k=n(102),R=t.CollectionSongsContainer=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"fetchInitialData",value:function(){this.props.dispatch((0,T.setBackgroundColor)(k.colors.midnightBlue)),0===this.props.tracks.length&&this.props.dispatch((0,f.requestCollectionTracks)()),document.title=(0,w._)("collection.tracks-page-title")}},{key:"fetchMoreData",value:function(){this.props.dispatch((0,f.requestCollectionTracksMore)())}},{key:"render",value:function(){if(this.props.isFetching)return null;var e=this.props.tracks&&this.props.tracks.length!==this.props.total?l.default.createElement(E.default,null):null;return l.default.createElement("div",null,this.props.tracks.length?l.default.createElement("div",null,l.default.createElement(y.default,{tracks:this.props.tracks,dispatch:this.props.dispatch,contextURI:this.props.contextURI,playbackState:this.props.playbackState}),e):l.default.createElement(m.default,{message:(0,w._)("collection.empty-page.songs-subtitle")},l.default.createElement(g.default,null)))}}]),t}(p.default);R.propTypes={dispatch:l.default.PropTypes.func.isRequired,tracks:l.default.PropTypes.array,playbackState:l.default.PropTypes.object.isRequired,contextURI:l.default.PropTypes.string,isFetching:l.default.PropTypes.bool,total:l.default.PropTypes.number};var P=function(e){var t=!1;e.entities.collection.has("tracks")&&(t=e.entities.collection.get("tracks").isFetching);var n=e.entities.collection;return{tracks:n.has("tracks")&&n.get("tracks").items?n.get("tracks").items.map(function(e){return e.track}):[],total:n.has("tracks")?n.get("tracks").total:0,playbackState:(0,S.extractBasicPlaybackData)(e),contextURI:e.session.user&&"spotify:user:"+e.session.user.id+":collection",isFetching:t}};t.default=(0,d.connect)(P,null,null,{pure:!0,areStatePropsEqual:function(e,t){return(0,O.default)(e.tracks,t.tracks)&&e.isFetching===t.isFetching&&e.total===t.total&&e.playbackState.isPlaying===t.playbackState.isPlaying&&e.playbackState.trackURI===t.playbackState.trackURI}})(R)},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e){var t=e.entities.radio.has("dailyMixes")&&e.entities.radio.get("dailyMixes").items||[],n=!0;e.entities.radio.has("dailyMixes")&&(n=e.entities.radio.get("dailyMixes").isFetching);var r=t.map(function(t){return e.entities.all.get(t)});return{dailyMixes:r,isFetching:n,playbackState:(0,S.extractBasicPlaybackData)(e)}}Object.defineProperty(t,"__esModule",{value:!0}),t.DailyMixesContainer=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(1),p=i(c),f=n(3),d=n(5),h=r(d),y=n(289),_=i(y),m=n(64),v=i(m),g=n(149),b=i(g),E=n(8),S=n(17),T=n(7),w=n(2),C=n(9),O=i(C),k=t.DailyMixesContainer=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handlePlayDailyMix=n.handlePlayDailyMix.bind(n),n.setBackground=n.setBackground.bind(n),n}return s(t,e),l(t,[{key:"componentDidMount",value:function(){document.title=(0,w._)("radio.daily-mixes-page-title"),this.props.dispatch(h.requestRadio()),this.setBackground()}},{key:"componentDidUpdate",value:function(){this.setBackground()}},{key:"setBackground",value:function(){var e=this.props.dailyMixes;Array.isArray(e)&&e.length>0&&this.props.dispatch((0,E.setContextualBackground)({url:e[0].waveImageUrl,width:640}))}},{key:"handlePlayDailyMix",value:function(e){this.props.dispatch((0,T.startRadio)(e))}},{key:"render",value:function(){return this.props.isFetching?null:p.default.createElement("section",{className:"contentSpacing"},this.props.dailyMixes.length?p.default.createElement(_.default,{dailyMixes:this.props.dailyMixes,onClickPlay:this.handlePlayDailyMix,playbackState:this.props.playbackState}):p.default.createElement(v.default,{message:(0,w._)("collection.empty-page.daily-mixes-subtitle")},p.default.createElement(b.default,{className:"icon"})))}}]),t}(p.default.Component);t.default=(0,f.connect)(u,null,null,{pure:!0,areStatePropsEqual:function(e,t){return(0,O.default)(e.dailyMixes,t.dailyMixes)&&e.isFetching===t.isFetching&&e.playbackState.contextURI===t.playbackState.contextURI&&e.playbackState.trackURI===t.playbackState.trackURI&&e.playbackState.isPlaying===t.playbackState.isPlaying}})(k)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),o=n(16),a=n(8),s=n(255),u=r(s);t.default=(0,i.connect)(function(e){return{uri:e.ui.deletePlaylistDialog.uri}},function(e){return{onDelete:function(t){return e((0,o.unfollowPlaylist)(t,!0))},onClose:function(){return e((0,a.closeDeletePlaylistDialog)())}}})(u.default)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),l=r(u),c=n(256),p=r(c),f=n(3),d=n(8),h=n(2),y=n(102),_=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"componentDidMount",value:function(){this.props.dispatch((0,d.setBackgroundColor)(y.colors.midnightBlue)),document.title=(0,h._)("downloadPage.page-title")}},{key:"render",value:function(){return l.default.createElement(p.default,{dispatch:this.props.dispatch,downloadLink:"https://www.spotify.com/download"})}}]),t}(l.default.Component);t.default=(0,f.connect)(function(){return{}})(_)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{
value:!0}),t.mapStateToProps=t.EpisodeContainer=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),l=r(u),c=n(5),p=n(7),f=n(3),d=n(15),h=n(13),y=r(h),_=t.EpisodeContainer=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"componentDidMount",value:function(){this.props.dispatch((0,c.requestEpisode)(this.props.uri))}},{key:"componentWillReceiveProps",value:function(e){e.episode&&(e.dispatch((0,p.playTracks)(0,[e.uri],e.episode.show.uri)),d.browserHistory.push(y.default.from(e.episode.show.uri).toURLPath(!0)))}},{key:"render",value:function(){return l.default.createElement("section",null)}}]),t}(l.default.Component),m=t.mapStateToProps=function(e,t){var n="spotify:episode:"+t.params.episodeId;return{uri:n,episode:e.entities.tracks.get(n)}};t.default=(0,f.connect)(m)(_)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=r(i),a=n(3),s=n(257),u=r(s),l=n(93),c=function(e){return o.default.createElement(u.default,e)},p=function(e){return{message:e.feedback.message,isError:e.feedback.isError,isNotice:e.feedback.isNotice,allowHTML:e.feedback.allowHTML}},f=function(e){return{onClose:function(){return e((0,l.closeFeedback)())}}};t.default=(0,a.connect)(p,f)(c)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(3),o=n(16),a=n(8),s=n(276),u=r(s);t.default=(0,i.connect)(null,function(e){return{onCreate:function(t){return e((0,o.createPlaylist)(t))},onClose:function(){return e((0,a.closeNewPlaylistDialog)())}}})(u.default)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){var n=null,r=[],i=T.default.playlistURI(t.params.userId,t.params.playlistId).toURI(),o=T.default.profileURI(t.params.userId).toURI();e.entities.all.has(i)&&(n=e.entities.all.get(i)),n&&e.entities.all.has(o)&&(r[0]=e.entities.all.get(o));var a=e.session&&e.session.user&&e.session.user.id===t.params.userId,s=(0,b.extractBasicPlaybackData)(e),u=e.entities.follows.has(i)&&e.entities.follows.get(i);return{playlist:n,owners:r,uri:i,playbackState:s,isFollowing:u,isOwnedByUser:a}}Object.defineProperty(t,"__esModule",{value:!0}),t.PlaylistContainer=void 0;var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),c=r(l),p=n(3),f=n(29),d=r(f),h=n(288),y=r(h),_=n(5),m=n(7),v=n(16),g=n(8),b=n(17),E=n(54),S=n(13),T=r(S),w=n(9),C=r(w),O=t.PlaylistContainer=function(e){function t(){i(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.handlePlayPlaylist=e.handlePlayPlaylist.bind(e),e.handleToggleFollowPlaylist=e.handleToggleFollowPlaylist.bind(e),e}return a(t,e),u(t,[{key:"componentWillReceiveProps",value:function(e){if(e.uri!==this.props.uri&&this._fetchNewPlaylist(e.uri),null!==e.playlist){var t=e.playlist&&e.playlist.images&&e.playlist.images.length>0&&e.playlist.images[0],n=this.props.playlist&&this.props.playlist.images&&this.props.playlist.images.length>0&&this.props.playlist.images[0];e.playlist&&t!==n&&this.props.dispatch((0,g.setContextualBackground)(t)),(e.playlist&&e.playlist.name)!==(this.props.playlist&&this.props.playlist.name)&&(document.title=e.playlist.name)}}},{key:"fetchInitialData",value:function(){this.props.playlist&&(this.props.dispatch((0,g.setContextualBackground)(this.props.playlist.images[0])),document.title=this.props.playlist.name),this.props.playlist&&!(0,E.hasSimpleMetadata)(this.props.playlist)||this._fetchNewPlaylist(this.props.uri)}},{key:"fetchMoreData",value:function(){this.props.dispatch((0,_.requestPlaylistTracks)(this.props.uri))}},{key:"_fetchNewPlaylist",value:function(e){this.props.dispatch((0,_.requestPlaylist)(e)),this.props.dispatch((0,_.requestIsFollowingPlaylist)(e));var t=T.default.profileURI(T.default.from(e).username);this.props.dispatch((0,_.requestUser)(t.toURI()))}},{key:"handlePlayPlaylist",value:function(){this.props.dispatch((0,m.playPlaylist)(this.props.uri))}},{key:"handleToggleFollowPlaylist",value:function(){this.props.dispatch(this.props.isFollowing?(0,v.unfollowPlaylist)(this.props.uri):(0,v.followPlaylist)(this.props.uri))}},{key:"render",value:function(){return this.props.playlist?c.default.createElement("div",null,c.default.createElement(y.default,{playlist:this.props.playlist,isPlaying:this.props.isPlaying,onPlayContext:this.handlePlayPlaylist,dispatch:this.props.dispatch,playbackState:this.props.playbackState,isFollowing:this.props.isFollowing,onFollow:this.handleToggleFollowPlaylist,isOwnedByUser:this.props.isOwnedByUser,owners:this.props.owners})):c.default.createElement("section",null)}}]),t}(d.default);O.propTypes={dispatch:c.default.PropTypes.func.isRequired,uri:c.default.PropTypes.string.isRequired,playlist:c.default.PropTypes.object,playbackState:c.default.PropTypes.object.isRequired,owners:c.default.PropTypes.array.isRequired},t.default=(0,p.connect)(s,null,null,{pure:!0,areStatePropsEqual:function(e,t){return(0,C.default)(e.playlist,t.playlist)&&(0,C.default)(e.playbackState,t.playbackState)&&(0,C.default)(e.owners=t.owners)&&e.uri===t.uri&&e.isFollowing===t.isFollowing&&e.isOwnedByUser===t.isOwnedByUser}})(O)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1),o=r(i),a=n(292),s=r(a),u=n(156),l=r(u),c=n(3),p=function(e){var t=e.loggedIn,n=e.ui,r=e.isConnectBarVisible,i=e.children;return t?o.default.createElement(s.default,{ui:n,isConnectBarVisible:r},i):o.default.createElement(l.default,null)},f=function(e){return{loggedIn:e.session.loggedIn,ui:e.ui,isConnectBarVisible:!(!e.playback||!e.playback.device||e.playback.device.local)}};t.default=(0,c.connect)(f)(p)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){var n=[],r=0;if(e.entities.search.has(t.params.query)){var i=e.entities.search.get(t.params.query);n=i.albums.items.map(function(t){return e.entities.all.get(t)}),r=i.albums.total}var o=(0,E.extractBasicPlaybackData)(e);return{items:n,total:r,playbackState:o}}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),c=r(l),p=n(3),f=n(29),d=r(f),h=n(95),y=r(h),_=n(32),m=r(_),v=n(7),g=n(5),b=n(52),E=n(17),S=function(e){function t(){i(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.handlePlayAlbum=e.handlePlayAlbum.bind(e),e.handleStoreSearchHistory=e.handleStoreSearchHistory.bind(e),e}return a(t,e),u(t,[{key:"componentWillReceiveProps",value:function(e){e.params.query!==this.props.params.query&&this.fetchInitialData()}},{key:"fetchInitialData",value:function(){this.props.dispatch((0,g.requestSearch)(this.props.params.query))}},{key:"fetchMoreData",value:function(){this.props.dispatch((0,g.requestSearchAlbumsMore)(this.props.params.query))}},{key:"handlePlayAlbum",value:function(e){this.props.dispatch((0,v.playAlbum)(e))}},{key:"handleStoreSearchHistory",value:function(e,t){this.props.dispatch((0,b.storeContext)(t,e))}},{key:"render",value:function(){return this.props.params.query&&this.props.items?c.default.createElement("div",null,c.default.createElement(y.default,{albums:this.props.items,playbackState:this.props.playbackState,onPlayAlbum:this.handlePlayAlbum,onSelectAlbum:this.handleStoreSearchHistory}),this.props.items.length!==this.props.total?c.default.createElement(m.default,null):null):c.default.createElement("div",null)}}]),t}(d.default);S.propTypes={params:c.default.PropTypes.shape({query:c.default.PropTypes.string}).isRequired,items:c.default.PropTypes.array,playbackState:c.default.PropTypes.object.isRequired,total:c.default.PropTypes.number},t.default=(0,p.connect)(s)(S)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){var n=[],r=0;if(e.entities.search.has(t.params.query)){var i=e.entities.search.get(t.params.query);n=i.artists.items.map(function(t){return e.entities.all.get(t)}),r=i.artists.total}var o=(0,E.extractBasicPlaybackData)(e);return{items:n,total:r,playbackState:o}}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),c=r(l),p=n(3),f=n(29),d=r(f),h=n(73),y=r(h),_=n(32),m=r(_),v=n(7),g=n(5),b=n(52),E=n(17),S=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handlePlayArtist=n.handlePlayArtist.bind(n),n.handleStoreSearchHistory=n.handleStoreSearchHistory.bind(n),n}return a(t,e),u(t,[{key:"componentWillReceiveProps",value:function(e){e.params.query!==this.props.params.query&&this.fetchInitialData()}},{key:"fetchInitialData",value:function(){this.props.dispatch((0,g.requestSearch)(this.props.params.query))}},{key:"fetchMoreData",value:function(){this.props.dispatch((0,g.requestSearchArtistsMore)(this.props.params.query))}},{key:"handlePlayArtist",value:function(e){this.props.dispatch((0,v.playArtist)(e))}},{key:"handleStoreSearchHistory",value:function(e,t){this.props.dispatch((0,b.storeContext)(t,e))}},{key:"render",value:function(){return this.props.params.query&&this.props.items?c.default.createElement("div",null,c.default.createElement(y.default,{artists:this.props.items,playbackState:this.props.playbackState,onPlayArtist:this.handlePlayArtist,onSelectArtist:this.handleStoreSearchHistory,dispatch:this.props.dispatch}),this.props.items.length!==this.props.total?c.default.createElement(m.default,null):null):c.default.createElement("div",null)}}]),t}(d.default);S.propTypes={dispatch:c.default.PropTypes.func.isRequired,params:c.default.PropTypes.shape({query:c.default.PropTypes.string}).isRequired,items:c.default.PropTypes.array,playbackState:c.default.PropTypes.object.isRequired,total:c.default.PropTypes.number},t.default=(0,p.connect)(s)(S)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),l=r(u),c=n(3),p=n(15),f=n(5),d=n(152),h=r(d),y=n(2),_=function(e){function t(){i(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.handleInputChange=e.handleInputChange.bind(e),e.state={inputValue:""},e}return a(t,e),s(t,[{key:"componentDidMount",value:function(){document.title=(0,y._)("search.page-title")}},{key:"handleInputChange",value:function(e){var t=this;clearTimeout(this.debounceTimeout),this.debounceTimeout=setTimeout(function(){clearTimeout(t.debounceTimeout),""!==e?(t.props.dispatch((0,f.requestSearch)(e)),p.browserHistory.push("/search/results/"+encodeURIComponent(e))):p.browserHistory.push("/search/"+encodeURIComponent(e))},400)}},{key:"render",value:function(){return l.default.createElement("div",null,l.default.createElement(h.default,{onChange:this.handleInputChange,initialValue:this.props.query,label:(0,y._)("search.search-for-label")}))}}]),t}(l.default.Component);t.default=(0,c.connect)()(_)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){var t=e.searchHistory.contexts;return{searchHistory:t}}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),c=r(l),p=n(3),f=n(294),d=r(f),h=n(5),y=function(e){function t(e){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e))}return a(t,e),u(t,[{key:"componentDidMount",value:function(){this.props.params.query&&this.props.dispatch((0,h.requestSearch)(this.props.params.query))}},{key:"componentWillReceiveProps",value:function(e){e.params.query!==this.props.params.query&&this.props.dispatch((0,h.requestSearch)(this.props.params.query))}},{key:"render",value:function(){return c.default.createElement(d.default,{history:this.props.searchHistory,dispatch:this.props.dispatch})}}]),t}(c.default.Component);t.default=(0,p.connect)(s)(y)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){var n=[],r=[],i=[],o=[],a=[];if(e.entities.search.has(t.params.query)){var s=Object.assign({},e.entities.search.get(t.params.query));o=s.tracks.items,n=s.artists.items.map(function(t){return e.entities.all.get(t)}),r=s.albums.items.map(function(t){return e.entities.all.get(t)}),i=s.playlists.items.map(function(t){return e.entities.all.get(t)}),a=s.best_match.items.map(function(t){return e.entities.all.get(t)})}var u={trackItems:o,artistItems:n,albumItems:r,playlistItems:i,bestMatchItems:a},l=(0,A.extractBasicPlaybackData)(e),c={};i.forEach(function(t){e.entities.all.has(t.owner.uri)&&(c[t.owner.uri]=e.entities.all.get(t.owner.uri))});var p=e.searchHistory.contexts;return{results:u,playbackState:l,users:c,searchHistory:p}}Object.defineProperty(t,"__esModule",{value:!0}),t.SearchOverviewContainer=void 0;var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),c=r(l),p=n(3),f=n(15),d=n(13),h=r(d),y=n(30),_=r(y),m=n(97),v=r(m),g=n(95),b=r(g),E=n(96),S=r(E),T=n(73),w=r(T),C=n(35),O=r(C),k=n(7),R=n(52),P=n(2),I=n(5),A=n(17),L=t.SearchOverviewContainer=function(e){function t(){i(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.handlePlayAlbum=e.handlePlayAlbum.bind(e),e.handlePlayArtist=e.handlePlayArtist.bind(e),e.handlePlayPlaylist=e.handlePlayPlaylist.bind(e),e.handlePlayContext=e.handlePlayContext.bind(e),e.handleStoreSearchHistory=e.handleStoreSearchHistory.bind(e),e}return a(t,e),u(t,[{key:"componentDidMount",value:function(){this.props.dispatch((0,I.requestSearch)(this.props.params.query))}},{key:"componentWillReceiveProps",value:function(e){var t=this;e.params.query!==this.props.params.query&&this.props.dispatch((0,I.requestSearch)(this.props.params.query));var n=new Set;e.results.playlistItems.forEach(function(e){var t=e.owner;n.add(t.uri)}),n.forEach(function(n){n in e.users||t.props.dispatch((0,I.requestUser)(n))})}},{key:"handlePlayAlbum",value:function(e){this.props.dispatch((0,k.playAlbum)(e))}},{key:"handlePlayArtist",value:function(e){this.props.dispatch((0,k.playArtist)(e))}},{key:"handlePlayPlaylist",value:function(e){this.props.dispatch((0,k.playPlaylist)(e))}},{key:"handlePlayContext",value:function(e){this.props.dispatch((0,k.playContext)(e))}},{key:"handleStoreSearchHistory",value:function(e,t){this.props.dispatch((0,R.storeContext)(t,e))}},{key:"render",value:function(){var e=this.props,t=e.params,n=e.results,r=e.playbackState,i=e.dispatch,o=e.users;if(t.query&&(n.artistItems.length||n.trackItems.length||n.albumItems.length||n.playlistItems.length)){var a=n.bestMatchItems&&n.bestMatchItems.length>0,s=!1,u=null,l=[];if(a){u=n.bestMatchItems[0],h.default.fromString(u.uri).type===h.default.Type.ARTIST&&(s=!0);var p=h.default.fromString(u.uri).type;switch(p){case h.default.Type.PLAYLIST:l=[u.owner];break;case h.default.Type.ALBUM:case h.default.Type.TRACK:l=u.artists;break;default:l=[]}}var d=a?c.default.createElement(O.default,{entity:u,playbackState:r,onClickPlay:this.handlePlayContext,maxWidth:450,owners:l,onClick:this.handleStoreSearchHistory,rounded:s}):"",y=n.trackItems.length>0,m=y?c.default.createElement(v.default,{tracks:n.trackItems.slice(0,5),dispatch:i,playbackState:r,contextURI:"spotify:list:search:"+encodeURIComponent(t.query),isContext:!1}):"",g=n.artistItems.length>0,E=g?c.default.createElement("div",null,c.default.createElement(_.default,{align:"center"},c.default.createElement(f.Link,{to:"/search/artists/"+t.query},(0,P._)("artists"))),c.default.createElement(w.default,{artists:n.artistItems.slice(0,8),playbackState:r,onPlayArtist:this.handlePlayArtist,onSelectArtist:this.handleStoreSearchHistory})):"",T=n.albumItems.length>0,C=T?c.default.createElement("div",null,c.default.createElement(_.default,{align:"center"},c.default.createElement(f.Link,{to:"/search/albums/"+t.query},(0,P._)("albums"))),c.default.createElement(b.default,{albums:n.albumItems.slice(0,8),playbackState:r,onPlayAlbum:this.handlePlayAlbum,onSelectAlbum:this.handleStoreSearchHistory})):"",k=n.playlistItems.length>0,R=k?c.default.createElement("div",null,c.default.createElement(_.default,{align:"center"},c.default.createElement(f.Link,{to:"/search/playlists/"+this.props.params.query},(0,P._)("playlists"))),c.default.createElement(S.default,{playlists:n.playlistItems.slice(0,8),playbackState:r,onPlayPlaylist:this.handlePlayPlaylist,onSelectPlaylist:this.handleStoreSearchHistory,users:o})):"";return c.default.createElement("div",{className:"container-fluid container-fluid--noSpaceAround"},c.default.createElement("div",{className:"row"},c.default.createElement("div",{className:"col-xs-12 col-sm-4 col-md-4 col-lg-3 col-xl-4 top-artist"},d),c.default.createElement("div",{className:a?"col-xs-12 col-sm-8 col-md-8 col-lg-9 col-xl-8":"col-xs-12 col-sm-12 col-md-12"},m)),c.default.createElement("div",{className:"row"},c.default.createElement("div",{className:"col-xs-12"},E)),c.default.createElement("div",{className:"row"},c.default.createElement("div",{className:"col-xs-12"},C)),c.default.createElement("div",{className:"row"},c.default.createElement("div",{className:"col-xs-12"},R)))}return c.default.createElement("div",null)}}]),t}(c.default.Component);t.default=(0,p.connect)(s)(L)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){var n=[],r=0;if(e.entities.search.has(t.params.query)){var i=e.entities.search.get(t.params.query);n=i.playlists.items.map(function(t){return e.entities.all.get(t)}),r=i.playlists.total}var o={};n.forEach(function(t){e.entities.all.has(t.owner.uri)&&(o[t.owner.uri]=e.entities.all.get(t.owner.uri))});var a=(0,E.extractBasicPlaybackData)(e);return{items:n,total:r,playbackState:a,users:o}}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),c=r(l),p=n(3),f=n(29),d=r(f),h=n(96),y=r(h),_=n(32),m=r(_),v=n(7),g=n(5),b=n(52),E=n(17),S=function(e){function t(){i(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.handlePlayPlaylist=e.handlePlayPlaylist.bind(e),e.handleStoreSearchHistory=e.handleStoreSearchHistory.bind(e),e}return a(t,e),u(t,[{key:"componentWillReceiveProps",value:function(e){e.params.query!==this.props.params.query&&this.fetchInitialData()}},{key:"fetchInitialData",value:function(){this.props.dispatch((0,g.requestSearch)(this.props.params.query))}},{key:"fetchMoreData",value:function(){this.props.dispatch((0,g.requestSearchPlaylistsMore)(this.props.params.query))}},{key:"handlePlayPlaylist",value:function(e){this.props.dispatch((0,v.playPlaylist)(e))}},{key:"handleStoreSearchHistory",value:function(e,t){this.props.dispatch((0,b.storeContext)(t,e))}},{key:"render",value:function(){return this.props.params.query&&this.props.items?c.default.createElement("div",null,c.default.createElement(y.default,{playlists:this.props.items,playbackState:this.props.playbackState,onPlayPlaylist:this.handlePlayPlaylist,onSelectPlaylist:this.handleStoreSearchHistory,users:this.props.users}),this.props.items.length!==this.props.total?c.default.createElement(m.default,null):null):c.default.createElement("div",null)}}]),t}(d.default);S.propTypes={params:c.default.PropTypes.shape({query:c.default.PropTypes.string}).isRequired,items:c.default.PropTypes.array,playbackState:c.default.PropTypes.object.isRequired,total:c.default.PropTypes.number,users:c.default.PropTypes.object},t.default=(0,p.connect)(s)(S)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){var n=null;e.entities.search.has(t.params.query)&&(n=e.entities.search.get(t.params.query));var r=(0,g.extractBasicPlaybackData)(e);return{results:n,playbackState:r}}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),c=r(l),p=n(3),f=n(29),d=r(f),h=n(97),y=r(h),_=n(32),m=r(_),v=n(5),g=n(17),b=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),u(t,[{key:"componentWillReceiveProps",value:function(e){e.params.query!==this.props.params.query&&this.fetchInitialData()}},{key:"fetchInitialData",value:function(){this.props.dispatch((0,v.requestSearch)(this.props.params.query))}},{key:"fetchMoreData",value:function(){this.props.dispatch((0,v.requestSearchTracksMore)(this.props.params.query))}},{key:"render",value:function(){if(this.props.params.query&&this.props.results){var e=this.props.results.tracks.items.length!==this.props.results.tracks.total?c.default.createElement(m.default,null):null;return c.default.createElement("div",null,c.default.createElement(y.default,{tracks:this.props.results.tracks.items,dispatch:this.props.dispatch,playbackState:this.props.playbackState,contextURI:"spotify:list:search:"+encodeURIComponent(this.props.params.query),isContext:!1}),e)}return c.default.createElement("section",null)}}]),t}(d.default);b.propTypes={params:c.default.PropTypes.shape({query:c.default.PropTypes.string}).isRequired,dispatch:c.default.PropTypes.func.isRequired,results:c.default.PropTypes.object,playbackState:c.default.PropTypes.object.isRequired,total:c.default.PropTypes.number},t.default=(0,p.connect)(s)(b)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){var n=null,r=[],i="spotify:show:"+t.params.showId,o=t.params.showId;e.entities.all.has(i)&&(n=e.entities.all.get(i),r.push({uri:null,name:n.publisher}));var a=!n||null===n.episodes.next,s=Boolean(n),u=(0,g.extractBasicPlaybackData)(e);return{show:n,showId:o,owners:r,uri:i,isFullyLoaded:a,isLoaded:s,playbackState:u}}Object.defineProperty(t,"__esModule",{value:!0}),t.ShowContainer=void 0;var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),c=r(l),p=n(3),f=n(101),d=r(f),h=n(295),y=r(h),_=n(5),m=n(7),v=n(8),g=n(17),b=n(9),E=r(b),S=n(84),T=r(S),w=t.ShowContainer=function(e){function t(){i(this,t);var e=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return(0,T.default)(e),e}return a(t,e),u(t,[{key:"componentDidMount",value:function(){if(this.props.show){var e=this.props.show&&this.props.show.images[0];this.props.dispatch((0,v.setContextualBackground)(e))}else this.requestContent(this.props)}},{key:"componentWillReceiveProps",value:function(e){this.requestContent(e)}},{key:"requestContent",value:function(e){e.show&&e.showId===this.props.showId||this.props.dispatch((0,_.requestShow)(e.showId));var t=e.show&&e.show.images[0],n=this.props.show&&this.props.show.images[0];t&&t!==n&&this.props.dispatch((0,v.setContextualBackground)(t));var r=e.show&&e.show.name,i=this.props.show&&this.props.show.name;r&&r!==i&&(document.title=r)}},{key:"handlePlayContext",value:function(){this.props.dispatch((0,m.playShow)(this.props.show.uri))}},{key:"handleLoadMore",value:function(){var e=this.props,t=e.show,n=e.showId;t&&this.props.dispatch((0,_.requestShowMore)(n))}},{key:"render",value:function(){return this.props.show?c.default.createElement(d.default,{onReachBottom:this.handleLoadMore,loaded:this.props.isLoaded,full:this.props.isFullyLoaded},c.default.createElement(y.default,{show:this.props.show,onPlayContext:this.handlePlayContext,dispatch:this.props.dispatch,owners:this.props.owners,playbackState:this.props.playbackState})):c.default.createElement("section",null)}}]),t}(c.default.Component);t.default=(0,p.connect)(s,null,null,{pure:!0,areStatePropsEqual:function(e,t){return(0,E.default)(e.show,t.show)&&(0,E.default)(e.playbackState,t.playbackState)&&e.uri===t.uri&&e.showId===t.showId}})(w)},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e,t){var n=t.params.userId,r=t.params.clusterId,i="spotify:station:user:"+n+":cluster:"+r,o=e.entities.all.get(i),a=e.session.user,s=(0,v.extractBasicPlaybackData)(e);return s.contextURI&&(s.contextURI=s.contextURI.split("?")[0]),{userId:n,user:a,clusterId:r,stationUri:i,station:o,playbackState:s}}Object.defineProperty(t,"__esModule",{value:!0}),t.StationContainer=void 0;var l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r);
}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(1),p=i(c),f=n(3),d=n(5),h=r(d),y=n(290),_=i(y),m=n(54),v=n(17),g=n(7),b=n(8),E=n(9),S=i(E),T=t.StationContainer=function(e){function t(){o(this,t);var e=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.handlePlayContext=e.handlePlayContext.bind(e),e}return s(t,e),l(t,[{key:"componentDidMount",value:function(){this.fetchInitialData(this.props.station,this.props.clusterId,this.props.userId)}},{key:"componentWillReceiveProps",value:function(e){if(this.fetchInitialData(e.station,e.clusterId,e.userId),e.station){var t=e.station&&{url:e.station.waveImageUrl,width:640},n=this.props.station&&{url:this.props.station.waveImageUrl,width:640};t&&t!==n&&this.props.dispatch((0,b.setContextualBackground)(t)),document.title=e.station.name}}},{key:"fetchInitialData",value:function(e,t,n){e&&!(0,m.hasSimpleMetadata)(e)||this.props.dispatch(h.requestStationDetails(t,n)),e&&this.props.dispatch((0,b.setContextualBackground)({url:e.waveImageUrl,width:640}))}},{key:"handlePlayContext",value:function(){this.props.dispatch((0,g.startRadio)(this.props.station.uri+"?salt="+(new Date).getDate()))}},{key:"render",value:function(){return this.props.station?p.default.createElement("section",{className:"contentSpacing"},p.default.createElement(_.default,{station:this.props.station,dispatch:this.props.dispatch,user:this.props.user,playbackState:this.props.playbackState,onPlayContext:this.handlePlayContext})):null}}]),t}(p.default.Component);t.default=(0,f.connect)(u,null,null,{pure:!0,areStatePropsEqual:function(e,t){return e.userId===t.userId&&e.clusterId===t.clusterId&&(0,S.default)(e.station,t.station)&&(0,S.default)(e.playbackState,t.playbackState)}})(T)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.mapStateToProps=t.TrackContainer=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),l=r(u),c=n(5),p=n(7),f=n(3),d=n(15),h=n(13),y=r(h),_=t.TrackContainer=function(e){function t(){return i(this,t),o(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return a(t,e),s(t,[{key:"componentDidMount",value:function(){this.props.dispatch((0,c.requestTrack)(this.props.uri))}},{key:"componentWillReceiveProps",value:function(e){e.track&&(e.dispatch((0,p.playTrack)(e.track.track_number-1,e.track.album.uri)),d.browserHistory.push(y.default.from(e.track.album.uri).toURLPath(!0)))}},{key:"render",value:function(){return l.default.createElement("section",null)}}]),t}(l.default.Component),m=t.mapStateToProps=function(e,t){var n="spotify:track:"+t.params.trackId;return{uri:n,track:e.entities.tracks.get(n)}};t.default=(0,f.connect)(m)(_)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.UserPageContainer=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),l=r(u),c=n(29),p=r(c),f=n(17),d=n(3),h=n(7),y=n(5),_=n(298),m=r(_),v=n(9),g=r(v),b=t.UserPageContainer=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handlePlayPlaylist=n.handlePlayPlaylist.bind(n),n}return a(t,e),s(t,[{key:"hasPlaylists",value:function(e){return!!e.playlists}},{key:"fetchInitialData",value:function(){this.props.user?(this.hasPlaylists(this.props.user)||this.props.dispatch((0,y.requestUserPlaylists)(this.props.uri)),document.title=this.props.user.display_name||this.props.user.id):this.props.dispatch((0,y.requestUser)(this.props.uri))}},{key:"fetchMoreData",value:function(){this.hasPlaylists(this.props.user)&&this.props.user.playlists.next&&this.props.dispatch((0,y.requestUserPlaylistsMore)(this.props.uri))}},{key:"componentWillReceiveProps",value:function(e){var t=this;if(e.uri===this.props.uri||e.user?e.user&&!this.hasPlaylists(e.user)&&this.props.dispatch((0,y.requestUserPlaylists)(e.uri)):this.props.dispatch((0,y.requestUser)(e.uri)),e.userPlaylists){var n=new Set;e.userPlaylists.forEach(function(e){var t=e.owner;n.add(t.uri)}),n.forEach(function(n){n in e.userPlaylists||t.props.dispatch((0,y.requestUser)(n))})}var r=e.user&&(e.user.display_name||e.user.id),i=this.props.user&&(this.props.user.display_name||this.props.user.id);r&&r!==i&&(document.title=r)}},{key:"handlePlayPlaylist",value:function(e){this.props.dispatch((0,h.playPlaylist)(e))}},{key:"render",value:function(){return this.props.user?l.default.createElement(m.default,{user:this.props.user,users:this.props.users,userPlaylists:this.props.userPlaylists,playbackState:this.props.playbackState,onPlayPlaylist:this.handlePlayPlaylist}):l.default.createElement("section",null)}}]),t}(p.default);b.propTypes={api:l.default.PropTypes.object.isRequired,uri:l.default.PropTypes.string.isRequired,playbackState:l.default.PropTypes.object.isRequired,dispatch:l.default.PropTypes.func.isRequired,users:l.default.PropTypes.object};var E=function(e,t){var n="spotify:user:"+t.params.userId,r=null,i={},o=null;e.entities.all.has(n)&&(r=e.entities.all.get(n),r.playlists&&(o=r.playlists.items.map(function(t){var n=e.entities.all.get(t);return i[n.owner.uri]=e.entities.all.get(n.owner.uri),n})));var a=(0,f.extractBasicPlaybackData)(e);return{uri:n,user:r,users:i,userPlaylists:o,playbackState:a}};t.default=(0,d.connect)(E,null,null,{pure:!0,areStatePropsEqual:function(e,t){return(0,g.default)(e.user,t.user)&&(0,g.default)(e.users,t.users)&&(0,g.default)(e.userPlaylists,t.userPlaylists)&&e.uri===t.uri&&e.playbackState.isPlaying===t.playbackState.isPlaying&&e.playbackState.contextURI===t.playbackState.contextURI}})(b)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0}),t.ViewContainer=void 0;var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(439),l=(r(u),n(1)),c=r(l),p=n(101),f=r(p),d=n(258),h=r(d),y=n(17),_=n(7),m=n(8),v=n(5),g=n(3),b=n(9),E=r(b),S=t.ViewContainer=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handlePlay=n.handlePlay.bind(n),n.handleLoadMore=n.handleLoadMore.bind(n),n.getView=n.getView.bind(n),n.setBackground=n.setBackground.bind(n),n}return a(t,e),s(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.viewData,n=e.viewId,r=e.user;this.setTitle(t&&t.name,n),this.requestContent(t,n,r),this.setBackground()}},{key:"componentWillReceiveProps",value:function(e){var t=e.viewData,n=e.viewId,r=e.user;this.setTitle(t&&t.name,n),n!==this.props.viewId&&this.requestContent(t,n,r)}},{key:"componentDidUpdate",value:function(){this.setBackground()}},{key:"setBackground",value:function(){if(this.props.viewData&&Array.isArray(this.props.viewData.content.items)){var e=this.props.viewData.content.items,t=void 0;if(e[0]&&e[0].content){var n=e.find(function(e){return e.content&&Array.isArray(e.content.items)&&e.content.items.length>0&&Array.isArray(e.content.items[0].images)});t=n.content.items[0].images[0]}else t=e[0]&&Array.isArray(e[0].images)&&e[0].images[0];t&&this.props.dispatch((0,m.setContextualBackground)(t))}}},{key:"setTitle",value:function(e,t){e?document.title=e:t&&(document.title="Spotify")}},{key:"getView",value:function(e){var t=e.split("/");return t[t.length-1]}},{key:"handlePlay",value:function(e){this.props.dispatch((0,_.playContext)(e))}},{key:"requestContent",value:function(e,t,n){e||this.props.dispatch((0,v.requestView)(t,n.country))}},{key:"handleLoadMore",value:function(){var e=this.props,t=e.viewData,n=e.viewId;t&&this.props.dispatch((0,v.requestViewMore)(n))}},{key:"render",value:function(){var e=this,t=this.props,n=t.isLoaded,r=t.isFullyLoaded,i=t.viewData,o=i&&i.content.items;return c.default.createElement(f.default,{onReachBottom:this.handleLoadMore,loaded:n,full:r},i&&c.default.createElement("section",null,c.default.createElement("div",{className:"contentSpacing"},o[0].content?o.map(function(t,n){return c.default.createElement(h.default,{key:t.name+n,limited:!0,viewMoreButtonLink:"/view/"+e.getView(t.href),total:t.content.total,title:t.name,entities:t.content.items,playbackState:e.props.playbackState,onPlay:e.handlePlay})}):c.default.createElement(h.default,{key:i.name,title:i.name,entities:o,playbackState:this.props.playbackState,onPlay:this.handlePlay}))))}}]),t}(c.default.Component),T=function(e,t){var n=t.route.viewId||t.params.viewId,r=e.session.user,i=(0,y.extractBasicPlaybackData)(e),o=e.entities.views.get(n,null),a=!o||null===o.content.next,s=Boolean(o);return{user:r,playbackState:i,viewData:o,isFullyLoaded:a,isLoaded:s,viewId:n}};t.default=(0,g.connect)(T,null,null,{pure:!0,areStatePropsEqual:function(e,t){return(0,E.default)(e.viewData,t.viewData)&&(0,E.default)(e.playbackState,t.playbackState)&&(0,E.default)(e.user,t.user)}})(S)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){return l.default.createElement(e,o({},t,{session:null,api:_.default.getInstance()}))}var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(336),s=r(a),u=n(1),l=r(u),c=n(478),p=n(15),f=n(556),d=r(f),h=n(72),y=n(55),_=r(y),m=n(375),v=r(m),g=n(34),b=n(2),E=n(103),S=n(541),T=n(226),w=r(T),C=n(363),O=r(C),k=document.body.classList.contains("env-prod");k&&(0,s.default)(window.Raven);var R=432,P=window.screen.orientation&&window.screen.orientation.type,I=0===P.indexOf("portrait")&&window.screen.width<=R||0===P.indexOf("landscape")&&window.screen.height<=R;I&&(window.Raven&&window.Raven.captureMessage("Mobile device detection",{level:"warning",extra:{orientation:P,screen_width:window.screen.width,screen_height:window.screen.height}}),window.location.href="https://www.spotify.com"),"function"!=typeof Object.assign&&(Object.assign=O.default);var A=JSON.parse(document.getElementById("jsonTranslations").innerHTML),L=document.getElementById("jsonTranslations").getAttribute("data-locale");b.I18n.getInstance().setDictionary(A,L);var U=JSON.parse(document.getElementById("features").innerHTML),M=JSON.parse(document.getElementById("tests").innerHTML),x={accessToken:(0,E.readCookie)("wp_access_token"),expiration:+(0,E.readCookie)("wp_expiration"),expiresIn:+(0,E.readCookie)("wp_expires_in"),loggedIn:!!(0,E.readCookie)("wp_access_token")},D=(0,v.default)({session:x,features:U,tests:M},p.browserHistory);_.default.setStore(D),_.default.setLocale(L),D.dispatch((0,g.load)());var N=(0,h.syncHistoryWithStore)(p.browserHistory,D);N.listen(function(e){setTimeout(function(){if("POP"!==e.action){var t=document.querySelector(".main-view-container");t&&(t.scrollTop=0)}})});var j=document.createElement("div");j.id="main",document.body.appendChild(j),document.documentElement.classList.add("no-focus-outline"),document.body.addEventListener("keyup",function(e){9===e.which&&document.documentElement.classList.remove("no-focus-outline")}),(0,c.render)(l.default.createElement(S.AppContainer,null,l.default.createElement(w.default,{store:D,createElement:i,history:N,render:(0,p.applyRouterMiddleware)((0,d.default)())})),j)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(656),a="https://spclient.wg.spotify.com/ads",s="DISPLAY_NODE_PROGRESS",u="DISPLAY_NODE_ERROR",l=1,c="WebPlayer",p="1.0.0",f={leaderboard:{streamTimeInterval:870,focus_time_elapsed_ms:3e4}},d=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(r(this,e),!t)throw new Error("AdManager: No accessToken provided");this._blackList=["/settings","/settings/account"],this._accessToken=t,this._frameSrc=n.frameSrc,this._target=null,this._displayNode=null,this._refresh=this._refresh.bind(this),this._handleAppVisibilityChange=this._handleAppVisibilityChange.bind(this),this._handleLeaderboardMessage=this._handleLeaderboardMessage.bind(this),this._refreshTimeout=null,this._config=null,this._eventHandlers=new Map,this._appStartupId=o.create().hex,this._adPlaybackId=null,this._enableLeaderboardMessageHandler(),this._isDestroyed=!1,this._path=null,this._isAdPlaying=!1}return i(e,[{key:"_getHeaders",value:function(){return{Authorization:"Bearer "+this._accessToken,"Spotify-App-Version":p,"App-Platform":c}}},{key:"_getFrameSrcOrigin",value:function(){return this._frameSrc.indexOf("http")>-1?this._frameSrc.slice(0,this._frameSrc.indexOf("/","https://".length)):location.origin}},{key:"_enableAppVisibilityHandler",value:function(){document.addEventListener("visibilitychange",this._handleAppVisibilityChange)}},{key:"_disableAppVisibilityHandler",value:function(){document.removeEventListener("visibilitychange",this._handleAppVisibilityChange)}},{key:"_handleAppVisibilityChange",value:function(e){var t=e.path&&e.path[0]||document;t.hidden?this._disableRefresh():this._scheduleRefresh()}},{key:"_enableLeaderboardMessageHandler",value:function(){window.addEventListener("message",this._handleLeaderboardMessage)}},{key:"_disableLeaderboardMessageHandler",value:function(){window.removeEventListener("message",this._handleLeaderboardMessage)}},{key:"_handleLeaderboardMessage",value:function(e){var t={slot:"leaderboard",ad_format:"banner",app_startup_id:this._appStartupId,ad_playback_id:this._adPlaybackId,jsondata:JSON.stringify({leaderboardVersion:3,platform:c,revision:p}),lineitem_id:"",creative_id:"",ad_id:"",in_focus:document.hasFocus?document.hasFocus():null};switch(e.data.data&&Object.assign(t,{lineitem_id:e.data.data.lineItemId,creative_id:e.data.data.creativeId,ad_id:e.data.data.creativeId}),e.data.type){case"ads-leaderboard-rendered":this._emitEvent("leaderboard_rendered",{data:Object.assign(t,{event:"event_viewed"})});break;case"ads-leaderboard-failed":this._emitEvent("leaderboard_failed",{data:Object.assign(t,{event:"event_errored"})})}}},{key:"_checkBlackList",value:function(e){return this._blackList.indexOf(e)!==-1}},{key:"requestConfig",value:function(){var e=this;if(this._config)return Promise.resolve(this._config);var t=this._getHeaders();return fetch(a+"/v2/config?payload=e30=",{headers:t}).then(function(e){return e.ok?e.json():f}).then(function(t){return e._config=t,t})}},{key:"requestSlot",value:function(e){var t=this,n=this._getHeaders();return fetch(a+"/v1/ads/"+e+"?payload=e30=",{headers:n}).then(function(e){if(!e.ok)throw Error("Slot Request failed");return e.json()}).then(function(e){return t._adPlaybackId=o.create().hex,e})}},{key:"enableLeaderboard",value:function(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!t)return console.log("AdManager: elmTarget cannot be null or undefined"),Promise.resolve();if(!this._frameSrc)throw new Error("AdManager: frameSrc must be specified in options. Point it to a blank page on the same domain.");if(this.isLeaderboardEnabled())throw new Error("AdManager: A leaderboard is already enabled, cannot enable it again.");return this.target=t,this._displayNode=s,this.requestSlot(e.SLOT_LEADERBOARD).then(function(e){n.isLeaderboardEnabled()&&n.disableLeaderboard(l);var t=e.pod.leaderboard[0],i=t.display,o=i.find(function(e){return"text/html"===e.mimetype}),a=document.createElement("iframe");return a.setAttribute("sandbox","allow-forms allow-modals allow-popups allow-popups-to-escape-sandbox allow-same-origin allow-scripts"),a.setAttribute("width",o.width),a.setAttribute("height",o.height),a.setAttribute("src",n._frameSrc),n._displayNode=document.createElement("div"),n._displayNode.appendChild(a),n._displayNode.style.display="block",n.target.innerHTML="",n.target.appendChild(n._displayNode),a.addEventListener("load",function(e){var r=e.path&&e.path[0].contentWindow||a.contentWindow;r.postMessage({type:"html",html:t.html},n._getFrameSrcOrigin())}),n._enableAppVisibilityHandler(),r!==l&&n._emitEvent("leaderboard_enabled"),n._scheduleRefresh()},function(){return n._displayNode=u,n._scheduleRefresh()})}},{key:"disableLeaderboard",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(!this.isLeaderboardEnabled())throw new Error("AdManager: No leaderboard is enabled, cannot disable it");return this._disableAppVisibilityHandler(),this._disableRefresh(),this._displayNode===u?void(this._displayNode=null):this._displayNode===s?void(this._displayNode=null):(this._displayNode.removeChild(this._displayNode.firstChild),this._displayNode.parentNode.removeChild(this._displayNode),this._displayNode=null,void(e!==l&&this._emitEvent("leaderboard_disabled")))}},{key:"on",value:function(e,t){var n=["leaderboard_rendered","leaderboard_failed","leaderboard_enabled","leaderboard_disabled"];if(n.indexOf(e)===-1)throw new Error('AdManager: Registering event handler for "'+e+'" failed because '+("no such event exists. (available events: "+n.join(", ")+")"));if("function"!=typeof t)throw new Error('AdManager: Registering event handler for "'+e+'" failed because '+('the handler provided is not a function (it is "'+t+'")'));this._eventHandlers.has(e)||this._eventHandlers.set(e,[]),this._eventHandlers.get(e).push(t)}},{key:"_emitEvent",value:function(e,t){this._eventHandlers.has(e)&&this._eventHandlers.get(e).forEach(function(e){return e(t)})}},{key:"_calculateLeaderboardVisibility",value:function(){if(!this._isDestroyed&&this.target)if(this._isAdPlaying)this.isLeaderboardEnabled()&&this.disableLeaderboard();else{var e=this._checkBlackList(this._path);e?this.isLeaderboardEnabled()&&this.disableLeaderboard():this.isLeaderboardEnabled()||this.enableLeaderboard(this.target)}}},{key:"setPath",value:function(e){this._path=e,this._calculateLeaderboardVisibility()}},{key:"setIsAdPlaying",value:function(e){this._isAdPlaying=e,this._calculateLeaderboardVisibility()}},{key:"setAccessToken",value:function(e){this._accessToken=e}},{key:"destroy",value:function(){this.isLeaderboardEnabled()&&this.disableLeaderboard(),this._disableLeaderboardMessageHandler(),this._isDestroyed=!0}},{key:"isLeaderboardEnabled",value:function(){return Boolean(this._displayNode)}},{key:"_scheduleRefresh",value:function(){var e=this;return this.requestConfig().then(function(t){if(!e._isDestroyed){e._disableRefresh();var n=t.leaderboard.focus_time_elapsed_ms||3e4;e._refreshTimeout=setTimeout(e._refresh,n)}})}},{key:"_disableRefresh",value:function(){this._refreshTimeout&&clearTimeout(this._refreshTimeout)}},{key:"_refresh",value:function(){this.disableLeaderboard(l),this.enableLeaderboard(this.target,l)}}]),e}();d.SLOT_LEADERBOARD="leaderboard",t.default=d},function(e,t){"use strict";function n(e){if(!e||"string"!=typeof e)return"#";var t=["http://","https://","spotify:"],n=!0,r=!1,i=void 0;try{for(var o,a=t[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var s=o.value;if(e.substr(0,s.length)===s)return e}}catch(e){r=!0,i=e}finally{try{!n&&a.return&&a.return()}finally{if(r)throw i}}return"#"}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(e){return 1===e?"one":"other"},r=function(){return"other"},i=function(e){var t=e%10,n=e%100;return 1===e?"one":[2,3,4].indexOf(t)!==-1&&[12,13,14].indexOf(n)===-1?"few":[0,1,5,6,7,8,9].indexOf(t)!==-1||[12,13,14].indexOf(n)!==-1?"many":"other"},o=function(e){return 1===e?"one":e>=2&&e<=4?"few":"other"};t.default={cs:o,en:n,de:n,el:n,"es-419":n,es:n,fi:n,fr:n,"fr-CA":n,hu:n,id:r,it:n,ja:r,nl:n,pl:i,"pt-BR":n,sv:n,tr:n,"zh-Hant":r,zsm:r}},function(e,t){"use strict";function n(e){var t=Promise.resolve();return e.forEach(function(e){t=t.then(e)}),t}Object.defineProperty(t,"__esModule",{value:!0}),t.promiseSequence=n},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(){n(this,e),this.topics={},this.lastUid=-1}return r(e,[{key:"subscribe",value:function(e,t){this.topics.hasOwnProperty(e)||(this.topics[e]=[]);var n=++this.lastUid;return this.topics[e].push({token:n,func:t}),n}},{key:"unsubscribe",value:function(e){var t=this;Object.keys(this.topics).forEach(function(n){t.topics[n].forEach(function(r,i){r.token===e&&t.topics[n].splice(i,1)})})}},{key:"publish",value:function(e,t){this.topics.hasOwnProperty(e)&&this.topics[e].forEach(function(e){try{e.func(t)}catch(e){console.error(e)}})}}]),e}();t.default=i},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=[],t=function(t){"undefined"==typeof Raven&&(t.onerror=function(t,n,r){e.push([t,n,r])})};i(n,function(){var t=window.Raven;t.config(r,{ignoreUrls:[/.*\.scr\.kaspersky\-labs\.com/i,/.*\/main.js/i],shouldSendCallback:function(){var e=30;return 100*Math.random()<=e}}).install(),t.setUserContext({id:o("sp_t")});for(var n=0;n<e.length;n++)t.captureMessage("Message: "+e[n][0]+" - URL: "+e[n][1]+" - Line: "+e[n][2])}),t(window)};var n="https://cdn.ravenjs.com/3.12.1/raven.min.js",r="https://de32132fc06e4b28965ecf25332c3a25@sentry.io/114855",i=function(e,t){var n=document.createElement("script"),r=!1;n.setAttribute("src",e),t&&(n.onreadystatechange=n.onload=function(){r||t(),r=!0}),document.getElementsByTagName("head")[0].appendChild(n)},o=function(e){var t=document.cookie,n=t.split(";").map(function(e){return e.trim().split("=")}).reduce(function(e,t){return e[t[0]]=t[1],e},{});return n[e]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.logout=t.refreshToken=void 0;var r=n(28);t.refreshToken=function(e){return e.build().withHost(r.ACCOUNTS_HOST).withPath("/refresh_token").withoutMarket().send()},t.logout=function(e){return e.build().withHost(r.ACCOUNTS_HOST).withPath("/logout").withoutMarket().send()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getAlbumTracks=t.getAlbums=t.getAlbum=void 0;var r=n(28);t.getAlbum=function(e,t){return e.build().withHost(r.API_HOST).withPath("/albums/"+t).send()},t.getAlbums=function(e,t){return e.build().withHost(r.API_HOST).withPath("/albums").withQueryParameters({ids:t.join(",")}).send()},t.getAlbumTracks=function(e,t,n){return e.build().withHost(r.API_HOST).withPath("/albums/"+t+"/tracks").withQueryParameters(n).send()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getArtistMetadata=t.getArtistRelatedArtists=t.getArtistTopTracks=t.getArtistAlbums=t.getArtists=t.getArtist=void 0;var r=n(28);t.getArtist=function(e,t){return e.build().withHost(r.API_HOST).withPath("/artists/"+t).withoutMarket().send()},t.getArtists=function(e,t){return e.build().withHost(r.API_HOST).withPath("/artists").withQueryParameters({ids:t.join(",")}).withoutMarket().send()},t.getArtistAlbums=function(e,t,n){return e.build().withHost(r.API_HOST).withPath("/artists/"+t+"/albums").withQueryParameters(n).withoutMarket().send()},t.getArtistTopTracks=function(e,t,n){return e.build().withHost(r.API_HOST).withPath("/artists/"+t+"/top-tracks").withQueryParameters({country:n}).send()},t.getArtistRelatedArtists=function(e,t){return e.build().withHost(r.API_HOST).withPath("/artists/"+t+"/related-artists").withoutMarket().send()},t.getArtistMetadata=function(e,t){return e.build().withHost(r.OPEN_BACKEND_HOST).withPath("/artists/"+t).withoutMarket().send()}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.containsTrack=t.removeTrack=t.saveTrack=t.getArtists=t.getAlbums=t.getTracks=void 0;var i=n(28),o=n(13),a=r(o);t.getTracks=function(e,t){return e.build().withHost(i.API_HOST).withPath("/me/tracks").withQueryParameters(t).send()},t.getAlbums=function(e,t){return e.build().withHost(i.API_HOST).withPath("/me/albums").withQueryParameters(t).send()},t.getArtists=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.type="artist",e.build().withHost(i.API_HOST).withPath("/me/following").withQueryParameters(t).send()},t.saveTrack=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=a.default.from(t);if(r.type!==a.default.Type.TRACK)throw Error("saveTrack will only save track URI's, got '"+t+"'");var o=r._base62Id;if(!o)throw Error("Spotify URI could not be parsed, got '"+t);return e.build().withHost(i.API_HOST).withPath("/me/tracks").withMethod("put").withQueryParameters(Object.assign({},{ids:o},n)).withoutMarket().send()},t.removeTrack=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=a.default.from(t);if(r.type!==a.default.Type.TRACK)throw Error("removeTrack will only remove track URI's, got '"+t+"'");var o=r._base62Id;if(!o)throw Error("Spotify URI could not be parsed, got '"+t);return e.build().withHost(i.API_HOST).withPath("/me/tracks").withMethod("delete").withQueryParameters(Object.assign({},{ids:o},n)).withoutMarket().send()},t.containsTrack=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(!t)throw Error("No URI specified for containsTrack, got '"+t+"'");var r=a.default.from(t);if(r.type!==a.default.Type.TRACK)return Promise.reject();var o=r._base62Id;if(!o)throw Error("Spotify URI could not be parsed, got '"+t);return e.build().withHost(i.API_HOST).withPath("/me/tracks/contains").withMethod("get").withQueryParameters(Object.assign({},{ids:o},n)).send().then(function(e){return e.body[0]})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getConnectDevices=void 0;var r=n(28);t.getConnectDevices=function(e){return e.build().withHost(r.API_HOST).withPath("/me/player/devices").send()}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.removeAlbum=t.saveAlbum=t.isAlbumSaved=t.unfollowArtist=t.followArtist=t.isFollowingArtist=t.unfollowPlaylist=t.followPlaylist=t.isFollowingPlaylist=void 0;var i=n(28),o=n(13),a=r(o);t.isFollowingPlaylist=function(e,t,n){var r=a.default.from(t);return e.build().withHost(i.API_HOST).withPath("/users/"+encodeURIComponent(r.username)+"/playlists/"+a.default.hexToId(r.id)+"/followers/contains?ids="+n).withoutMarket().send()},t.followPlaylist=function(e,t){var n=a.default.from(t);return e.build().withMethod("PUT").withHost(i.API_HOST).withPath("/users/"+encodeURIComponent(n.username)+"/playlists/"+a.default.hexToId(n.id)+"/followers").withoutMarket().withBody({public:!1}).send()},t.unfollowPlaylist=function(e,t){var n=a.default.from(t);return e.build().withMethod("DELETE").withHost(i.API_HOST).withPath("/users/"+encodeURIComponent(n.username)+"/playlists/"+a.default.hexToId(n.id)+"/followers").withoutMarket().send()},t.isFollowingArtist=function(e,t){var n=a.default.from(t);return e.build().withHost(i.API_HOST).withPath("/me/following/contains?type=artist&ids="+a.default.hexToId(n.id)).withoutMarket().send()},t.followArtist=function(e,t){var n=a.default.from(t);return e.build().withMethod("PUT").withHost(i.API_HOST).withPath("/me/following?type=artist&ids="+a.default.hexToId(n.id)).withoutMarket().send()},t.unfollowArtist=function(e,t){var n=a.default.from(t);return e.build().withMethod("DELETE").withHost(i.API_HOST).withPath("/me/following?type=artist&ids="+a.default.hexToId(n.id)).withoutMarket().send()},t.isAlbumSaved=function(e,t){var n=a.default.from(t);return e.build().withHost(i.API_HOST).withPath("/me/albums/contains?ids="+a.default.hexToId(n.id)).withoutMarket().send()},t.saveAlbum=function(e,t){var n=a.default.from(t);return e.build().withMethod("PUT").withHost(i.API_HOST).withPath("/me/albums?ids="+a.default.hexToId(n.id)).withoutMarket().send()},t.removeAlbum=function(e,t){var n=a.default.from(t);return e.build().withMethod("DELETE").withHost(i.API_HOST).withPath("/me/albums?ids="+a.default.hexToId(n.id)).withoutMarket().send()}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.getGeneric=function(e,t){return e.build().withHost(t).withoutMarket().send()}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0}),t.isPlaylistPublished=t.setPlaylistPrivate=t.setPlaylistPublic=t.removeFromPlaylist=t.addToPlaylist=t.createPlaylist=t.getPlaylist=void 0;var i=n(28),o=n(13),a=r(o);t.getPlaylist=function(e,t,n){return e.build().withHost(i.API_HOST).withPath("/users/"+encodeURIComponent(t)+"/playlists/"+n).send()},t.createPlaylist=function(e,t,n){return e.build().withMethod("POST").withHost(i.API_HOST).withPath("/users/"+encodeURIComponent(t)+"/playlists").withoutMarket().withJsonContentType().withBody({name:n,public:!0}).send()},t.addToPlaylist=function(e,t,n,r){var o=a.default.hexToId(a.default.from(n).id);return e.build().withMethod("POST").withHost(i.API_HOST).withPath("/users/"+encodeURIComponent(t)+"/playlists/"+o+"/tracks").withBody({uris:r}).withoutMarket().send()},t.removeFromPlaylist=function(e,t,n,r,o){var s=a.default.hexToId(a.default.from(n).id);return e.build().withMethod("DELETE").withHost(i.API_HOST).withPath("/users/"+encodeURIComponent(t)+"/playlists/"+s+"/tracks").withJsonContentType().withBody({tracks:[{positions:[o],uri:r}]}).withoutMarket().send()},t.setPlaylistPublic=function(e,t,n){
var r=a.default.hexToId(a.default.from(n).id);return e.build().withMethod("PUT").withHost(i.API_HOST).withPath("/users/"+encodeURIComponent(t)+"/playlists/"+r).withJsonContentType().withBody({public:!0}).withoutMarket().send()},t.setPlaylistPrivate=function(e,t,n){var r=a.default.hexToId(a.default.from(n).id);return e.build().withMethod("PUT").withHost(i.API_HOST).withPath("/users/"+encodeURIComponent(t)+"/playlists/"+r).withJsonContentType().withBody({public:!1}).withoutMarket().send()},t.isPlaylistPublished=function(e,t,n){var r=a.default.hexToId(a.default.from(n).id);return e.build().withMethod("GET").withHost(i.API_HOST).withPath("/users/"+encodeURIComponent(t)+"/playlists/"+r+"?fields=public").withoutMarket().send()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.banRadioArtist=t.banRadioTrack=t.likeRadioTrack=t.getStationDetails=t.getRadioStations=void 0;var r=n(28);t.getRadioStations=function(e){return e.build().withHost(r.RADIO_HOST).withPath("/clusters").withQueryParameters({salt:(new Date).getDate(),image_style:"gradient_overlay"}).send()},t.getStationDetails=function(e,t,n){return e.build().withHost(r.RADIO_HOST).withPath("/stations/spotify:station:user:"+n+":cluster:"+t).withQueryParameters({salt:(new Date).getDate(),count:20,image_style:"gradient_overlay"}).send()},t.likeRadioTrack=function(e,t,n){return e.build().withMethod("POST").withHost(r.RADIO_HOST).withPath("/mixes/like/song/"+n+"/"+t).send()},t.banRadioTrack=function(e,t,n){return e.build().withMethod("POST").withHost(r.RADIO_HOST).withPath("/mixes/ban/song/"+n+"/"+t).send()},t.banRadioArtist=function(e,t,n){return e.build().withMethod("POST").withHost(r.RADIO_HOST).withPath("/mixes/ban/artist/"+n+"/"+t).send()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.searchPlaylists=t.searchTracks=t.searchArtists=t.searchAlbums=t.search=void 0;var r=n(28),i=t.search=function(e,t,n,i){return e.build().withHost(r.API_HOST).withPath("/search").withQueryParameters(Object.assign({},{type:n.join(","),q:t,decorate_restrictions:"true",best_match:"true"},i)).send()};t.searchAlbums=function(e,t,n){return i(e,t,["album"],n)},t.searchArtists=function(e,t,n){return i(e,t,["artist"],n)},t.searchTracks=function(e,t,n){return i(e,t,["track"],n)},t.searchPlaylists=function(e,t,n){return i(e,t,["playlist"],n)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getEpisode=t.getShow=void 0;var r=n(28);t.getShow=function(e,t){return e.build().withHost(r.API_HOST).withPath("/shows/"+t).send()},t.getEpisode=function(e,t){return e.build().withHost(r.API_HOST).withPath("/episodes/"+t).send()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getTrack=void 0;var r=n(28);t.getTrack=function(e,t){return e.build().withHost(r.API_HOST).withPath("/tracks/"+t).send()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getProductState=t.getMe=t.getCurrentUserPlaylists=t.getUserPlaylists=t.getUser=void 0;var r=n(28);t.getUser=function(e,t){return e.build().withHost(r.API_HOST).withPath("/users/"+encodeURIComponent(t)).withoutMarket().send()},t.getUserPlaylists=function(e,t,n){return e.build().withHost(r.API_HOST).withPath("/users/"+encodeURIComponent(t)+"/playlists").withQueryParameters(n).send()},t.getCurrentUserPlaylists=function(e,t){return e.build().withHost(r.API_HOST).withPath("/me/playlists").withQueryParameters(t).send()},t.getMe=function(e){return e.build().withHost(r.API_HOST).withPath("/me").withoutMarket().send()},t.getProductState=function(e){return e.build().withHost(r.MELODY_HOST).withPath("/product_state").send()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getView=void 0;var r=n(28),i="web",o=12,a=10;t.getView=function(e,t,n){return e.build().withHost(r.API_HOST).withPath("/views/"+encodeURIComponent(t)).withQueryParameters(Object.assign({},n,{timestamp:(new Date).toISOString(),platform:i,content_limit:o,limit:a,types:"album,playlist,artist,show"})).withLocale().send()}},function(e,t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(t,r){return n(this,e),this.method=t,this.url=r,this.postData=null,this.queryParameters=null,this._headers=[],this}return r(e,[{key:"withQueryParameters",value:function(e){this.queryParameters=e}},{key:"withPostData",value:function(e){this.postData=e}},{key:"addHeader",value:function(e,t){return this._headers.push([e,t]),this}},{key:"_buildQueryString",value:function(){var e=this;return this.queryParameters?Object.keys(this.queryParameters).reduce(function(t,n){var r=encodeURIComponent(n),i=encodeURIComponent(e.queryParameters[n]),o=""===t?"?":"&";return""+t+o+r+"="+i},""):""}},{key:"send",value:function(){var e=this,t=new XMLHttpRequest;return t.open(this.method,""+this.url+this._buildQueryString()),t.timeout=6e3,this._headers.forEach(function(e){t.setRequestHeader(e[0],e[1])}),new Promise(function(n,r){t.onreadystatechange=function(){if(4===t.readyState)if(t.status>=200&&t.status<300){var e=null;try{e=t.responseText?JSON.parse(t.responseText):""}catch(e){return void r(e)}n({body:e})}else r(t)},"GET"===e.method?t.send(null):t.send(e.postData?JSON.stringify(e.postData):null)})}}]),e}();t.default=i},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=n(159),s=r(a),u=function(){function e(t){i(this,e),this._accessToken=null,this._market=null,this._locale=null,this._RequestImplementation=t||s.default,this.pendingRequests=new Set}return o(e,[{key:"resetPendingRequests",value:function(){this.pendingRequests=new Set}},{key:"build",value:function(){var e=new this._RequestImplementation(this.pendingRequests);return e.accessToken=this._accessToken,e.market=this.market,e.locale=this.locale,e}},{key:"accessToken",set:function(e){this._accessToken=e}},{key:"market",get:function(){return this._market},set:function(e){this._market=e}},{key:"locale",get:function(){return this._locale},set:function(e){this._locale=e}}]),e}();t.default=u},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n(34),a=n(103),s="sp_web_player_state",u=400,l=700,c=function(){function e(t,n){r(this,e),this.authenticationUrl=n,this.store=t}return i(e,[{key:"show",value:function(){var e=this,t=null;(0,a.createCookie)({name:s,value:this._generateRandomString(16),days:.04,secure:"https:"===location.protocol});var n=""+this.authenticationUrl,r=this,i=setInterval(function(){t&&t.closed&&(clearInterval(i),(0,a.deleteCookie)(s),r.store.dispatch((0,o.loginFailure)("access_denied")))},1e3),c=function(n){if("string"==typeof n.data)try{if(n.data.length&&"{"!==n.data[0]&&"["!==n.data[0])return;var r=JSON.parse(n.data);"token"===r.type&&((0,a.deleteCookie)(s),clearInterval(i),t&&(t.close(),t=null),r.success?e.store.dispatch((0,o.loginCredentialsObtained)({accessToken:r.access_token,expiresIn:r.expires_in})):e.store.dispatch((0,o.loginFailure)(r.message)))}catch(e){}};window.addEventListener("message",c,!1);var p=screen.width/2-u/2,f=screen.height/2-l/2;t=window.open(n,"Spotify","menubar=no,location=no,resizable=no,scrollbars=yes,status=no,width="+u+",height="+l+",top="+f+",left="+p)}},{key:"_generateRandomString",value:function(e){for(var t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=0;r<e;r++)t+=n.charAt(Math.floor(Math.random()*n.length));return t}}]),e}();t.default=c},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function o(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l.feedbackTypes.INFO,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:2500;g&&clearTimeout(g),e.dispatch(l.showFeedback(t,n,r)),g=setTimeout(function(){return e.dispatch(l.closeFeedback())},i)}Object.defineProperty(t,"__esModule",{value:!0});var a=n(16),s=i(a),u=n(93),l=i(u),c=n(8),p=i(c),f=n(5),d=i(f),h=n(7),y=i(h),_=n(2),m=n(13),v=r(m),g=null;t.default=function(e){return function(t){return function(n){var r=t(n);if(n.err&&"DUPLICATE_REQUEST_ERROR"===n.err.name)return null;switch(n.type){case s.types.SAVE_TRACK_SUCCESS:o(e,(0,_._)("feedback.saved-to-your-music"));break;case s.types.REMOVE_TRACK_SUCCESS:o(e,(0,_._)("feedback.removed-from-your-music"));break;case s.types.ADD_TO_PLAYLIST_SUCCESS:var i=v.default.from(n.uri);i.type===v.default.Type.TRACK?o(e,(0,_._)("feedback.track-added")):i.type===v.default.Type.ALBUM&&o(e,(0,_._)("feedback.album-added"));break;case s.types.LIKE_RADIO_TRACK_SUCCESS:o(e,(0,_._)("feedback.radio-track-liked"));break;case s.types.BAN_RADIO_CONTEXT_SUCCESS:o(e,(0,_._)("feedback.radio-context-banned"));break;case p.types.COPY_LINK_SUCCESS:o(e,(0,_._)("feedback.link-copied"));break;case d.types.REQUEST_ALBUM_FAILURE:o(e,(0,_._)("error.request-album-failure"),l.feedbackTypes.ERROR,!1,1e4);break;case d.types.REQUEST_ALBUM_TRACKS_FAILURE:o(e,(0,_._)("error.request-album-tracks-failure"),l.feedbackTypes.ERROR,!1,1e4);break;case d.types.REQUEST_ARTIST_ALBUMS_FAILURE:o(e,(0,_._)("error.request-artist-albums-failure"),l.feedbackTypes.ERROR,!1,1e4);break;case d.types.REQUEST_ARTIST_FAILURE:o(e,(0,_._)("error.request-artist-failure"),l.feedbackTypes.ERROR,!1,1e4);break;case d.types.REQUEST_COLLECTION_ARTISTS_FAILURE:o(e,(0,_._)("error.request-collection-artists-failure"),l.feedbackTypes.ERROR,!1,1e4);break;case d.types.REQUEST_COLLECTION_ALBUMS_FAILURE:o(e,(0,_._)("error.request-collection-albums-failure"),l.feedbackTypes.ERROR,!1,1e4);break;case d.types.REQUEST_COLLECTION_TRACKS_FAILURE:o(e,(0,_._)("error.request-collection-tracks-failure"),l.feedbackTypes.ERROR,!1,1e4);break;case d.types.REQUEST_CURRENT_USER_PLAYLISTS_FAILURE:o(e,(0,_._)("error.request-current-user-playlists-failure"),l.feedbackTypes.ERROR,1e4);break;case d.types.REQUEST_USER_PLAYLISTS_FAILURE:o(e,(0,_._)("error.request-user-playlists-failure"),l.feedbackTypes.ERROR,!1,1e4);break;case d.types.REQUEST_BROWSE_CATEGORIES_FAILURE:o(e,(0,_._)("error.request-browse-categories-failure"),l.feedbackTypes.ERROR,!1,1e4);break;case d.types.REQUEST_PLAYLIST_FAILURE:o(e,(0,_._)("error.request-playlist-failure"),l.feedbackTypes.ERROR,!1,1e4);break;case y.types.PLAYBACK_ERROR:o(e,(0,_._)("error.playback"),l.feedbackTypes.ERROR,!1,1e4);break;case y.types.TRACK_UNAVAILBLE_ERROR:o(e,(0,_._)("error.unavailable-track"),l.feedbackTypes.NOTICE,!1,1e4);break;case y.types.HARMONY_ERROR:case d.types.REQUEST_VIEW_FAILURE:o(e,(0,_._)("error.generic"),l.feedbackTypes.ERROR,!1,1e4);break;case y.types.PLAYBACK_CAPPED_ERROR:o(e,(0,_._)("error.playback-capped",{open_link_tag:'<a href="https://spotify.com/purchase/panel" target="_blank">',close_link_tag:"</a>"}),l.feedbackTypes.NOTICE,!0,1e4)}return r}}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var o,a=n(16),s=n(8),u=n(51),l=n(5),c=n(34),p=n(7),f=n(158),d=n(157),h=n(79),y=n(55),_=r(y),m=n(72),v=function(e,t){return(0,f.logEvent)("action",e,t)},g=function(e,t){return(0,f.logEvent)("play",e,t)},b=(o={},i(o,a.types.SAVE_TRACK,function(e){return v(e.type,e.uri)}),i(o,a.types.REMOVE_TRACK,function(e){return v(e.type,e.uri)}),i(o,a.types.FOLLOW_PLAYLIST,function(e){return v(e.type,e.uri)}),i(o,a.types.UNFOLLOW_PLAYLIST,function(e){return v(e.type,e.uri)}),i(o,a.types.CREATE_PLAYLIST,function(e){return v(e.type)}),i(o,a.types.CREATE_PLAYLIST_FAILURE,function(e){return v(e.type,"Name '"+e.name+"': "+e.err)}),i(o,a.types.ADD_TO_PLAYLIST,function(e){return v(e.type)}),i(o,a.types.ADD_TO_PLAYLIST_FAILURE,function(e){return v(e.type,e.trackUri+" -> "+e.playlist+": "+e.err)}),i(o,a.types.REMOVE_FROM_PLAYLIST,function(e){return v(e.type)}),i(o,a.types.FOLLOW_ARTIST,function(e){return v(e.type,e.uri)}),i(o,a.types.UNFOLLOW_ARTIST,function(e){return v(e.type,e.uri)}),i(o,s.types.COPY_LINK_SUCCESS,function(e){return v(e.type)}),i(o,s.types.OPEN_NEW_PLAYLIST_DIALOG,function(e){return v(e.type)}),i(o,s.types.CLOSE_NEW_PLAYLIST_DIALOG,function(e){return v(e.type)}),i(o,s.types.OPEN_ADD_TO_PLAYLIST_DIALOG,function(e){return v(e.type)}),i(o,s.types.CLOSE_ADD_TO_PLAYLIST_DIALOG,function(e){return v(e.type)}),i(o,s.types.SWITCH_TO_NEW_PLAYLIST_DIALOG,function(e){return v(e.type)}),i(o,u.types.LOG_EXTERNAL_LINK,function(e){return v(e.type,e.href)}),i(o,u.types.LOG_PLAY,function(e){return g(e.contextURI,e.index)}),i(o,u.types.LOG_HARMONY_LOGIN,function(e){return h.Logs.logLogin(_.default.getInstance(),e.username)}),i(o,u.types.LOG_AD_EVENT,function(e){return(0,d.logAdEvent)(_.default.getInstance(),e.message)}),i(o,l.types.REQUEST_SEARCH,function(e){return v(e.type,e.query)}),i(o,c.types.LOGOUT_REQUEST,function(e){return v(e.type)}),i(o,c.types.ACCESS_TOKEN_UPDATE_SUCCESS,function(e){e.authData.expiresIn||(0,f.logError)(e.type,"Wrong expiresIn",JSON.stringify(e.authData))}),i(o,c.types.LOGIN_CREDENTIALS_OBTAINED,function(e){e.authData.expiresIn||(0,f.logError)(e.type,"Wrong expiresIn",JSON.stringify(e.authData))}),i(o,p.types.START_RADIO,function(e){return v(e.type,e.uri)}),i(o,p.types.HARMONY_ERROR,function(e){return(0,f.logError)(e.name,e.source,e.message)}),i(o,p.types.PLAYBACK_ERROR,function(e){return(0,f.logPlaybackError)(e.name,e.source,e.message)}),i(o,p.types.TRACK_UNAVAILBLE_ERROR,function(e){return(0,f.logPlaybackError)("Unavailable track",e.uri,"")}),o);t.default=function(){return function(e){return function(t){var n=e(t);return t.type in b&&b[t.type](t),t.type===m.LOCATION_CHANGE&&(0,f.logPageView)(t.payload.pathname),n}}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0});var o=n(7),a=i(o),s=n(51),u=i(s),l=n(5),c=i(l),p=n(34),f=n(94),d=i(f),h=n(104),y=r(h),_=n(17),m=n(611),v=r(m),g="@local",b=void 0,E=void 0,S=!1,T=!1,w=void 0,C=["playeriniterror","registrationerror"],O=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments[2];if(!b)throw new Error("Controller is not initialized");if(T){var r=n.getState(),i={shuffle:r.playback&&r.playback.player&&r.playback.player.shuffle,repeatMode:r.playback&&r.playback.player&&r.playback.player.repeatMode,index:t>0?t:0};b.playURI(e,E||g,i),w=null,b.once("state_changed",function(t){null===t.state&&n.dispatch(a.trackUnavailableError(e))})}else w={uri:e,index:t}},k=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments[3];if(!b)throw new Error("Controller is not initialized");if(T){var i=r.getState();b.playTracks(e,E||g,{index:n>=0?n:0,shuffle:i.playback&&i.playback.player&&i.playback.player.shuffle,repeatMode:i.playback&&i.playback.player&&i.playback.player.repeatMode,contextURI:t}),w=null}else w={tracks:e,index:n,contextURI:t}},R=function(e){b&&b.getDevices().then(function(t){e.dispatch(c.requestConnectDevicesSuccess({devices:t}))}).catch(function(t){e.dispatch(c.requestConnectDevicesFailure(t))})},P=function(e){if(window.Raven){var t=e.error.message||e.error.error&&e.error.error.message||"";window.Raven.captureMessage(e.name||e.error.name,{level:"error",logger:"PlaybackMiddleware",extra:{name:e.name,source:e.source,message:t}})}},I=function(e){var t=v.default.create({client:{getToken:function(t){e.getState().session.expiresIn<=(new Date).getTime()&&e.dispatch((0,p.tokenRequest)()),t([e.getState().session.accessToken,e.getState().session.expiresIn])},endpoints:{webgate:"https://spclient.wg.spotify.com/"},descriptor:{id:null,randomizeId:!0,name:"Spotify Web Player",brand:"spotify",model:"web_player"}},controller:{decorateTrackWindow:!0},onlyLocalState:!1,disconnectBeforeUnload:!0});return t.on("playback_capped",function(){e.dispatch(a.playbackCappedError())}),t.addListeners({error:function(t){var n=t.error.message||t.error.error&&t.error.error.message||"";if(C.indexOf(t.name&&t.name.toLowerCase())!==-1){if(t.source&&"listplayer"===t.source)return void e.dispatch(a.playbackError(t.name,t.source,n));e.dispatch(a.harmonyError(t.name,t.source,n)),P(t)}}}),t.on("unrecoverable_failure",function(t){var n=t.error.message||t.error.error&&t.error.error.message||"";e.dispatch(a.harmonyError(t.name,t.source,n)),P(t)}),t.on("player_initialization_failed",function(t){P(t),"EMEError"===t.error.name&&e.dispatch(a.cdmError())}),t.on("max_subscriptions_reached",function(e){P(e)}),t.on("product_state_changed",function(){}),t.on("state_changed",function(t){e.dispatch(a.statusUpdate(t.state))}),t.on("device_info_changed",function(t){S=t.deviceInfo.local,e.dispatch(a.deviceInfoChanged(t.deviceInfo))}),t.on("progress",function(e){y.default.setPosition(e.position)}),t.on("authenticated",function(){t.getUserInfo().then(function(t){e.dispatch(u.logHarmonyLogin(t.id))}),T=!0;var n=e.getState().routing.locationBeforeTransitions,r=!1;if(n&&(r=void 0!==n.query.play)){var i=n.pathname.replace(/\//g,":"),o="spotify"+i;w={uri:o,index:0}}t.getCurrentState().then(function(){return t.getActiveDevice()}).then(function(n){E=n.is_active?n.id:g,w?w.uri?O(w.uri,w.index,e):k(w.tracks,w.contextURI,w.index,e):n.is_active||t.transfer(g,{paused:!0})})}),t.connect(),t},A=function(e,t){var n=void 0;return t.entities.all&&t.entities.all.has(e)&&(n=t.entities.all.get(e)),n?{uri:n.uri,name:n.name}:null};t.default=function(e){return function(t){return function(n){var r=t(n),i=e.getState(),o=i.session;E=i.playback&&i.playback.device&&i.playback.player&&i.playback.device.id;var s=null;switch(n.type){case p.types.LOAD:case p.types.LOGIN_SUCCESS:!b&&o.accessToken&&(b=I(e),e.dispatch(c.requestConnectDevices()));break;case p.types.LOGOUT_REQUEST:b&&b.disconnect();break;case a.types.PLAY_PLAYLIST:case a.types.PLAY_ALBUM:case a.types.PLAY_ARTIST:case a.types.PLAY_CONTEXT:case a.types.START_RADIO:case a.types.PLAY_SHOW:var l=n.uri;if(s=i.playback&&i.playback.player&&i.playback.player.context.uri,l===s)e.dispatch(a.togglePlay());else{O(l,void 0,e),e.dispatch(u.logPlay(l));var f=A(l,i);f&&e.dispatch(d.storeContext(f.name,f.uri))}break;case a.types.PLAY_TRACK:O(n.contextURI,n.index,e),e.dispatch(u.logPlay(n.contextURI,n.index));var h=A(n.contextURI,i);h&&e.dispatch(d.storeContext(h.name,h.uri));break;case a.types.PLAY_TRACKS:var y=n.contextURI,m=(0,_.extractBasicPlaybackData)(i),v=m.trackURI;if(s=m.contextURI,y===s&&n.tracks[n.index]===v)e.dispatch(a.togglePlay());else{k(n.tracks,n.contextURI,n.index,e),e.dispatch(u.logPlay(n.contextURI,n.index));var g=A(n.contextURI,i);g&&e.dispatch(d.storeContext(g.name,g.uri))}break;case a.types.STATUS_UPDATE:if(!S){var T=n.playerState&&n.playerState.context&&n.playerState.context.metadata&&n.playerState.context.metadata.name,w=n.playerState&&n.playerState.context&&n.playerState.context&&n.playerState.context.uri;if(T&&w){var C=A(w,i);C&&e.dispatch(d.storeContext(C.name,C.uri))}}break;case a.types.TOGGLE_PLAY:b.togglePlay();break;case a.types.PREVIOUS:b.previousTrack();break;case a.types.NEXT:b.nextTrack();break;case a.types.SET_SHUFFLE:b.setShuffle(n.shuffle);break;case a.types.SET_REPEAT:b.setRepeatMode(n.repeat);break;case a.types.SEEK:b.seek(n.position);break;case a.types.SET_VOLUME:b.setVolume(n.volume);break;case a.types.SET_ACTIVE_DEVICE:b.transfer(n.id);break;case c.types.REQUEST_CONNECT_DEVICES:R(e)}return r}}}},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(55),a=i(o),s=n(5),u=r(s),l=n(13),c=i(l),p=n(79),f=r(p),d=n(54),h=new Set,y=50,_=288e5,m=function(e){return e&&"DUPLICATE_REQUEST_ERROR"===e.name},v=function(e,t){f.Show.getShow(a.default.getInstance(),t).then(function(t){e.dispatch(u.requestShowSuccess(t.body))}).catch(function(t){m(t)||e.dispatch(u.requestShowFailure(t))})},g=function(e,t){var n="spotify:show:"+t,r=e.getState().entities;if(r.all.has(n)){var i=r.all.get(n).episodes.next;i&&f.Generic.getGeneric(a.default.getInstance(),i).then(function(n){e.dispatch(u.requestShowMoreSuccess(t,n.body))}).catch(function(e){m(e)})}},b=function(e,t,n){var r=e.getState().entities,i="spotify:station:user:"+n+":cluster:"+t;if(r.all.has(i)){var o=r.all.get(i);if(o.lastUpdated&&(new Date).getTime()-o.lastUpdated<=_)return}f.Radio.getStationDetails(a.default.getInstance(),t,n).then(function(t){e.dispatch(u.requestStationDetailsSuccess(t.body))}).catch(function(t){m(t)||e.dispatch(u.requestStationDetailsFailure(t))})},E=function(e){f.Radio.getRadioStations(a.default.getInstance()).then(function(t){e.dispatch(u.requestRadioSuccess(t.body))}).catch(function(t){m(t)||e.dispatch(u.requestRadioFailure(t))})},S=function(e,t,n){f.Views.getView(a.default.getInstance(),t,{country:n}).then(function(n){e.dispatch(u.requestViewSuccess(t,n.body))}).catch(function(n){m(n)||e.dispatch(u.requestViewFailure(t,n))})},T=function(e,t){var n=e.getState().entities;if(n.views.has(t)){var r=n.views.get(t).content.next;r&&f.Generic.getGeneric(a.default.getInstance(),r).then(function(n){e.dispatch(u.requestViewMoreSuccess(t,n.body))}).catch(function(e){m(e)})}},w=function(e,t){var n=e.getState().entities;if(!n.search.has(t)){var r=!1;if(t.length>1){var i=t.split(" "),o=i[i.length-1];/^[a-z0-9\s]+$/i.test(o)&&t.lastIndexOf("*")!==t.length-1&&(r=!0)}var s=""+t+(r?"*":"");f.Search.search(a.default.getInstance(),s,["album","artist","playlist","track"],{limit:y}).then(function(n){e.dispatch(u.requestSearchSuccess(t,n.body))}).catch(function(t){m(t)||e.dispatch(u.requestSearchFailure(t))})}},C=function(e,t){var n=e.getState().entities;if(n.search.has(t)){var r=n.search.get(t).tracks.next;r&&f.Generic.getGeneric(a.default.getInstance(),r).then(function(n){e.dispatch(u.requestSearchTracksMoreSuccess(t,n.body))}).catch(function(e){m(e)})}},O=function(e,t){var n=e.getState().entities;if(n.search.has(t)){var r=n.search.get(t).albums.next;r&&f.Generic.getGeneric(a.default.getInstance(),r).then(function(n){e.dispatch(u.requestSearchAlbumsMoreSuccess(t,n.body))}).catch(function(e){m(e)})}},k=function(e,t){var n=e.getState().entities;if(n.search.has(t)){var r=n.search.get(t).artists.next;r&&f.Generic.getGeneric(a.default.getInstance(),r).then(function(n){e.dispatch(u.requestSearchArtistsMoreSuccess(t,n.body))}).catch(function(e){m(e)})}},R=function(e,t){var n=e.getState().entities;if(n.search.has(t)){var r=n.search.get(t).playlists.next;r&&f.Generic.getGeneric(a.default.getInstance(),r).then(function(n){e.dispatch(u.requestSearchPlaylistsMoreSuccess(t,n.body))}).catch(function(e){m(e)})}},P=function(e,t){var n=e.getState();if(n.entities.all.has(t)){var r=n.entities.all.get(t);f.Artist.getArtistMetadata(a.default.getInstance(),r.id).then(function(n){return e.dispatch(u.requestArtistMetadataSuccess(t,n.body))}).catch(function(t){m(t)||e.dispatch(u.requestArtistMetadataFailure(t))})}},I=function(e,t){e.dispatch(u.requestArtistMetadata(t)),e.dispatch(u.requestArtistTopTracks(t)),e.dispatch(u.requestArtistRelatedArtists(t)),e.dispatch(u.requestArtistAlbums(t))},A=function(e,t){var n=e.getState().entities;if(!n.tracks.has(t)){var r=c.default.hexToId(c.default.from(t).id);f.Track.getTrack(a.default.getInstance(),r).then(function(n){return e.dispatch(u.requestTrackSuccess(t,n.body))}).catch(function(n){m(n)||e.dispatch(u.requestTrackFailure(t,n))})}},L=function(e,t){var n=e.getState().entities;if(!n.tracks.has(t)){var r=c.default.hexToId(c.default.from(t).id);f.Show.getEpisode(a.default.getInstance(),r).then(function(n){return e.dispatch(u.requestEpisodeSuccess(t,n.body))}).catch(function(n){m(n)||e.dispatch(u.requestEpisodeFailure(t,n))})}},U=function(e,t){var n=e.getState().entities;if(!n.all.has(t)){var r=c.default.hexToId(c.default.from(t).id);f.Artist.getArtist(a.default.getInstance(),r).then(function(n){e.dispatch(u.requestArtistSuccess(t,n.body)),I(e,t)}).catch(function(e){m(e)})}},M=function(e,t){var n=e.getState().entities;if(n.all.has(t)){var r=n.all.get(t),i=e.getState().session.user;f.Artist.getArtistTopTracks(a.default.getInstance(),r.id,i.country).then(function(n){return e.dispatch(u.requestArtistTopTracksSuccess(t,n.body))}).catch(function(e){m(e)})}},x=function(e,t){var n=e.getState().entities;if(n.all.has(t)){var r=n.all.get(t);f.Artist.getArtistRelatedArtists(a.default.getInstance(),r.id).then(function(n){return e.dispatch(u.requestArtistRelatedArtistsSuccess(t,n.body))}).catch(function(e){m(e)})}},D=function(e,t){var n=e.getState().entities;if(n.all.has(t)){var r=n.all.get(t);if(r.albums){var i=r.albums.next;i&&!h.has(i)&&(h.add(i),f.Generic.getGeneric(a.default.getInstance(),i).then(function(n){h.delete(i),e.dispatch(u.requestArtistAlbumsSuccess(t,n.body))}).catch(function(n){m(n)||(h.delete(i),e.dispatch(u.requestArtistAlbumsFailure(t,n)))}))}else{var o="ARTIST_ALBUMS_"+r.id;if(!h.has(o)){h.add(o);var s=e.getState().session.user;f.Artist.getArtistAlbums(a.default.getInstance(),r.id,{limit:y,market:s.country,album_type:"album,single,compilation"}).then(function(n){h.delete(o),e.dispatch(u.requestArtistAlbumsSuccess(t,n.body))}).catch(function(n){m(n)||(h.delete(o),e.dispatch(u.requestArtistAlbumsFailure(t,n)))})}}}},N=function(e,t){var n=e.getState().entities;if(!n.all.has(t)||!(0,d.hasFullMetadata)(n.all.get(t))){var r=c.default.from(t);if(r.type!==c.default.Type.ALBUM)throw new Error("Invalid album uri");f.Album.getAlbum(a.default.getInstance(),c.default.hexToId(r.id)).then(function(n){e.dispatch(u.requestAlbumSuccess(t,n.body))}).catch(function(n){m(n)||e.dispatch(u.requestAlbumFailure(t,n))})}},j=function(e,t){var n=e.getState().entities;if(n.all.has(t)){var r=n.all.get(t),i=(0,d.hasFullMetadata)(r)&&r.tracks.next;i&&f.Generic.getGeneric(a.default.getInstance(),i).then(function(n){e.dispatch(u.requestAlbumTracksSuccess(t,n.body))}).catch(function(n){m(n)||e.dispatch(u.requestAlbumTracksFailure(t,n))})}},F=function(e,t){var n=e.getState().entities;if(!n.all.has(t)||!(0,d.hasFullMetadata)(n.all.get(t))){var r=c.default.from(t);if(r.type!==c.default.Type.PLAYLIST)throw new Error("Invalid playlist uri");var i=r.username,o=c.default.hexToId(r.id);f.Playlist.getPlaylist(a.default.getInstance(),i,o).then(function(n){e.dispatch(u.requestPlaylistSuccess(t,n.body))}).catch(function(n){m(n)||e.dispatch(u.requestPlaylistFailure(t,n))})}},B=function(e,t){var n=e.getState().entities.all;if(n.has(t)){var r=n.get(t).tracks.next;r&&!h.has(r)&&(h.add(r),f.Generic.getGeneric(a.default.getInstance(),r).then(function(n){h.delete(r),e.dispatch(u.requestPlaylistTracksSuccess(t,n.body))}).catch(function(n){m(n)||(h.delete(r),e.dispatch(u.requestPlaylistTracksFailure(t,n)))}))}},q=function(e,t){var n="USER_"+t;if(!h.has(n)&&!e.getState().entities.all.has(t)){h.add(n);var r=c.default.from(t).username;f.User.getUser(a.default.getInstance(),r).then(function(r){var i=r.body;h.delete(n),e.dispatch(u.requestUserSuccess(t,i))}).catch(function(r){m(r)||(h.delete(n),e.dispatch(u.requestUserFailure(t,r)))})}},H=function(e,t){var n=c.default.from(t).username,r="USER_PLAYLISTS_"+n;h.has(r)||(h.add(r),f.User.getUserPlaylists(a.default.getInstance(),n,{limit:y}).then(function(n){var i=n.body;h.delete(r),e.dispatch(u.requestUserPlaylistsSuccess(t,i))}).catch(function(n){m(n)||(h.delete(r),e.dispatch(u.requestUserPlaylistsFailure(t,n)))}))},V=function(e,t){var n=e.getState().entities.all.get(t);if(n&&n.playlists){var r=n.playlists.next;r&&!h.has(r)&&(h.add(r),f.Generic.getGeneric(a.default.getInstance(),r).then(function(n){var i=n.body;h.delete(r),e.dispatch(u.requestUserPlaylistsMoreSuccess(t,i))}).catch(function(n){m(n)||(h.delete(r),e.dispatch(u.requestUserPlaylistsMoreFailure(t,n)))}))}},W=function(e,t){var n=new Set;t.items.forEach(function(e){var t=e.owner;n.add(t.uri)});var r=Array.from(n).map(function(e){return f.User.getUser(a.default.getInstance(),c.default.from(e).username).catch(function(){return null})});return Promise.all(r).then(function(t){t.forEach(function(t){null!==t&&e.dispatch(u.requestUserSuccess(t.body.uri,t.body))})}).catch(function(){})},K=function(e){f.User.getCurrentUserPlaylists(a.default.getInstance(),{limit:y}).then(function(t){return W(e,t.body).then(function(){e.dispatch(u.requestCurrentUserPlaylistsSuccess(t.body))})}).catch(function(t){m(t)||e.dispatch(u.requestCurrentUserPlaylistsFailure(t))})},Q=function(e){var t=e.getState().entities;if(t.collection.has("playlists")){var n=t.collection.get("playlists").next;n&&!h.has(n)&&(h.add(n),f.Generic.getGeneric(a.default.getInstance(),n).then(function(t){return h.delete(n),W(e,t.body).then(function(){e.dispatch(u.requestCurrentUserPlaylistsMoreSuccess(t.body))})}).catch(function(e){m(e)}))}},Y=function(e){var t=e.getState().entities;(!t.collection.get("tracks").items||t.collection.get("tracks").items&&0===t.collection.get("tracks").items.length)&&f.Collection.getTracks(a.default.getInstance(),{limit:y}).then(function(t){e.dispatch(u.requestCollectionTracksSuccess(t.body))}).catch(function(t){m(t)||e.dispatch(u.requestCollectionTracksFailure(t))})},z=function(e){var t=e.getState().entities;if(t.collection.has("tracks")){var n=t.collection.get("tracks").next;n&&f.Generic.getGeneric(a.default.getInstance(),n).then(function(t){e.dispatch(u.requestCollectionTracksMoreSuccess(t.body))}).catch(function(e){m(e)})}},G=function(e){var t=e.getState().entities;(!t.collection.get("albums").items||t.collection.get("albums").items&&0===t.collection.get("albums").items.length)&&f.Collection.getAlbums(a.default.getInstance(),{limit:y}).then(function(t){e.dispatch(u.requestCollectionAlbumsSuccess(t.body))}).catch(function(t){m(t)||e.dispatch(u.requestCollectionAlbumsFailure(t))})},X=function(e){var t=e.getState().entities;if(t.collection.has("albums")){var n=t.collection.get("albums").next;n&&f.Generic.getGeneric(a.default.getInstance(),n).then(function(t){e.dispatch(u.requestCollectionAlbumsMoreSuccess(t.body))}).catch(function(e){m(e)})}},J=function(e){var t=e.getState().entities;(!t.collection.get("artists").items||t.collection.get("artists").items&&0===t.collection.get("artists").items.length)&&f.Collection.getArtists(a.default.getInstance(),{limit:y}).then(function(t){e.dispatch(u.requestCollectionArtistsSuccess(t.body))}).catch(function(t){m(t)||e.dispatch(u.requestCollectionArtistsFailure(t))})},$=function(e){var t=e.getState().entities;if(t.collection.has("artists")){var n=t.collection.get("artists").next;n&&f.Generic.getGeneric(a.default.getInstance(),n).then(function(t){e.dispatch(u.requestCollectionArtistsMoreSuccess(t.body));
})}},Z=function(e,t){var n=e.getState().entities;n.collection.has("mapTrackSaved")&&n.collection.get("mapTrackSaved").has(t)||f.Collection.containsTrack(a.default.getInstance(),t).then(function(n){return e.dispatch(u.requestCollectionContainsTrackSuccess(t,n))}).catch(function(e){m(e)})},ee=function(e,t){var n=e.getState(),r=n.entities.follows;if(!r.has(t)){var i=n.session.user;f.Follow.isFollowingPlaylist(a.default.getInstance(),t,i.id).then(function(n){var r=n.body;return e.dispatch(u.requestIsFollowingPlaylistSuccess(t,r.shift()))}).catch(function(n){m(n)||e.dispatch(u.requestIsFollowingPlaylistFailure(t,n))})}},te=function(e,t){var n=e.getState(),r=n.entities.follows;r.has(t)||f.Follow.isFollowingArtist(a.default.getInstance(),t).then(function(n){var r=n.body;return e.dispatch(u.requestIsFollowingArtistSuccess(t,r.shift()))}).catch(function(n){m(n)||e.dispatch(u.requestIsFollowingArtistFailure(t,n))})},ne=function(e,t){f.Follow.isAlbumSaved(a.default.getInstance(),t).then(function(n){var r=n.body;return e.dispatch(u.requestIsAlbumSavedSuccess(t,r.shift()))}).catch(function(n){m(n)||e.dispatch(u.requestIsAlbumSavedFailure(t,n))})},re=function(e,t){var n=c.default.from(t).username;f.Playlist.isPlaylistPublished(a.default.getInstance(),n,t).then(function(n){var r=n.body;return e.dispatch(u.requestPlaylistPublishedStateSuccess(t,r.public))}).catch(function(n){return e.dispatch(u.requestPlaylistPublishedStateFailure(t,n))})};t.default=function(e){return function(t){return function(n){var r=t(n);switch(n.type){case u.types.REQUEST_SEARCH:w(e,n.query);break;case u.types.REQUEST_SEARCH_TRACKS_MORE:C(e,n.query);break;case u.types.REQUEST_SEARCH_ALBUMS_MORE:O(e,n.query);break;case u.types.REQUEST_SEARCH_ARTISTS_MORE:k(e,n.query);break;case u.types.REQUEST_SEARCH_PLAYLISTS_MORE:R(e,n.query);break;case u.types.REQUEST_ARTIST:U(e,n.uri);break;case u.types.REQUEST_ARTIST_COMPLEMENTARY_DATA:I(e,n.uri);break;case u.types.REQUEST_ARTIST_RELATED_ARTISTS:x(e,n.uri);break;case u.types.REQUEST_ARTIST_TOP_TRACKS:M(e,n.uri);break;case u.types.REQUEST_ARTIST_METADATA:P(e,n.uri);break;case u.types.REQUEST_ARTIST_ALBUMS:D(e,n.uri);break;case u.types.REQUEST_ALBUM:N(e,n.uri);break;case u.types.REQUEST_ALBUM_TRACKS:j(e,n.uri);break;case u.types.REQUEST_PLAYLIST:F(e,n.uri);break;case u.types.REQUEST_PLAYLIST_TRACKS:B(e,n.uri);break;case u.types.REQUEST_CURRENT_USER_PLAYLISTS:K(e);break;case u.types.REQUEST_CURRENT_USER_PLAYLISTS_MORE:Q(e);break;case u.types.REQUEST_COLLECTION_TRACKS:Y(e);break;case u.types.REQUEST_COLLECTION_TRACKS_MORE:z(e);break;case u.types.REQUEST_COLLECTION_ALBUMS:G(e);break;case u.types.REQUEST_COLLECTION_ALBUMS_MORE:X(e);break;case u.types.REQUEST_COLLECTION_ARTISTS:J(e);break;case u.types.REQUEST_COLLECTION_ARTISTS_MORE:$(e);break;case u.types.REQUEST_TRACK:A(e,n.uri);break;case u.types.REQUEST_EPISODE:L(e,n.uri);break;case u.types.REQUEST_USER:q(e,n.uri);break;case u.types.REQUEST_USER_PLAYLISTS:H(e,n.uri);break;case u.types.REQUEST_USER_PLAYLISTS_MORE:V(e,n.uri);break;case u.types.REQUEST_COLLECTION_CONTAINS_TRACK:Z(e,n.uri);break;case u.types.REQUEST_IS_FOLLOWING_PLAYLIST:ee(e,n.uri);break;case u.types.REQUEST_IS_FOLLOWING_ARTIST:te(e,n.uri);break;case u.types.REQUEST_IS_ALBUM_SAVED:ne(e,n.uri);break;case u.types.REQUEST_VIEW:S(e,n.id,n.country);break;case u.types.REQUEST_VIEW_MORE:T(e,n.id);break;case u.types.REQUEST_RADIO:E(e);break;case u.types.REQUEST_STATION_DETAILS:b(e,n.clusterId,n.userId);break;case u.types.REQUEST_PLAYLIST_PUBLISHED_STATE:re(e,n.uri);break;case u.types.REQUEST_SHOW:v(e,n.showId);break;case u.types.REQUEST_SHOW_MORE:g(e,n.showId)}return r}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(72),i=n(34);t.default=function(e){return function(t){return function(n){var o=t(n);switch(n.type){case i.types.LOGIN_SUCCESS:var a=e.getState().routing.locationBeforeTransitions;a&&a.state&&a.state.nextPathname?e.dispatch((0,r.replace)(a.state.nextPathname)):e.dispatch((0,r.replace)("/browse"));break;case i.types.LOGOUT_SUCCESS:window.location="https://play.spotify.com/logout"}return o}}}},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var a,s=n(55),u=i(s),l=n(16),c=r(l),p=n(8),f=r(p),d=n(5),h=n(7),y=r(h),_=n(79),m=r(_),v=n(72),g=n(13),b=i(g),E=n(334),S=function(e,t){var n=t.uri,r=t.contextURI,i=n.split(":"),o=i[i.length-1],a=r.split(":"),s=a[a.length-1];m.Radio.likeRadioTrack(u.default.getInstance(),o,s).then(function(){return e.dispatch(c.likeRadioTrackSuccess(n,r))}).catch(function(t){return e.dispatch(c.likeRadioTrackFailure(n,r,t))})},T=function(e,t){var n=t.uri,r=t.contextURI,i=n.split(":"),o=i[i.length-1],a=r.split(":"),s=a[a.length-1];b.default.fromString(n).type===b.default.Type.TRACK?m.Radio.banRadioTrack(u.default.getInstance(),o,s).then(function(){return e.dispatch(c.banRadioContextSuccess(n,r))}).then(function(){return e.dispatch(y.next())}).catch(function(t){return e.dispatch(c.banRadioContextFailure(n,r,t))}):b.default.fromString(n).type===b.default.Type.ARTIST&&m.Radio.banRadioArtist(u.default.getInstance(),o,s).then(function(){return e.dispatch(c.banRadioContextSuccess(n,r))}).catch(function(t){return e.dispatch(c.banRadioContextFailure(n,r,t))})},w=function(e,t){var n=t.uri;m.Collection.saveTrack(u.default.getInstance(),n).then(function(){e.dispatch(c.saveTrackSuccess(n)),e.dispatch((0,d.requestCollectionTracks)())}).catch(function(t){return e.dispatch(c.saveTrackFailure(n,t))})},C=function(e,t){var n=t.uri;m.Collection.removeTrack(u.default.getInstance(),n).then(function(){return e.dispatch(c.removeTrackSuccess(n))}).catch(function(t){return e.dispatch(c.removeTrackFailure(n,t))})},O=function(e,t){var n=t.uri;m.Follow.followPlaylist(u.default.getInstance(),n).then(function(){e.dispatch(c.followPlaylistSuccess(n)),e.dispatch((0,d.requestCurrentUserPlaylists)())}).catch(function(t){return e.dispatch(c.followPlaylistFailure(n,t))})},k=function(e,t){var n=t.uri,r=t.belongsToUser;m.Follow.unfollowPlaylist(u.default.getInstance(),n).then(function(){return e.dispatch(c.unfollowPlaylistSuccess(n))}).then(function(){r&&(e.dispatch(f.closeDeletePlaylistDialog()),e.dispatch((0,v.push)("/collection/playlists")))}).catch(function(t){return e.dispatch(c.unfollowPlaylistFailure(n,t))})},R=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return m.Album.getAlbumTracks(u.default.getInstance(),t.split(":").pop(),{limit:50,offset:r}).then(function(r){var i=n.concat(r.body.items);return r.body.next?e(t,i,r.body.offset+r.body.items.length):i})},P=function(e,t,n){for(var r=[],i=100;t.length;)r.push(t.splice(0,i));var o=[],a=!0,s=!1,l=void 0;try{for(var c,p=function(){var t=c.value;o.push(function(){return m.Playlist.addToPlaylist(u.default.getInstance(),n,e,t)}),o.push(function(){return new Promise(function(e){setTimeout(e,250)})})},f=r[Symbol.iterator]();!(a=(c=f.next()).done);a=!0)p()}catch(e){s=!0,l=e}finally{try{!a&&f.return&&f.return()}finally{if(s)throw l}}return(0,E.promiseSequence)(o)},I=function(e,t,n){var r=t.playlistUri,i=t.uri,o=b.default.from(i);return o.type===b.default.Type.TRACK?m.Playlist.addToPlaylist(u.default.getInstance(),n.session.user.id,r,[i]).then(function(){return e.dispatch(c.addToPlaylistSuccess(r,i))}).catch(function(t){return e.dispatch(c.addToPlaylistFailure(r,i,t))}):o.type===b.default.Type.ALBUM?R(i).then(function(t){return P(r,t.map(function(e){return e.uri}),n.session.user.id).then(function(){return e.dispatch(c.addToPlaylistSuccess(r,i))}).catch(function(t){return e.dispatch(c.addToPlaylistFailure(r,i,t))})}):null},A=function(e,t,n){var r=t.playlistUri,i=t.trackUri,o=t.position;m.Playlist.removeFromPlaylist(u.default.getInstance(),n.session.user.id,r,i,o).then(function(){return e.dispatch(c.removeFromPlaylistSuccess(r,i,o))}).catch(function(t){return e.dispatch(c.removeFromPlaylistFailure(r,i,t))})},L=function(e,t,n){var r=t.name,i=n.session.user.id;m.Playlist.createPlaylist(u.default.getInstance(),i,r).then(function(t){if(e.dispatch(c.createPlaylistSuccess({playlist:t.body})),n.ui.newPlaylistDialog.addToPlaylistUri){var r=t.body.uri,i=n.ui.newPlaylistDialog.addToPlaylistUri;return I(e,{playlistUri:r,uri:i},n).then(function(){return t})}return t}).then(function(t){e.dispatch((0,v.replace)("/user/"+i+"/playlist/"+t.body.id))}).catch(function(t){return e.dispatch(c.createPlaylistFailure(r,t))})},U=function(e,t,n){var r=t.playlistUri;m.Playlist.setPlaylistPublic(u.default.getInstance(),n.session.user.id,r).then(function(){e.dispatch(c.publishPlaylistSuccess(r))}).catch(function(t){return e.dispatch(c.publishPlaylistFailure(r,t))})},M=function(e,t,n){var r=t.playlistUri;m.Playlist.setPlaylistPrivate(u.default.getInstance(),n.session.user.id,r).then(function(){return e.dispatch(c.unpublishPlaylistSuccess(r))}).catch(function(t){return e.dispatch(c.unpublishPlaylistFailure(r,t))})},x=function(e,t){var n=t.uri;m.Follow.followArtist(u.default.getInstance(),n).then(function(){e.dispatch(c.followArtistSuccess(n)),e.dispatch((0,d.requestCollectionArtists)())}).catch(function(t){return e.dispatch(c.followArtistFailure(n,t))})},D=function(e,t){var n=t.uri;m.Follow.unfollowArtist(u.default.getInstance(),n).then(function(){return e.dispatch(c.unfollowArtistSuccess(n))}).catch(function(t){return e.dispatch(c.unfollowArtistFailure(n,t))})},N=function(e,t){var n=t.uri;m.Follow.saveAlbum(u.default.getInstance(),n).then(function(){e.dispatch(c.saveAlbumSuccess(n)),e.dispatch((0,d.requestCollectionAlbums)())}).catch(function(t){return e.dispatch(c.saveAlbumFailure(n,t))})},j=function(e,t){var n=t.uri;m.Follow.removeAlbum(u.default.getInstance(),n).then(function(){return e.dispatch(c.removeAlbumSuccess(n))}).catch(function(t){return e.dispatch(c.removeAlbumFailure(n,t))})},F=(a={},o(a,c.types.SAVE_TRACK,w),o(a,c.types.REMOVE_TRACK,C),o(a,c.types.FOLLOW_PLAYLIST,O),o(a,c.types.UNFOLLOW_PLAYLIST,k),o(a,c.types.CREATE_PLAYLIST,L),o(a,c.types.ADD_TO_PLAYLIST,I),o(a,c.types.REMOVE_FROM_PLAYLIST,A),o(a,c.types.FOLLOW_ARTIST,x),o(a,c.types.UNFOLLOW_ARTIST,D),o(a,c.types.SAVE_ALBUM,N),o(a,c.types.REMOVE_ALBUM,j),o(a,c.types.LIKE_RADIO_TRACK,S),o(a,c.types.BAN_RADIO_CONTEXT,T),o(a,c.types.PUBLISH_PLAYLIST,U),o(a,c.types.UNPUBLISH_PLAYLIST,M),a);t.default=function(e){return function(t){return function(n){return n.type in F&&F[n.type](e,n,e.getState()),t(n)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(34),i=n(5),o=n(94),a=n(52),s=n(16);t.default=function(e){return function(t){return function(n){var u=t(n);switch(n.type){case r.types.LOGOUT_REQUEST:e.dispatch((0,i.clearData)()),e.dispatch((0,o.clearData)()),e.dispatch((0,a.clearData)()),e.dispatch((0,s.clearLikedTracks)())}return u}}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}Object.defineProperty(t,"__esModule",{value:!0});var o=n(34),a=i(o),s=n(353),u=r(s),l=n(55),c=r(l),p=n(337),f=n(155),d=i(f),h=n(103),y=null,_=null,m=2e3,v=function e(t){var n=t.getState().session.expiration;n<=(new Date).getTime()&&(clearInterval(y),(0,p.refreshToken)(c.default.getInstance()).then(function(e){t.dispatch(a.tokenUpdateSuccess({accessToken:e.body.access_token,expiresIn:e.body.expires_in}))},function(n){if(clearTimeout(_),n.status&&(n.status<200||n.status>=400)){if(n.status>=400&&n.status<500)return window.Raven&&window.Raven.captureMessage("SessionMiddleware: /refresh_token returned error: "+n.status,{level:"warning"}),void t.dispatch(a.logoutRequest());_=setTimeout(function(){e(t)},m)}}))};t.default=function(e){return function(t){return function(n){var r=t(n),i=e.getState().session;switch(n.type){case a.types.LOGIN_REQUEST:var o=new u.default(e,d.authServerURL+"/login_request");o.show();break;case a.types.LOGIN_CREDENTIALS_OBTAINED:clearInterval(y),y=setInterval(function(){v(e)},m),(0,h.createCookie)({name:"wp_access_token",value:i.accessToken,days:1}),(0,h.createCookie)({name:"wp_expiration",value:i.expiration,days:1}),e.dispatch(a.loginSuccess());break;case a.types.LOGIN_SUCCESS:(0,h.createCookie)({name:"wp_loggedIn",value:!0,days:365});break;case a.types.LOAD:case a.types.ACCESS_TOKEN_UPDATE_SUCCESS:case a.types.ACCESS_TOKEN_REQUEST:i.accessToken?(clearInterval(y),y=setInterval(function(){v(e)},m)):(clearInterval(y),y=null);break;case a.types.LOGOUT_REQUEST:clearInterval(y),y=null,(0,h.deleteCookie)("wp_access_token"),(0,h.deleteCookie)("wp_expiration"),(0,h.deleteCookie)("wp_expiration_in"),localStorage.removeItem("access_token"),localStorage.removeItem("refresh_token"),localStorage.removeItem("expires_on"),(0,p.logout)(c.default.getInstance()).then(function(){e.dispatch(a.logoutSuccess())})}return r}}}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(470),o=r(i),a=n(8),s=function(e){return new Promise(function(t){var n=new Image;n.crossOrigin="Anonymous",n.onload=function(){return t(n)},n.src=e.url})},u=function(e,t){if(!e)return Promise.reject("No image");var n=t.getState().ui.background.cachedColors;return n[e.url]?Promise.resolve(n[e.url]):s(e).then(function(e){var t=e.naturalWidth,n=e.naturalHeight,r=document.createElement("canvas"),i=r.getContext("2d");r.width=t,r.height=n,i.drawImage(e,0,0,t,n);for(var a,s,u,l,c,p=i.getImageData(0,0,t,n).data,f=t*n,d=[],h=0;h<f;h+=10)a=4*h,s=p[a+0],u=p[a+1],l=p[a+2],c=p[a+3],c>=125&&(s>250&&u>250&&l>250||d.push([s,u,l]));var y=(0,o.default)(d,5),_=y.palette();return _[0]})};t.default=function(e){return function(t){return function(n){var r=t(n);switch(n.type){case a.types.SET_CONTEXTUAL_BG:u(n.image,e).then(function(t){return e.dispatch((0,a.setBackgroundColor)(t,n.image))}).catch(function(){return e.dispatch((0,a.resetBackgroundColor)())})}return r}}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(null===e||void 0===e)throw new TypeError("Cannot convert undefined or null to object");for(var t=Object(e),n=1;n<arguments.length;n++){var r=arguments[n];if(null!==r||void 0!==r)for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(457),o=r(i),a=n(458),s=n(5),u=n(16),l=n(54),c={all:(0,a.Map)(),search:(0,a.Map)(),collection:(0,a.Map)(),tracks:(0,a.Map)(),browse:(0,a.Map)(),follows:(0,a.Map)(),views:(0,a.Map)(),radio:(0,a.Map)()},p=function(e,t){var n=t.uri;return e.all.has(n)&&(0,l.hasFullMetadata)(e.all.get(n))?e:Object.assign({},e,{all:(0,l.mergeCollections)(e.all.set(t.uri,(0,l.flagAsFull)(t)))})},f=function(e,t,n){var r="spotify:show:"+t;if(e.all.has(r)){var i=e.all.get(r),o=Object.assign({},i.episodes,n,{items:i.episodes.items.concat(n.items)}),s=Object.assign({},i,{episodes:o});return Object.assign({},e,{all:(0,l.mergeCollections)(e.all.set(r,s),(0,a.Map)([[r,s]]))})}return e},d=function(e,t,n){return e.tracks.has(t)?e:Object.assign({},e,{tracks:e.tracks.set(t,n)})},h=function(e,t,n){if(e.search.has(t))return e;var r=n.albums.items.map(function(e){return[e.uri,(0,l.flagAsSimple)(e)]}),i=n.artists.items.map(function(e){return[e.uri,(0,l.flagAsSimple)(e)]}),o=n.playlists.items.map(function(e){return[e.uri,(0,l.flagAsSimple)(e)]}),s=n.best_match.items.map(function(e){return[e.uri,(0,l.flagAsSimple)(e)]}),u=Object.assign({},{},n);return u.artists.items=n.artists.items.map(function(e){return e.uri}),u.albums.items=n.albums.items.map(function(e){return e.uri}),u.playlists.items=n.playlists.items.map(function(e){return e.uri}),u.best_match.items=n.best_match.items.map(function(e){return e.uri}),Object.assign({},e,{all:(0,l.mergeCollections)(e.all,(0,a.Map)([].concat(r,i,o,s))),search:e.search.set(t,u)})},y=function(e,t,n){if(!e.search.has(t))return e;var r=e.search.get(t),i=Object.assign({},r,{tracks:{href:n.tracks.href,items:r.tracks.items.concat(n.tracks.items),next:n.tracks.next,offset:n.tracks.offset,previous:n.tracks.previous,total:n.tracks.total}});return Object.assign({},e,{search:e.search.set(t,i)})},_=function(e,t,n){if(!e.search.has(t))return e;var r=n.albums.items.map(function(e){return[e.uri,(0,l.flagAsSimple)(e)]}),i=n.albums.items.map(function(e){return e.uri}),o=e.search.get(t),s=Object.assign({},o,{albums:{href:n.albums.href,items:o.albums.items.concat(i),next:n.albums.next,offset:n.albums.offset,previous:n.albums.previous,total:n.albums.total}});return Object.assign({},e,{all:(0,l.mergeCollections)(e.all,(0,a.Map)(r)),search:e.search.set(t,s)})},m=function(e,t,n){if(!e.search.has(t))return e;var r=n.artists.items.map(function(e){return[e.uri,(0,l.flagAsSimple)(e)]}),i=n.artists.items.map(function(e){return e.uri}),o=e.search.get(t),s=Object.assign({},o,{artists:{href:n.artists.href,items:o.artists.items.concat(i),next:n.artists.next,offset:n.artists.offset,previous:n.artists.previous,total:n.artists.total}});return Object.assign({},e,{all:(0,l.mergeCollections)(e.all,(0,a.Map)(r)),search:e.search.set(t,s)})},v=function(e,t,n){if(!e.search.has(t))return e;var r=n.playlists.items.map(function(e){return[e.uri,(0,l.flagAsSimple)(e)]}),i=n.playlists.items.map(function(e){return e.uri}),o=e.search.get(t),s=Object.assign({},o,{playlists:{href:n.playlists.href,items:o.playlists.items.concat(i),next:n.playlists.next,offset:n.playlists.offset,previous:n.playlists.previous,total:n.playlists.total}});return Object.assign({},e,{all:(0,l.mergeCollections)(e.all,(0,a.Map)(r)),search:e.search.set(t,s)})},g=function(e,t,n){return e.all.has(t)&&(0,l.hasFullMetadata)(e.all.get(t))?e:Object.assign({},e,{all:(0,l.mergeCollections)(e.all,(0,a.Map)([[t,n]]))})},b=function(e,t,n){if(!e.all.has(t))return e;var r=e.all.get(t),i=Object.assign({},r,{tracks:{href:n.href,items:r.tracks.items.concat(n.items),next:n.next,offset:n.offset,previous:n.previous,total:n.total}});return Object.assign({},e,{all:(0,l.mergeCollections)(e.all.set(t,i),(0,a.Map)([[t,i]]))})},E=function(e,t,n){return e.tracks.has(t)?e:Object.assign({},e,{tracks:e.tracks.set(t,n),all:e.all.set(n.album.uri,(0,l.flagAsSimple)(n.album))})},S=function(e,t,n){return e.all.has(t)?e:Object.assign({},e,{all:e.all.set(t,n)})},T=function(e,t,n){return Object.assign({},e,{all:(0,l.mergeCollections)(e.all.set(t,Object.assign({},e.all.get(t),{playlists:Object.assign({},n,{items:n.items.map(function(e){return e.uri}),isFetching:!1})})),(0,a.Map)(n.items.map(function(e){return[e.uri,(0,l.flagAsSimple)(e)]})))})},w=function(e,t,n){if(e.all.has(t)){var r=e.all.get(t),i=Object.assign({},r.playlists,n,{items:r.playlists.items.concat(n.items.map(function(e){return e.uri}))}),o=Object.assign({},r,{playlists:i});return Object.assign({},e,{all:(0,l.mergeCollections)(e.all.set(t,o),(0,a.Map)(n.items.map(function(e){return[e.uri,(0,l.flagAsSimple)(e)]})))})}return e},C=function(e,t,n){return e.all.has(t)&&(0,l.hasFullMetadata)(e.all.get(t))?e:Object.assign({},e,{all:(0,l.mergeCollections)(e.all,(0,a.Map)([[t,n]]))})},O=function(e,t){return e.all.has(t)&&(0,l.hasFullMetadata)(e.all.get(t))?e:Object.assign({},e,{all:(0,l.mergeCollections)(e.all,(0,a.Map)([[t,(0,l.flagAsFull)(e.all.get(t))]]))})},k=function(e,t,n){var r=Object.assign({},e.all.get(t),{topTracks:n.tracks});return Object.assign({},e,{all:e.all.set(t,r)})},R=function(e,t,n){var r=n.artists,i=Object.assign({},e.all.get(t),{relatedArtists:r.map(function(e){return e.uri})});return Object.assign({},e,{all:(0,l.mergeCollections)(e.all.set(t,i),(0,a.Map)(r.map(function(e){return[e.uri,(0,l.flagAsSimple)(e)]})))})},P=function(e,t,n){var r=Object.assign({},e.all.get(t),n);return null===r.headerImages&&(r.headerImages=r.images),Object.assign({},e,{all:(0,l.mergeCollections)(e.all.set(t,r),(0,a.Map)([[t,r]]))})},I=function(e,t,n){var r=e.all.get(t),i=r.albums||{},o=Object.assign({},r,{albums:{total:n.total,items:(i.items||[]).concat(n.items.map(function(e){return e.uri})),next:n.next}}),s={artists:[r]},u=(0,a.Map)(n.items.map(function(e){return[e.uri,(0,l.flagAsSimple)(Object.assign({},e,s))]}));return Object.assign({},e,{all:(0,l.mergeCollections)(e.all.set(t,o),u)})},A=function(e,t,n){return e.all.has(t)&&(0,l.hasFullMetadata)(e.all.get(t))?e:Object.assign({},e,{all:(0,l.mergeCollections)(e.all,(0,a.Map)([[t,n]]))})},L=function(e,t,n){if(!e.all.has(t))return e;var r=e.all.get(t),i=Object.assign({},r,{tracks:{href:n.href,items:r.tracks.items.concat(n.items),next:n.next,offset:n.offset,previous:n.previous,total:n.total}});return Object.assign({},e,{all:(0,l.mergeCollections)(e.all.set(t,i))})},U=function(e,t){if(!e.all.has(t))return e;var n=e.all.get(t),r=(0,l.flagAsSimple)(Object.assign({},n));return Object.assign({},e,{all:(0,l.mergeCollections)(e.all.set(t,(0,l.flagAsSimple)(r)))})},M=function(e,t,n,r){if(!e.all.has(t))return e;var i=e.all.get(t),o=i.tracks.items.filter(function(e,t){return t!==r}),a=Object.assign({},i.tracks,{items:o,total:i.tracks.items.length-1}),s=Object.assign({},e.all.get(t),{tracks:a});return Object.assign({},e,{all:e.all.set(t,s)})},x=function(e,t){return Object.assign({},e,{collection:e.collection.set("playlists",Object.assign({},t,{items:t.items.map(function(e){return e.uri}),isFetching:!1})),follows:(0,l.mergeCollections)(e.follows,(0,a.Map)(t.items.map(function(e){var t=e.uri;return[t,!0]}))),all:(0,l.mergeCollections)(e.all,(0,a.Map)(t.items.map(function(e){return[e.uri,(0,l.flagAsSimple)(e)]})))})},D=function(e,t){return Object.assign({},e,{collection:e.collection.set("playlists",Object.assign({},t,{items:e.collection.get("playlists").items.concat(t.items.map(function(e){return e.uri})),isFetching:!1})),all:(0,l.mergeCollections)(e.all,(0,a.Map)(t.items.map(function(e){return[e.uri,(0,l.flagAsSimple)(e)]}))),follows:(0,l.mergeCollections)(e.follows,(0,a.Map)(t.items.map(function(e){var t=e.uri;return[t,!0]})))})},N=function(e,t){var n=t.playlist;return Object.assign({},e,{collection:e.collection.set("playlists",Object.assign({},e.collection.get("playlists"),{items:[n.uri].concat(e.collection.get("playlists").items)})),all:(0,l.mergeCollections)(e.all,(0,a.Map)([[n.uri,(0,l.flagAsSimple)(n)]])),follows:(0,l.mergeCollections)(e.follows,(0,a.Map)([[n.uri,!0]]))})},j=function(e){var t=e.collection.set("playlists",Object.assign({},e.collection.get("playlists"),{isFetching:!0}));return Object.assign({},e,{collection:t})},F=function(e,t,n){return Object.assign({},e,{all:e.all.set(t,(0,o.default)(e.all.get(t),{public:{$set:n}}))})},B=function(e,t){return Object.assign({},e,{all:e.all.set(t,(0,o.default)(e.all.get(t),{public:{$set:!0}}))})},q=function(e,t){return Object.assign({},e,{all:e.all.set(t,(0,o.default)(e.all.get(t),{public:{$set:!1}}))})},H=function(e,t){return Object.assign({},e,{collection:e.collection.set("tracks",t),isFetching:!1})},V=function(e,t){return Object.assign({},e,{collection:e.collection.set("tracks",Object.assign({},t,{items:e.collection.get("tracks").items.concat(t.items),isFetching:!1}))})},W=function(e){return Object.assign({},e,{collection:e.collection.set("tracks",Object.assign({},e.collection.tracks,{isFetching:!0}))})},K=function(e,t){var n=Object.assign({},t,{isFetching:!1});return n.items=n.items.map(function(e){return{added_at:e.added_at,album:e.album.uri}}),Object.assign({},e,{collection:e.collection.set("albums",n),all:(0,l.mergeCollections)(e.all,(0,a.Map)(t.items.map(function(e){var t=e.album;return[t.uri,t]})))})},Q=function(e,t){return Object.assign({},e,{collection:e.collection.set("albums",Object.assign({},t,{items:e.collection.get("albums").items.concat(t.items.map(function(e){return{added_at:e.added_at,album:e.album.uri}})),isFetching:!1})),all:(0,l.mergeCollections)(e.all,(0,a.Map)(t.items.map(function(e){var t=e.album;return[t.uri,t]})))})},Y=function(e){return Object.assign({},e,{collection:e.collection.set("albums",Object.assign({},e.collection.albums,{isFetching:!0}))})},z=function(e,t){return Object.assign({},e,{collection:e.collection.set("artists",Object.assign({},t.artists,{items:t.artists.items.map(function(e){return e.uri}),isFetching:!1})),all:(0,l.mergeCollections)(e.all,(0,a.Map)(t.artists.items.map(function(e){return[e.uri,(0,l.flagAsSimple)(e)]})))})},G=function(e,t){return Object.assign({},e,{collection:e.collection.set("artists",Object.assign({},t.artists,{items:e.collection.get("artists").items.concat(t.artists.items.map(function(e){return e.uri})),isFetching:!1})),all:(0,l.mergeCollections)(e.all,(0,a.Map)(t.artists.items.map(function(e){return[e.uri,(0,l.flagAsSimple)(e)]})))})},X=function(e){return Object.assign({},e,{collection:e.collection.set("artists",Object.assign({},e.collection.artists,{isFetching:!0}))})},J=function(e,t,n){var r=e.collection.has("mapTrackSaved")?e.collection.get("mapTrackSaved"):(0,a.Map)(),i=r.set(t,n);return Object.assign({},e,{collection:e.collection.set("mapTrackSaved",i)})},$=function(e,t){var n=e.collection.has("mapTrackSaved")?e.collection.get("mapTrackSaved"):(0,a.Map)(),r=n.set(t,!0);return Object.assign({},e,{collection:e.collection.delete("tracks").set("mapTrackSaved",r)})},Z=function(e,t){var n=e.collection.has("mapTrackSaved")?e.collection.get("mapTrackSaved"):(0,a.Map)(),r=n.set(t,!1),i=e.collection.has("tracks")&&Object.assign({},e.collection.get("tracks"),{items:e.collection.get("tracks").items.filter(function(e){return e.track.uri!==t})});return Object.assign({},e,{collection:e.collection.set("mapTrackSaved",r).set("tracks",i)})},ee=function(e,t,n){return Object.assign({},e,{follows:e.follows.set(t,n)})},te=function(e,t){return Object.assign({},e,{follows:e.follows.set(t,!0),collection:e.collection.delete("playlists")})},ne=function(e,t){return Object.assign({},e,{follows:e.follows.set(t,!1),collection:e.collection.has("playlists")?e.collection.set("playlists",Object.assign({},e.collection.get("playlists"),{items:e.collection.get("playlists").items.filter(function(e){return e!==t})})):e.collection})},re=function(e,t,n){return Object.assign({},e,{follows:e.follows.set(t,n)})},ie=function(e,t){return Object.assign({},e,{follows:e.follows.set(t,!0),collection:e.collection.delete("artists")})},oe=function(e,t){return Object.assign({},e,{follows:e.follows.set(t,!1),collection:e.collection.has("artists")?e.collection.set("artists",Object.assign({},e.collection.get("artists"),{items:e.collection.get("artists").items.filter(function(e){return e!==t})})):e.collection})},ae=function(e,t,n){return Object.assign({},e,{follows:e.follows.set(t,n)})},se=function(e,t){return Object.assign({},e,{follows:e.follows.set(t,!0),collection:e.collection.delete("albums")})},ue=function(e,t){var n=e.follows.set(t,!1),r=e.collection.has("albums")&&Object.assign({},e.collection.get("albums"),{items:e.collection.get("albums").items.filter(function(e){return e.album!==t})});return Object.assign({},e,{follows:n,collection:e.collection.set("albums",Object.assign({},e.collection.get("albums"),r))})},le=function(e){return Object.assign({},e,c)},ce=function(e){var t=e.radio.has("dailyMixes")&&e.radio.get("dailyMixes")||{items:[],isFetching:!0};return Object.assign({},e,{radio:e.radio.set("dailyMixes",(0,o.default)(t,{isFetching:{$set:!0}}))})},pe=function(e,t){var n=t.map(function(e,t){var n=(0,l.getDailyMixImageFromUri)(e.imageUri),r=n.mosaicUrl,i=n.textImageUrl,o=n.waveImageUrl;return(0,l.flagAsSimple)({uri:e.uri,images:[{width:640,url:r}],name:e.title,index:t+1,textImageUrl:i,waveImageUrl:o,description:e.description,tracks:{items:[],total:0,next:null}})});return Object.assign({},e,{radio:e.radio.set("dailyMixes",{items:n.map(function(e){return e.uri}),isFetching:!1}),all:(0,l.mergeCollections)(e.all,(0,a.Map)(n.map(function(e){return[e.uri,e]})))})},fe=function(e,t){var n={total:t.tracks.length,items:t.tracks.map(function(e){return{name:e.metadata.title,uri:e.uri,is_local:!1,is_playable:!1,album:{id:e.metadata.uid,uri:e.album_uri,name:e.metadata.album_title},artists:[{uri:e.artist_uri,id:e.artist_uri,name:e.metadata.artist_name}]}}),next:t.next_page_url},r=e.all.get(t.uri);if(r)r=(0,o.default)(r,{lastUpdated:{$set:(new Date).getTime()},tracks:{$set:(0,o.default)(r.tracks,{items:{$push:n.items},total:{$set:n.items.length}})}});else{var i=(0,l.getDailyMixImageFromUri)(t.imageUri),a=i.mosaicUrl,s=i.textImageUrl,u=i.waveImageUrl;r={uri:t.uri,images:[{width:640,url:a}],name:t.title,index:0,textImageUrl:s,waveImageUrl:u,description:t.subtitle,tracks:n,lastUpdated:(new Date).getTime()}}var c=e.radio.has("dailyMixes")&&e.radio.get("dailyMixes").items||[];return c.indexOf(r.uri)===-1&&c.push(r.uri),Object.assign({},e,{radio:e.radio.set("dailyMixes",{items:c,isFetching:!1}),all:(0,l.mergeCollections)(e.all.set(t.uri,(0,l.flagAsFull)(r)))})},de=function(e,t,n){var r=[];return n.content.items.forEach(function(e){e.content?e.content.items.forEach(function(e){e.name&&r.push(e)}):e.name&&r.push(e)}),Object.assign({},e,{views:e.views.set(t,n),all:(0,l.mergeCollections)(e.all,(0,a.Map)(r.map(function(e){return[e.uri,(0,l.flagAsSimple)(e)]})))})},he=function(e,t,n){var r=[];n.content.items.forEach(function(e){e.content?e.content.items.forEach(function(e){e.name&&r.push(e)}):e.name&&r.push(e)});var i=e.views.get(t),s=(0,o.default)(i,{content:{href:{$set:n.content.href},items:{$push:n.content.items},next:{$set:n.content.next},offset:{$set:n.content.offset},previous:{$set:n.content.previous},total:{$set:n.content.total}}});return Object.assign({},e,{views:e.views.set(t,s),all:(0,l.mergeCollections)(e.all,(0,a.Map)(r.map(function(e){return[e.uri,(0,l.flagAsSimple)(e)]})))})};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments[1];switch(t.type){case s.types.REQUEST_SEARCH_SUCCESS:return h(e,t.query,t.data);case s.types.REQUEST_SEARCH_TRACKS_MORE_SUCCESS:return y(e,t.query,t.data);case s.types.REQUEST_SEARCH_ALBUMS_MORE_SUCCESS:return _(e,t.query,t.data);case s.types.REQUEST_SEARCH_ARTISTS_MORE_SUCCESS:return m(e,t.query,t.data);case s.types.REQUEST_SEARCH_PLAYLISTS_MORE_SUCCESS:return v(e,t.query,t.data);case s.types.REQUEST_ARTIST_SUCCESS:return C(e,t.uri,t.data);case s.types.REQUEST_ARTIST_COMPLEMENTARY_DATA:return O(e,t.uri);case s.types.REQUEST_ARTIST_TOP_TRACKS_SUCCESS:return k(e,t.uri,t.data);case s.types.REQUEST_ARTIST_RELATED_ARTISTS_SUCCESS:return R(e,t.uri,t.data);case s.types.REQUEST_ARTIST_METADATA_SUCCESS:return P(e,t.uri,t.data);case s.types.REQUEST_ARTIST_ALBUMS_SUCCESS:return I(e,t.uri,t.data);case s.types.REQUEST_TRACK_SUCCESS:return E(e,t.uri,t.data);case s.types.REQUEST_EPISODE_SUCCESS:return d(e,t.uri,t.data);case s.types.REQUEST_ALBUM_SUCCESS:return g(e,t.uri,t.data);case s.types.REQUEST_ALBUM_TRACKS_SUCCESS:return b(e,t.uri,t.data);case s.types.REQUEST_PLAYLIST_SUCCESS:return A(e,t.uri,t.data);case s.types.REQUEST_PLAYLIST_TRACKS_SUCCESS:return L(e,t.uri,t.data);case s.types.REQUEST_USER_SUCCESS:return S(e,t.uri,t.data);case s.types.REQUEST_USER_PLAYLISTS_SUCCESS:return T(e,t.uri,t.data);case s.types.REQUEST_USER_PLAYLISTS_MORE_SUCCESS:return w(e,t.uri,t.data);case u.types.CREATE_PLAYLIST_SUCCESS:return N(e,t.data);case u.types.ADD_TO_PLAYLIST_SUCCESS:return U(e,t.playlistUri,t.trackUri);case u.types.REMOVE_FROM_PLAYLIST_SUCCESS:return M(e,t.playlistUri,t.trackUri,t.position);case s.types.REQUEST_CURRENT_USER_PLAYLISTS:return j(e,t);case s.types.REQUEST_CURRENT_USER_PLAYLISTS_SUCCESS:return x(e,t.data);case s.types.REQUEST_CURRENT_USER_PLAYLISTS_MORE_SUCCESS:return D(e,t.data);case s.types.REQUEST_COLLECTION_TRACKS:return W(e,t);case s.types.REQUEST_COLLECTION_TRACKS_SUCCESS:
return H(e,t.data);case s.types.REQUEST_COLLECTION_TRACKS_MORE_SUCCESS:return V(e,t.data);case s.types.REQUEST_COLLECTION_ALBUMS:return Y(e,t);case s.types.REQUEST_COLLECTION_ALBUMS_SUCCESS:return K(e,t.data);case s.types.REQUEST_COLLECTION_ALBUMS_MORE_SUCCESS:return Q(e,t.data);case s.types.REQUEST_COLLECTION_ARTISTS:return X(e,t);case s.types.REQUEST_COLLECTION_ARTISTS_SUCCESS:return z(e,t.data);case s.types.REQUEST_COLLECTION_ARTISTS_MORE_SUCCESS:return G(e,t.data);case s.types.REQUEST_COLLECTION_CONTAINS_TRACK_SUCCESS:return J(e,t.uri,t.containsTrack);case u.types.SAVE_TRACK_SUCCESS:return $(e,t.uri);case u.types.REMOVE_TRACK_SUCCESS:return Z(e,t.uri);case s.types.REQUEST_IS_FOLLOWING_PLAYLIST_SUCCESS:return ee(e,t.uri,t.data);case u.types.FOLLOW_PLAYLIST_SUCCESS:return te(e,t.uri);case u.types.UNFOLLOW_PLAYLIST_SUCCESS:return ne(e,t.uri);case s.types.REQUEST_IS_FOLLOWING_ARTIST_SUCCESS:return re(e,t.uri,t.data);case u.types.FOLLOW_ARTIST_SUCCESS:return ie(e,t.uri);case u.types.FOLLOW_ARTIST_ERROR:return e;case u.types.UNFOLLOW_ARTIST_SUCCESS:return oe(e,t.uri);case u.types.UNFOLLOW_ARTIST_ERROR:return e;case s.types.REQUEST_IS_ALBUM_SAVED_SUCCESS:return ae(e,t.uri,t.data);case u.types.SAVE_ALBUM_SUCCESS:return se(e,t.uri);case u.types.REMOVE_ALBUM_SUCCESS:return ue(e,t.uri);case s.types.REQUEST_CLEAR_DATA:return le(e);case s.types.REQUEST_VIEW_SUCCESS:return de(e,t.id,t.data);case s.types.REQUEST_VIEW_MORE_SUCCESS:return he(e,t.id,t.data);case s.types.REQUEST_RADIO:return ce(e,t);case s.types.REQUEST_RADIO_SUCCESS:return pe(e,t.data);case s.types.REQUEST_STATION_DETAILS_SUCCESS:return fe(e,t.data);case s.types.REQUEST_PLAYLIST_PUBLISHED_STATE_SUCCESS:return F(e,t.uri,t.isPublic);case u.types.PUBLISH_PLAYLIST_SUCCESS:return B(e,t.playlistUri);case u.types.UNPUBLISH_PLAYLIST_SUCCESS:return q(e,t.playlistUri);case s.types.REQUEST_SHOW_SUCCESS:return p(e,t.data);case s.types.REQUEST_SHOW_MORE_SUCCESS:return f(e,t.showId,t.data);default:return e}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={ads:!1};t.default=function(e,t){switch(t.type){default:return e?e:n}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(93),i={message:null,isError:!1,allowHTML:!1};t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,t=arguments[1];switch(t.type){case r.types.SHOW_FEEDBACK:return Object.assign({},e,{message:t.message,isError:t.feedbackType===r.feedbackTypes.ERROR,isNotice:t.feedbackType===r.feedbackTypes.NOTICE,allowHTML:t.allowHTML});case r.types.CLOSE_FEEDBACK:return Object.assign({},e,{message:null,isError:!1,isNotice:!1,allowHTML:!1});default:return e}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initialState=void 0;var r=n(16),i="likedTracks",o=function(){var e=localStorage.getItem(i);return e?JSON.parse(e):[]},a=function(e,t){return t.indexOf(e)===-1?[e].concat(t):[].concat(t)},s=t.initialState={tracks:o()};t.default=function(e,t){switch(t.type){case r.types.LIKE_RADIO_TRACK:var n=t.uri?a(t.uri,e.tracks):e.tracks;try{localStorage.setItem(i,JSON.stringify(n))}catch(e){}return Object.assign({},e,{tracks:n});case r.types.CLEAR_LIKED_TRACKS:return localStorage.removeItem(i),{tracks:[]};default:return e||s}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initialState=void 0;var r=n(94),i="playbackHistory",o=function(){var e=localStorage.getItem(i);return e?JSON.parse(e).filter(function(e){return"uri"in e}):[]},a=function(e,t,n){return[{uri:e,name:t}].concat(n.filter(function(t){return t.uri!==e})).splice(0,5)},s=t.initialState={contexts:o()};t.default=function(e,t){switch(t.type){case r.types.STORE_CONTEXT:var n=t.uri?a(t.uri,t.name,e.contexts):e.contexts;try{localStorage.setItem(i,JSON.stringify(n))}catch(e){}return Object.assign({},e,{contexts:n});case r.types.CLEAR_DATA:return localStorage.removeItem(i),{contexts:[]};default:return e||s}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initialState=void 0;var r=n(7),i=n(5),o=t.initialState={player:null,device:null,devices:[]},a=function(e,t){return t.playerState&&delete t.playerState.position,Object.assign({},e,{player:t.playerState||null})},s=function(e,t){return Object.assign({},e,{devices:t.devices})},u=function(e,t){var n=void 0,r=t.deviceInfo,i=e.device;return n=r&&r.local&&0===r.volume&&r.is_active&&(i&&!i.is_active||!i)?Object.assign({},t.deviceInfo,{volume:1}):t.deviceInfo,Object.assign({},e,{device:n})};t.default=function(e,t){switch(t.type){case r.types.STATUS_UPDATE:return a(e,t);case r.types.DEVICE_INFO_CHANGED:return u(e,t);case i.types.REQUEST_CONNECT_DEVICES_SUCCESS:return s(e,t);default:return e?e:o}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initialState=void 0;var r=n(52),i="searchHistory",o=function(){var e=localStorage.getItem(i);return e?JSON.parse(e).filter(function(e){return"uri"in e}):[]},a=function(e,t,n){return[{uri:e,name:t}].concat(n.filter(function(t){return t.uri!==e})).splice(0,4)},s=t.initialState={contexts:o()};t.default=function(e,t){switch(t.type){case r.types.STORE_SEARCH:var n=t.uri?a(t.uri,t.name,e.contexts):e.contexts;try{localStorage.setItem(i,JSON.stringify(n))}catch(e){}return Object.assign({},e,{contexts:n});case r.types.CLEAR_DATA:return localStorage.removeItem(i),{contexts:[]};default:return e||s}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.EXPIRATION_THRESHOLD=void 0;var r=n(34),i=n(5),o={loggedIn:!1,accessToken:null,expiration:null,expiresIn:null,user:null},a=t.EXPIRATION_THRESHOLD=600;t.default=function(e,t){switch(t.type){case r.types.LOAD:var n=e.expiration,s=e?e:o;return(!n||n<=Date.now())&&(s=Object.assign({},e,o)),s;case r.types.LOGIN_CREDENTIALS_OBTAINED:return Object.assign({},e,{loggedIn:!1,expiresIn:t.authData.expiresIn,accessToken:t.authData.accessToken,expiration:Math.max(0,1e3*t.authData.expiresIn+Date.now()-1e3*a)});case i.types.REQUEST_ME_SUCCESS:return Object.assign({},e,{user:t.data});case i.types.REQUEST_PRODUCT_STATE_SUCCESS:return Object.assign({},e,{productState:t.data});case r.types.LOGIN_SUCCESS:return Object.assign({},e,{loggedIn:!0});case r.types.LOGOUT_REQUEST:return Object.assign({},e,o);case r.types.ACCESS_TOKEN_UPDATE_SUCCESS:return Object.assign({},e,{expiresIn:t.authData.expiresIn,accessToken:t.authData.accessToken,expiration:Math.max(0,1e3*t.authData.expiresIn+Date.now()-1e3*a)});default:return e?e:o}}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={};t.default=function(e,t){switch(t.type){default:return e?e:n}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(8),i=n(16),o=n(7),a=n(135),s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cachedColors:{}},t=arguments[1];switch(t.type){case r.types.SET_BACKGROUND_IMAGE:return Object.assign({},e,{image:t.image,color:null});case r.types.HIDE_BACKGROUND_IMAGE:return Object.assign({},e,{image:null});case r.types.SET_BACKGROUND_COLOR:var n=Object.assign({},e.cachedColors);return t.image&&(n[t.image.url]=t.color),Object.assign({},e,{cachedColors:n,color:t.color,image:null});case r.types.RESET_BACKGROUND_COLOR:return Object.assign({},e,{color:null});case r.types.RESET_BACKGROUND:return Object.assign({},e,{color:null,image:null});default:return e}},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isOpen:!1},t=arguments[1];switch(t.type){case o.types.CDM_ERROR:return Object.assign({},e,{isOpen:!0});default:return e}},l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments[1];switch(t.type){case r.types.OPEN_NEW_PLAYLIST_DIALOG:return Object.assign({},e,{isNewPlaylistDialogOpen:!0});case r.types.CLOSE_NEW_PLAYLIST_DIALOG:return e.isAddToPlaylistDialogOpen?Object.assign({},e,{isNewPlaylistDialogOpen:!1}):Object.assign({},e,{isNewPlaylistDialogOpen:!1,addToPlaylistUri:null});case r.types.OPEN_ADD_TO_PLAYLIST_DIALOG:return Object.assign({},e,{isAddToPlaylistDialogOpen:!0,addToPlaylistUri:t.uri});case r.types.CLOSE_ADD_TO_PLAYLIST_DIALOG:return Object.assign({},e,{isAddToPlaylistDialogOpen:!1,addToPlaylistUri:null});case r.types.SWITCH_TO_NEW_PLAYLIST_DIALOG:return Object.assign({},e,{isAddToPlaylistDialogOpen:!1,isNewPlaylistDialogOpen:!0});case i.types.CREATE_PLAYLIST_SUCCESS:return Object.assign({},e,{isNewPlaylistDialogOpen:!1});case i.types.ADD_TO_PLAYLIST_SUCCESS:return Object.assign({},e,{isAddToPlaylistDialogOpen:!1,addToPlaylistUri:null});default:return e}},c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isOpen:!1},t=arguments[1];switch(t.type){case r.types.OPEN_DELETE_PLAYLIST_DIALOG:return Object.assign({},e,{isOpen:!0,uri:t.uri});case r.types.CLOSE_DELETE_PLAYLIST_DIALOG:return Object.assign({},e,{isOpen:!1});default:return e}},p=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLeaderboardVisible:!1},t=arguments[1];switch(t.type){case r.types.SHOW_LEADERBOARD_AD:return Object.assign({},e,{isLeaderboardVisible:!0});case r.types.HIDE_LEADERBOARD_AD:return Object.assign({},e,{isLeaderboardVisible:!1});default:return e}};t.default=(0,a.combineReducers)({background:s,newPlaylistDialog:l,deletePlaylistDialog:c,ads:p,cdmErrorDialog:u})},function(e,t,n){"use strict";function r(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(1),a=i(o),s=n(15),u=n(317),l=i(u),c=n(293),p=i(c),f=n(322),d=i(f),h=n(321),y=i(h),_=n(324),m=i(_),v=n(318),g=i(v),b=n(319),E=i(b),S=n(323),T=i(S),w=n(329),C=i(w),O=n(302),k=i(O),R=n(325),P=i(R),I=n(230),A=i(I),L=n(237),U=i(L),M=n(231),x=i(M),D=n(234),N=i(D),j=n(316),F=i(j),B=n(328),q=i(B),H=n(239),V=i(H),W=n(307),K=i(W),Q=n(308),Y=i(Q),z=n(309),G=i(z),X=n(305),J=i(X),$=n(306),Z=i($),ee=n(156),te=i(ee),ne=n(327),re=i(ne),ie=n(313),oe=i(ie),ae=n(312),se=i(ae),ue=n(299),le=i(ue),ce=n(310),pe=i(ce),fe=n(326),de=i(fe),he=n(8),ye=n(55),_e=i(ye),me=n(5),ve=r(me),ge=n(79),be=r(ge);t.default=function(e){var t=function(t){be.User.getMe(_e.default.getInstance()).then(function(n){var r=n.body;e.dispatch(ve.requestMeSuccess(r)),t(r)}),be.User.getProductState(_e.default.getInstance()).then(function(t){var n=t.body;e.dispatch(ve.requestProductStateSuccess(n))})},n=function(){return e.getState().session.loggedIn},r=function(){return void 0!==e.getState().session.user&&null!==e.getState().session.user},i=function(i,o,a){if(n()){if(r())return e.dispatch((0,he.resetBackground)()),void a();t(function(){e.dispatch((0,he.resetBackground)()),a()})}else o({pathname:"/login",state:{nextPathname:i.location.pathname}}),a()},o=function(t,r){n()&&r({pathname:"/"}),e.dispatch((0,he.resetBackground)())},u=function(i,o,a){n()?r()?("/"===i.location.pathname&&o("/browse"),a()):t(function(t){e.dispatch(ve.requestMeSuccess(t)),"/"===i.location.pathname&&o("/browse"),a()}):("/login"!==i.location.pathname&&o("/login"),a())};return a.default.createElement(s.Route,{path:"/",component:l.default,onEnter:u},a.default.createElement(s.IndexRoute,{component:V.default}),a.default.createElement(s.Route,{path:"/view/:viewId",component:C.default,onEnter:i}),a.default.createElement(s.Route,{path:"/browse",component:V.default},a.default.createElement(s.IndexRedirect,{to:"featured"}),a.default.createElement(s.Route,{path:"featured",component:C.default,viewId:"web-player-home",onEnter:i}),a.default.createElement(s.Route,{path:"genres",component:C.default,viewId:"hub-browse-grid",onEnter:i}),a.default.createElement(s.Route,{path:"newreleases",component:C.default,viewId:"new-releases-page",onEnter:i}),a.default.createElement(s.Route,{path:"discover",component:C.default,viewId:"discover-page",onEnter:i})),a.default.createElement(s.Route,{path:"/artist/:artistId",component:A.default,onEnter:i},a.default.createElement(s.IndexRoute,{component:N.default,onEnter:i}),a.default.createElement(s.Route,{path:"related",component:U.default,onEnter:i}),a.default.createElement(s.Route,{path:"about",component:x.default,onEnter:i})),a.default.createElement(s.Route,{path:"/collection",component:K.default},a.default.createElement(s.IndexRedirect,{to:"playlists"}),a.default.createElement(s.Route,{path:"playlists",component:Y.default,onEnter:i}),a.default.createElement(s.Route,{path:"/daily-mix-hub",component:pe.default,onEnter:i}),a.default.createElement(s.Route,{path:"songs",component:G.default,onEnter:i}),a.default.createElement(s.Route,{path:"albums",component:J.default,onEnter:i}),a.default.createElement(s.Route,{path:"artists",component:Z.default,onEnter:i})),a.default.createElement(s.Route,{path:"/search",component:p.default,onEnter:i},a.default.createElement(s.IndexRedirect,{to:"recent"}),a.default.createElement(s.Route,{path:"recent",component:y.default,onEnter:i}),a.default.createElement(s.Route,{path:"recent/:query",component:y.default,onEnter:i}),a.default.createElement(s.Route,{path:"results/:query",component:d.default,onEnter:i}),a.default.createElement(s.Route,{path:"songs/:query",component:m.default,onEnter:i}),a.default.createElement(s.Route,{path:"albums/:query",component:g.default,onEnter:i}),a.default.createElement(s.Route,{path:"artists/:query",component:E.default,onEnter:i}),a.default.createElement(s.Route,{path:"playlists/:query",component:T.default,onEnter:i})),a.default.createElement(s.Route,{path:"/upsell",component:se.default,onEnter:i}),a.default.createElement(s.Route,{path:"/album/:albumId",component:k.default,onEnter:i}),a.default.createElement(s.Route,{path:"/show/:showId",component:P.default,onEnter:i}),a.default.createElement(s.Route,{path:"/user/:userId",component:q.default,onEnter:i}),a.default.createElement(s.Route,{path:"/user/:userId/playlist/:playlistId",component:F.default,onEnter:i}),a.default.createElement(s.Route,{path:"/track/:trackId",component:re.default,onEnter:i}),a.default.createElement(s.Route,{path:"/episode/:episodeId",component:oe.default,onEnter:i}),a.default.createElement(s.Route,{path:"/station/user/:userId/cluster/:clusterId",component:de.default,onEnter:i}),a.default.createElement(s.Route,{path:"/settings",onEnter:i},a.default.createElement(s.IndexRedirect,{to:"account"}),a.default.createElement(s.Route,{path:"account",component:le.default,onEnter:i})),a.default.createElement(s.Route,{path:"/login",component:te.default,onEnter:o}))}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){return(0,o.createStore)((0,o.combineReducers)({entities:u.default,playback:c.default,session:f.default,routing:a.routerReducer,ui:h.default,feedback:_.default,playbackHistory:v.default,searchHistory:b.default,favorites:O.default,features:S.default,tests:w.default}),e,(0,o.compose)((0,o.applyMiddleware)(R.default,I.default,L.default,M.default,D.default,j.default,B.default,H.default,W.default,(0,a.routerMiddleware)(t)),window.devToolsExtension?window.devToolsExtension():function(e){return e}))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var o=n(135),a=n(72),s=n(364),u=r(s),l=n(369),c=r(l),p=n(371),f=r(p),d=n(373),h=r(d),y=n(366),_=r(y),m=n(368),v=r(m),g=n(370),b=r(g),E=n(365),S=r(E),T=n(372),w=r(T),C=n(367),O=r(C),k=n(356),R=r(k),P=n(357),I=r(P),A=n(359),L=r(A),U=n(361),M=r(U),x=n(360),D=r(x),N=n(358),j=r(N),F=n(362),B=r(F),q=n(354),H=r(q),V=n(355),W=r(V)},function(e,t){function n(e){return"[object Arguments]"==Object.prototype.toString.call(e)}function r(e){return e&&"object"==typeof e&&"number"==typeof e.length&&Object.prototype.hasOwnProperty.call(e,"callee")&&!Object.prototype.propertyIsEnumerable.call(e,"callee")||!1}var i="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();t=e.exports=i?n:r,t.supported=n,t.unsupported=r},function(e,t){function n(e){var t=[];for(var n in e)t.push(n);return t}t=e.exports="function"==typeof Object.keys?Object.keys:n,t.shim=n},function(e,t,n){"use strict";var r=n(105),i=function(){};r&&(i=function(){return document.addEventListener?function(e,t,n,r){return e.removeEventListener(t,n,r||!1)}:document.attachEvent?function(e,t,n){return e.detachEvent("on"+t,n)}:void 0}()),e.exports=i},function(e,t,n){"use strict";var r=n(105),i=function(){};r&&(i=function(){return document.addEventListener?function(e,t,n,r){return e.addEventListener(t,n,r||!1)}:document.attachEvent?function(e,t,n){return e.attachEvent("on"+t,n)}:void 0}()),e.exports=i},function(e,t,n){"use strict";var r=n(160);e.exports=function(e,t){var n=r(e);return void 0===t?n?"pageXOffset"in n?n.pageXOffset:n.document.documentElement.scrollLeft:e.scrollLeft:void(n?n.scrollTo(t,"pageYOffset"in n?n.pageYOffset:n.document.documentElement.scrollTop):e.scrollLeft=t)}},function(e,t,n){"use strict";var r=n(160);e.exports=function(e,t){var n=r(e);return void 0===t?n?"pageYOffset"in n?n.pageYOffset:n.document.documentElement.scrollTop:e.scrollTop:void(n?n.scrollTo("pageXOffset"in n?n.pageXOffset:n.document.documentElement.scrollLeft,t):e.scrollTop=t)}},function(e,t,n){"use strict";function r(e){var t=(new Date).getTime(),n=Math.max(0,16-(t-c)),r=setTimeout(e,n);return c=t,r}var i,o=n(105),a=["","webkit","moz","o","ms"],s="clearTimeout",u=r,l=function(e,t){return e+(e?t[0].toUpperCase()+t.substr(1):t)+"AnimationFrame"};o&&a.some(function(e){var t=l(e,"request");if(t in window)return s=l(e,"cancel"),u=function(e){return window[t](e)}});var c=(new Date).getTime();i=function(e){return u(e)},i.cancel=function(e){return window[s](e)},e.exports=i},43,function(e,t){e.exports={addToPlaylistDialog:"_8mLM7yHlm3LkbcUA-bWc5",addToPlaylistDialogHeader:"_1d4a18AK0dEVj0ahbnPZAw",addToPlaylistDialogHeaderSpacing:"_2IR7pk1QHN7pIaD9SEI22E"}},43,43,function(e,t){e.exports={showMoreWrapper:"_1tms2gS09qimS06mD0y_9S"}},43,43,43,43,43,function(e,t){e.exports={burst:"JKKBXFILp09eIN4WugwgY"}},function(e,t){e.exports={content:"_1Lrre_6dB1ECsD4JsoreNj"}},43,43,function(e,t){e.exports={cdmErrorDialog:"LX8U3RZzbGeum3gNr6pQZ",cdmErrorDialogImage:"odwmYXeYViTeUxWfnEQn6",cdmErrorDialogDescription:"E_3XIkUZxRs8ev9_reyZp"}},43,43,43,function(e,t){e.exports={deletePlaylistDialog:"AfxIMwYz3d37Z8JclMTxF",btnClose:"gHLa2dYyg8HSj39GTuAmp"}},43,function(e,t){e.exports={feedbackBar:"_3pZQC_msqsNA7nsxYWWeGJ","feedbackBar--error":"_3Q-mc98lK5JBM0Cqy953Zf","feedbackBar--notice":"_2U2Al5t_hPbNw82xRks4Gy",feedbackBar__message:"_2V_DjHCvq1xvKNuCin4EKU",feedbackBar__close:"_136vzZKMy7E_xDfv7uATJ_",feedbackBar__reloadButton:"_12YEAPhRfTVqWOXTnMuQQw"}},function(e,t){e.exports={grid:"_1V5hjg9Q-uySwVgMc32TQb"}},function(e,t){e.exports={header:"_1ggXflHuWSAAo1nVpFSlQp",header_large:"_1dJ5wNF1VI49YsWnX45E9Y",header_xlarge:"_1xO4065ypFOFXxX7HNa4vT",subheader:"_3jDzDkO6Of6ut021offe4R",noMargins:"o5J6bWs0DbMqBrWqy4f1K"}},function(e,t){e.exports={hero:"ZkMs_b0D5CxRkpMsqWenC"}},function(e,t){e.exports={loadingIcon:"Q6oHnzISB5lXlCSa7l1a_"}},43,43,43,43,43,43,function(e,t){e.exports={newPlaylistDialog:"_1liImICL7GOEh1qGk6f9vH",btnClose:"_1IKWfkiyX-f9UQ_BKHgJ9a",inputBoxContainer:"_1wLr_CVCgF5x-vj1F2EkS7"}},43,43,43,43,43,43,43,43,43,43,function(e,t){e.exports={station:"ZI0UgbCT8bKeDxk-G9uhC"}},43,43,43,43,43,43,43,function(e,t){e.exports={active:"_2rScaV3bBHoj7O47a_JnaH",container:"A0f-D9GnabaNkGDu5722F",header:"_2qxszZDSg4070SwogL5b7O",headerItem:"_1IZEXeoITlpZoDbSTO79x4",headerItemLink:"Vg0L1vwJXv5JSYn-HUx0C"}},43,43,43,43,43,43,function(e,t,n){"use strict";function r(e,t){for(var n=e;n.parentNode;)n=n.parentNode;var r=n.querySelectorAll(t);return Array.prototype.indexOf.call(r,e)!==-1}var i=n(4),o={addClass:function(e,t){return/\s/.test(t)?i(!1):void 0,t&&(e.classList?e.classList.add(t):o.hasClass(e,t)||(e.className=e.className+" "+t)),e},removeClass:function(e,t){return/\s/.test(t)?i(!1):void 0,t&&(e.classList?e.classList.remove(t):o.hasClass(e,t)&&(e.className=e.className.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,""))),e},conditionClass:function(e,t,n){return(n?o.addClass:o.removeClass)(e,t)},hasClass:function(e,t){return/\s/.test(t)?i(!1):void 0,e.classList?!!t&&e.classList.contains(t):(" "+e.className+" ").indexOf(" "+t+" ")>-1},matchesSelector:function(e,t){var n=e.matches||e.webkitMatchesSelector||e.mozMatchesSelector||e.msMatchesSelector||function(t){return r(e,t)};return n.call(e,t)}};e.exports=o},function(e,t){"use strict";function n(e){return e.replace(r,function(e,t){return t.toUpperCase()})}var r=/-(.)/g;e.exports=n},function(e,t,n){"use strict";function r(e){return i(e.replace(o,"ms-"))}var i=n(441),o=/^-ms-/;e.exports=r},function(e,t,n){"use strict";function r(e,t){return!(!e||!t)&&(e===t||!i(e)&&(i(t)?r(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}var i=n(451);e.exports=r},function(e,t,n){"use strict";function r(e){var t=e.length;if(Array.isArray(e)||"object"!=typeof e&&"function"!=typeof e?a(!1):void 0,"number"!=typeof t?a(!1):void 0,0===t||t-1 in e?void 0:a(!1),"function"==typeof e.callee?a(!1):void 0,e.hasOwnProperty)try{return Array.prototype.slice.call(e)}catch(e){}for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}function i(e){return!!e&&("object"==typeof e||"function"==typeof e)&&"length"in e&&!("setInterval"in e)&&"number"!=typeof e.nodeType&&(Array.isArray(e)||"callee"in e||"item"in e)}function o(e){return i(e)?Array.isArray(e)?e.slice():r(e):[e]}var a=n(4);e.exports=o},function(e,t,n){"use strict";function r(e){var t=e.match(c);return t&&t[1].toLowerCase()}function i(e,t){var n=l;l?void 0:u(!1);var i=r(e),o=i&&s(i);if(o){n.innerHTML=o[1]+e+o[2];for(var c=o[0];c--;)n=n.lastChild}else n.innerHTML=e;var p=n.getElementsByTagName("script");p.length&&(t?void 0:u(!1),a(p).forEach(t));for(var f=Array.from(n.childNodes);n.lastChild;)n.removeChild(n.lastChild);return f}var o=n(25),a=n(444),s=n(446),u=n(4),l=o.canUseDOM?document.createElement("div"):null,c=/^\s*<(\w+)/;e.exports=i},function(e,t,n){"use strict";function r(e){return a?void 0:o(!1),f.hasOwnProperty(e)||(e="*"),s.hasOwnProperty(e)||("*"===e?a.innerHTML="<link />":a.innerHTML="<"+e+"></"+e+">",s[e]=!a.firstChild),s[e]?f[e]:null}var i=n(25),o=n(4),a=i.canUseDOM?document.createElement("div"):null,s={},u=[1,'<select multiple="true">',"</select>"],l=[1,"<table>","</table>"],c=[3,"<table><tbody><tr>","</tr></tbody></table>"],p=[1,'<svg xmlns="http://www.w3.org/2000/svg">',"</svg>"],f={"*":[1,"?<div>","</div>"],area:[1,"<map>","</map>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],legend:[1,"<fieldset>","</fieldset>"],param:[1,"<object>","</object>"],tr:[2,"<table><tbody>","</tbody></table>"],optgroup:u,option:u,caption:l,colgroup:l,tbody:l,tfoot:l,thead:l,td:c,th:c},d=["circle","clipPath","defs","ellipse","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","text","tspan"];d.forEach(function(e){f[e]=p,s[e]=!0}),e.exports=r},function(e,t){"use strict";function n(e){return e.Window&&e instanceof e.Window?{x:e.pageXOffset||e.document.documentElement.scrollLeft,y:e.pageYOffset||e.document.documentElement.scrollTop}:{x:e.scrollLeft,y:e.scrollTop}}e.exports=n},function(e,t){"use strict";function n(e){return e.replace(r,"-$1").toLowerCase()}var r=/([A-Z])/g;e.exports=n},function(e,t,n){"use strict";function r(e){return i(e).replace(o,"-ms-")}var i=n(448),o=/^ms-/;e.exports=r},function(e,t){"use strict";function n(e){var t=e?e.ownerDocument||e:document,n=t.defaultView||window;return!(!e||!("function"==typeof n.Node?e instanceof n.Node:"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName))}e.exports=n},function(e,t,n){"use strict";function r(e){return i(e)&&3==e.nodeType}var i=n(450);e.exports=r},function(e,t){"use strict";function n(e){var t={};return function(n){return t.hasOwnProperty(n)||(t[n]=e.call(this,n)),t[n]}}e.exports=n},function(e,t){"use strict";function n(e,t,n){function i(){return s=!0,u?void(c=[].concat(r.call(arguments))):void n.apply(this,arguments)}function o(){if(!s&&(l=!0,!u)){for(u=!0;!s&&a<e&&l;)l=!1,t.call(this,a++,o,i);return u=!1,s?void n.apply(this,c):void(a>=e&&l&&(s=!0,n()))}}var a=0,s=!1,u=!1,l=!1,c=void 0;o()}t.__esModule=!0;var r=Array.prototype.slice;t.loopAsync=n},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){function e(e){try{e=e||window.history.state||{}}catch(t){e={}}var t=p.getWindowPath(),n=e,r=n.key,i=void 0;r?i=f.readState(r):(i=null,r=g.createKey(),m&&window.history.replaceState(o({},e,{key:r}),null));var a=l.parsePath(t);return g.createLocation(o({},a,{state:i}),void 0,r)}function t(t){function n(t){void 0!==t.state&&r(e(t.state))}var r=t.transitionTo;return p.addEventListener(window,"popstate",n),function(){p.removeEventListener(window,"popstate",n)}}function n(e){var t=e.basename,n=e.pathname,r=e.search,i=e.hash,o=e.state,a=e.action,s=e.key;if(a!==u.POP){f.saveState(s,o);var l=(t||"")+n+r+i,c={key:s};if(a===u.PUSH){if(v)return window.location.href=l,!1;window.history.pushState(c,null,l)}else{if(v)return window.location.replace(l),!1;window.history.replaceState(c,null,l)}}}function r(e){1===++b&&(E=t(g));var n=g.listenBefore(e);return function(){n(),0===--b&&E()}}function i(e){1===++b&&(E=t(g));var n=g.listen(e);return function(){n(),0===--b&&E()}}function a(e){1===++b&&(E=t(g)),g.registerTransitionHook(e)}function d(e){g.unregisterTransitionHook(e),0===--b&&E()}var y=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];c.canUseDOM?void 0:s.default(!1);var _=y.forceRefresh,m=p.supportsHistory(),v=!m||_,g=h.default(o({},y,{getCurrentLocation:e,finishTransition:n,saveState:f.saveState})),b=0,E=void 0;return o({},g,{listenBefore:r,listen:i,registerTransitionHook:a,unregisterTransitionHook:d})}t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(21),s=r(a),u=n(45),l=n(46),c=n(82),p=n(108),f=n(107),d=n(166),h=r(d);t.default=i,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){var e=arguments.length<=0||void 0===arguments[0]?"/":arguments[0],t=arguments.length<=1||void 0===arguments[1]?s.POP:arguments[1],n=arguments.length<=2||void 0===arguments[2]?null:arguments[2],r=arguments.length<=3||void 0===arguments[3]?null:arguments[3];"string"==typeof e&&(e=u.parsePath(e)),"object"==typeof t&&(e=o({},e,{state:t}),t=n||s.POP,n=r);var i=e.pathname||"/",a=e.search||"",l=e.hash||"",c=e.state||null;return{pathname:i,search:a,hash:l,state:c,action:t,key:n}}t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},a=n(36),s=(r(a),n(45)),u=n(46);t.default=i,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){return e.filter(function(e){return e.state}).reduce(function(e,t){return e[t.key]=t.state,e},{})}function o(){function e(e,t){m[e]=t}function t(e){return m[e]}function n(){var e=y[_],n=e.basename,r=e.pathname,i=e.search,o=(n||"")+r+(i||""),s=void 0,u=void 0;e.key?(s=e.key,u=t(s)):(s=f.createKey(),u=null,e.key=s);var l=c.parsePath(o);return f.createLocation(a({},l,{state:u}),void 0,s)}function r(e){var t=_+e;return t>=0&&t<y.length}function o(e){if(e){if(!r(e))return;_+=e;var t=n();f.transitionTo(a({},t,{action:p.POP}))}}function s(t){switch(t.action){case p.PUSH:_+=1,_<y.length&&y.splice(_),y.push(t),e(t.key,t.state);break;case p.REPLACE:y[_]=t,e(t.key,t.state)}}var u=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];Array.isArray(u)?u={entries:u}:"string"==typeof u&&(u={entries:[u]});var f=d.default(a({},u,{getCurrentLocation:n,finishTransition:s,saveState:e,go:o})),h=u,y=h.entries,_=h.current;"string"==typeof y?y=[y]:Array.isArray(y)||(y=["/"]),y=y.map(function(e){var t=f.createKey();return"string"==typeof e?{pathname:e,key:t}:"object"==typeof e&&e?a({},e,{key:t}):void l.default(!1)}),null==_?_=y.length-1:_>=0&&_<y.length?void 0:l.default(!1);var m=i(y);return f}t.__esModule=!0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=n(36),u=(r(s),n(21)),l=r(u),c=n(46),p=n(45),f=n(168),d=r(f);t.default=o,e.exports=t.default},function(e,t,n){function r(e){return e instanceof Array?e.slice():e&&"object"==typeof e?h(new e.constructor,e):e}function i(){function e(n,i){p(!Array.isArray(i),"update(): You provided an invalid spec to update(). The spec may not contain an array except as the value of $set, $push, $unshift, $splice or any custom command allowing an array value."),p("object"==typeof i&&null!==i,"update(): You provided an invalid spec to update(). The spec and every included key path must be plain objects containing one of the following commands: %s.",Object.keys(t).join(", "));var o,a,s=n,u=y(i);for(o=0;o<u.length;o++){var a=u[o];if(f.call(t,a))s=t[a](i[a],s,i,n);else{var l=e(n[a],i[a]);l!==s[a]&&(s===n&&(s=r(n)),s[a]=l)}}return s}var t=h({},_);return e.extend=function(e,n){t[e]=n},e}function o(e,t,n){p(Array.isArray(e),"update(): expected target of %s to be an array; got %s.",n,e);var r=t[n];p(Array.isArray(r),"update(): expected spec of %s to be an array; got %s. Did you forget to wrap your parameter in an array?",n,r)}function a(e,t){p(Array.isArray(e),"Expected $splice target to be an array; got %s",e),s(t.$splice)}function s(e){p(Array.isArray(e),"update(): expected spec of $splice to be an array of arrays; got %s. Did you forget to wrap your parameters in an array?",e)}function u(e){p("function"==typeof e,"update(): expected spec of $apply to be a function; got %s.",e)}function l(e){p(1===Object.keys(e).length,"Cannot have more than one key in an object with $set")}function c(e,t){p(t&&"object"==typeof t,"update(): $merge expects a spec of type 'object'; got %s",t),p(e&&"object"==typeof e,"update(): $merge expects a target of type 'object'; got %s",e)}var p=n(21),f=Object.prototype.hasOwnProperty,d=Array.prototype.splice,h=Object.assign||function(e,t){for(var n=y(t),r=0;r<n.length;r++){var i=n[r];f.call(t,i)&&(e[i]=t[i])}return e},y="function"==typeof Object.getOwnPropertySymbols?function(e){return Object.keys(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.keys(e)},_={$push:function(e,t,n){return o(t,n,"$push"),t.concat(e)},$unshift:function(e,t,n){return o(t,n,"$unshift"),e.concat(t)},$splice:function(e,t,n,i){var o=t===i?r(i):t;return a(o,n),e.forEach(function(e){s(e),d.apply(o,e)}),o},$set:function(e,t,n){return l(n),e},$merge:function(e,t,n,i){var o=t===i?r(i):t;return c(o,e),y(e).forEach(function(t){o[t]=e[t]}),o},$apply:function(e,t){return u(e),e(t)}};e.exports=i(),e.exports.newContext=i},function(e,t,n){!function(t,n){e.exports=n()}(this,function(){"use strict";function e(e,t){t&&(e.prototype=Object.create(t.prototype)),e.prototype.constructor=e}function t(e){return o(e)?e:P(e)}function n(e){return a(e)?e:I(e)}function r(e){return s(e)?e:A(e)}function i(e){return o(e)&&!u(e)?e:L(e)}function o(e){return!(!e||!e[ln])}function a(e){return!(!e||!e[cn])}function s(e){return!(!e||!e[pn])}function u(e){return a(e)||s(e)}function l(e){return!(!e||!e[fn])}function c(e){return e.value=!1,e}function p(e){e&&(e.value=!0)}function f(){}function d(e,t){t=t||0;for(var n=Math.max(0,e.length-t),r=new Array(n),i=0;i<n;i++)r[i]=e[i+t];return r}function h(e){return void 0===e.size&&(e.size=e.__iterate(_)),e.size}function y(e,t){if("number"!=typeof t){var n=t>>>0;if(""+n!==t||4294967295===n)return NaN;t=n}return t<0?h(e)+t:t}function _(){return!0}function m(e,t,n){return(0===e||void 0!==n&&e<=-n)&&(void 0===t||void 0!==n&&t>=n)}function v(e,t){return b(e,t,0)}function g(e,t){
return b(e,t,t)}function b(e,t,n){return void 0===e?n:e<0?Math.max(0,t+e):void 0===t?e:Math.min(t,e)}function E(e){this.next=e}function S(e,t,n,r){var i=0===e?t:1===e?n:[t,n];return r?r.value=i:r={value:i,done:!1},r}function T(){return{value:void 0,done:!0}}function w(e){return!!k(e)}function C(e){return e&&"function"==typeof e.next}function O(e){var t=k(e);return t&&t.call(e)}function k(e){var t=e&&(Tn&&e[Tn]||e[wn]);if("function"==typeof t)return t}function R(e){return e&&"number"==typeof e.length}function P(e){return null===e||void 0===e?j():o(e)?e.toSeq():q(e)}function I(e){return null===e||void 0===e?j().toKeyedSeq():o(e)?a(e)?e.toSeq():e.fromEntrySeq():F(e)}function A(e){return null===e||void 0===e?j():o(e)?a(e)?e.entrySeq():e.toIndexedSeq():B(e)}function L(e){return(null===e||void 0===e?j():o(e)?a(e)?e.entrySeq():e:B(e)).toSetSeq()}function U(e){this._array=e,this.size=e.length}function M(e){var t=Object.keys(e);this._object=e,this._keys=t,this.size=t.length}function x(e){this._iterable=e,this.size=e.length||e.size}function D(e){this._iterator=e,this._iteratorCache=[]}function N(e){return!(!e||!e[On])}function j(){return kn||(kn=new U([]))}function F(e){var t=Array.isArray(e)?new U(e).fromEntrySeq():C(e)?new D(e).fromEntrySeq():w(e)?new x(e).fromEntrySeq():"object"==typeof e?new M(e):void 0;if(!t)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+e);return t}function B(e){var t=H(e);if(!t)throw new TypeError("Expected Array or iterable object of values: "+e);return t}function q(e){var t=H(e)||"object"==typeof e&&new M(e);if(!t)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+e);return t}function H(e){return R(e)?new U(e):C(e)?new D(e):w(e)?new x(e):void 0}function V(e,t,n,r){var i=e._cache;if(i){for(var o=i.length-1,a=0;a<=o;a++){var s=i[n?o-a:a];if(t(s[1],r?s[0]:a,e)===!1)return a+1}return a}return e.__iterateUncached(t,n)}function W(e,t,n,r){var i=e._cache;if(i){var o=i.length-1,a=0;return new E(function(){var e=i[n?o-a:a];return a++>o?T():S(t,r?e[0]:a-1,e[1])})}return e.__iteratorUncached(t,n)}function K(e,t){return t?Q(t,e,"",{"":e}):Y(e)}function Q(e,t,n,r){return Array.isArray(t)?e.call(r,n,A(t).map(function(n,r){return Q(e,n,r,t)})):z(t)?e.call(r,n,I(t).map(function(n,r){return Q(e,n,r,t)})):t}function Y(e){return Array.isArray(e)?A(e).map(Y).toList():z(e)?I(e).map(Y).toMap():e}function z(e){return e&&(e.constructor===Object||void 0===e.constructor)}function G(e,t){if(e===t||e!==e&&t!==t)return!0;if(!e||!t)return!1;if("function"==typeof e.valueOf&&"function"==typeof t.valueOf){if(e=e.valueOf(),t=t.valueOf(),e===t||e!==e&&t!==t)return!0;if(!e||!t)return!1}return!("function"!=typeof e.equals||"function"!=typeof t.equals||!e.equals(t))}function X(e,t){if(e===t)return!0;if(!o(t)||void 0!==e.size&&void 0!==t.size&&e.size!==t.size||void 0!==e.__hash&&void 0!==t.__hash&&e.__hash!==t.__hash||a(e)!==a(t)||s(e)!==s(t)||l(e)!==l(t))return!1;if(0===e.size&&0===t.size)return!0;var n=!u(e);if(l(e)){var r=e.entries();return t.every(function(e,t){var i=r.next().value;return i&&G(i[1],e)&&(n||G(i[0],t))})&&r.next().done}var i=!1;if(void 0===e.size)if(void 0===t.size)"function"==typeof e.cacheResult&&e.cacheResult();else{i=!0;var c=e;e=t,t=c}var p=!0,f=t.__iterate(function(t,r){if(n?!e.has(t):i?!G(t,e.get(r,mn)):!G(e.get(r,mn),t))return p=!1,!1});return p&&e.size===f}function J(e,t){if(!(this instanceof J))return new J(e,t);if(this._value=e,this.size=void 0===t?1/0:Math.max(0,t),0===this.size){if(Rn)return Rn;Rn=this}}function $(e,t){if(!e)throw new Error(t)}function Z(e,t,n){if(!(this instanceof Z))return new Z(e,t,n);if($(0!==n,"Cannot step a Range by 0"),e=e||0,void 0===t&&(t=1/0),n=void 0===n?1:Math.abs(n),t<e&&(n=-n),this._start=e,this._end=t,this._step=n,this.size=Math.max(0,Math.ceil((t-e)/n-1)+1),0===this.size){if(Pn)return Pn;Pn=this}}function ee(){throw TypeError("Abstract")}function te(){}function ne(){}function re(){}function ie(e){return e>>>1&1073741824|3221225471&e}function oe(e){if(e===!1||null===e||void 0===e)return 0;if("function"==typeof e.valueOf&&(e=e.valueOf(),e===!1||null===e||void 0===e))return 0;if(e===!0)return 1;var t=typeof e;if("number"===t){if(e!==e||e===1/0)return 0;var n=0|e;for(n!==e&&(n^=4294967295*e);e>4294967295;)e/=4294967295,n^=e;return ie(n)}if("string"===t)return e.length>Nn?ae(e):se(e);if("function"==typeof e.hashCode)return e.hashCode();if("object"===t)return ue(e);if("function"==typeof e.toString)return se(e.toString());throw new Error("Value type "+t+" cannot be hashed.")}function ae(e){var t=Bn[e];return void 0===t&&(t=se(e),Fn===jn&&(Fn=0,Bn={}),Fn++,Bn[e]=t),t}function se(e){for(var t=0,n=0;n<e.length;n++)t=31*t+e.charCodeAt(n)|0;return ie(t)}function ue(e){var t;if(Mn&&(t=In.get(e),void 0!==t))return t;if(t=e[Dn],void 0!==t)return t;if(!Un){if(t=e.propertyIsEnumerable&&e.propertyIsEnumerable[Dn],void 0!==t)return t;if(t=le(e),void 0!==t)return t}if(t=++xn,1073741824&xn&&(xn=0),Mn)In.set(e,t);else{if(void 0!==Ln&&Ln(e)===!1)throw new Error("Non-extensible objects are not allowed as keys.");if(Un)Object.defineProperty(e,Dn,{enumerable:!1,configurable:!1,writable:!1,value:t});else if(void 0!==e.propertyIsEnumerable&&e.propertyIsEnumerable===e.constructor.prototype.propertyIsEnumerable)e.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},e.propertyIsEnumerable[Dn]=t;else{if(void 0===e.nodeType)throw new Error("Unable to set a non-enumerable property on object.");e[Dn]=t}}return t}function le(e){if(e&&e.nodeType>0)switch(e.nodeType){case 1:return e.uniqueID;case 9:return e.documentElement&&e.documentElement.uniqueID}}function ce(e){$(e!==1/0,"Cannot perform this action with an infinite size.")}function pe(e){return null===e||void 0===e?Se():fe(e)&&!l(e)?e:Se().withMutations(function(t){var r=n(e);ce(r.size),r.forEach(function(e,n){return t.set(n,e)})})}function fe(e){return!(!e||!e[qn])}function de(e,t){this.ownerID=e,this.entries=t}function he(e,t,n){this.ownerID=e,this.bitmap=t,this.nodes=n}function ye(e,t,n){this.ownerID=e,this.count=t,this.nodes=n}function _e(e,t,n){this.ownerID=e,this.keyHash=t,this.entries=n}function me(e,t,n){this.ownerID=e,this.keyHash=t,this.entry=n}function ve(e,t,n){this._type=t,this._reverse=n,this._stack=e._root&&be(e._root)}function ge(e,t){return S(e,t[0],t[1])}function be(e,t){return{node:e,index:0,__prev:t}}function Ee(e,t,n,r){var i=Object.create(Hn);return i.size=e,i._root=t,i.__ownerID=n,i.__hash=r,i.__altered=!1,i}function Se(){return Vn||(Vn=Ee(0))}function Te(e,t,n){var r,i;if(e._root){var o=c(vn),a=c(gn);if(r=we(e._root,e.__ownerID,0,void 0,t,n,o,a),!a.value)return e;i=e.size+(o.value?n===mn?-1:1:0)}else{if(n===mn)return e;i=1,r=new de(e.__ownerID,[[t,n]])}return e.__ownerID?(e.size=i,e._root=r,e.__hash=void 0,e.__altered=!0,e):r?Ee(i,r):Se()}function we(e,t,n,r,i,o,a,s){return e?e.update(t,n,r,i,o,a,s):o===mn?e:(p(s),p(a),new me(t,r,[i,o]))}function Ce(e){return e.constructor===me||e.constructor===_e}function Oe(e,t,n,r,i){if(e.keyHash===r)return new _e(t,r,[e.entry,i]);var o,a=(0===n?e.keyHash:e.keyHash>>>n)&_n,s=(0===n?r:r>>>n)&_n,u=a===s?[Oe(e,t,n+hn,r,i)]:(o=new me(t,r,i),a<s?[e,o]:[o,e]);return new he(t,1<<a|1<<s,u)}function ke(e,t,n,r){e||(e=new f);for(var i=new me(e,oe(n),[n,r]),o=0;o<t.length;o++){var a=t[o];i=i.update(e,0,void 0,a[0],a[1])}return i}function Re(e,t,n,r){for(var i=0,o=0,a=new Array(n),s=0,u=1,l=t.length;s<l;s++,u<<=1){var c=t[s];void 0!==c&&s!==r&&(i|=u,a[o++]=c)}return new he(e,i,a)}function Pe(e,t,n,r,i){for(var o=0,a=new Array(yn),s=0;0!==n;s++,n>>>=1)a[s]=1&n?t[o++]:void 0;return a[r]=i,new ye(e,o+1,a)}function Ie(e,t,r){for(var i=[],a=0;a<r.length;a++){var s=r[a],u=n(s);o(s)||(u=u.map(function(e){return K(e)})),i.push(u)}return Ue(e,t,i)}function Ae(e,t,n){return e&&e.mergeDeep&&o(t)?e.mergeDeep(t):G(e,t)?e:t}function Le(e){return function(t,n,r){if(t&&t.mergeDeepWith&&o(n))return t.mergeDeepWith(e,n);var i=e(t,n,r);return G(t,i)?t:i}}function Ue(e,t,n){return n=n.filter(function(e){return 0!==e.size}),0===n.length?e:0!==e.size||e.__ownerID||1!==n.length?e.withMutations(function(e){for(var r=t?function(n,r){e.update(r,mn,function(e){return e===mn?n:t(e,n,r)})}:function(t,n){e.set(n,t)},i=0;i<n.length;i++)n[i].forEach(r)}):e.constructor(n[0])}function Me(e,t,n,r){var i=e===mn,o=t.next();if(o.done){var a=i?n:e,s=r(a);return s===a?e:s}$(i||e&&e.set,"invalid keyPath");var u=o.value,l=i?mn:e.get(u,mn),c=Me(l,t,n,r);return c===l?e:c===mn?e.remove(u):(i?Se():e).set(u,c)}function xe(e){return e-=e>>1&1431655765,e=(858993459&e)+(e>>2&858993459),e=e+(e>>4)&252645135,e+=e>>8,e+=e>>16,127&e}function De(e,t,n,r){var i=r?e:d(e);return i[t]=n,i}function Ne(e,t,n,r){var i=e.length+1;if(r&&t+1===i)return e[t]=n,e;for(var o=new Array(i),a=0,s=0;s<i;s++)s===t?(o[s]=n,a=-1):o[s]=e[s+a];return o}function je(e,t,n){var r=e.length-1;if(n&&t===r)return e.pop(),e;for(var i=new Array(r),o=0,a=0;a<r;a++)a===t&&(o=1),i[a]=e[a+o];return i}function Fe(e){var t=We();if(null===e||void 0===e)return t;if(Be(e))return e;var n=r(e),i=n.size;return 0===i?t:(ce(i),i>0&&i<yn?Ve(0,i,hn,null,new qe(n.toArray())):t.withMutations(function(e){e.setSize(i),n.forEach(function(t,n){return e.set(n,t)})}))}function Be(e){return!(!e||!e[Yn])}function qe(e,t){this.array=e,this.ownerID=t}function He(e,t){function n(e,t,n){return 0===t?r(e,n):i(e,t,n)}function r(e,n){var r=n===s?u&&u.array:e&&e.array,i=n>o?0:o-n,l=a-n;return l>yn&&(l=yn),function(){if(i===l)return Xn;var e=t?--l:i++;return r&&r[e]}}function i(e,r,i){var s,u=e&&e.array,l=i>o?0:o-i>>r,c=(a-i>>r)+1;return c>yn&&(c=yn),function(){for(;;){if(s){var e=s();if(e!==Xn)return e;s=null}if(l===c)return Xn;var o=t?--c:l++;s=n(u&&u[o],r-hn,i+(o<<r))}}}var o=e._origin,a=e._capacity,s=Je(a),u=e._tail;return n(e._root,e._level,0)}function Ve(e,t,n,r,i,o,a){var s=Object.create(zn);return s.size=t-e,s._origin=e,s._capacity=t,s._level=n,s._root=r,s._tail=i,s.__ownerID=o,s.__hash=a,s.__altered=!1,s}function We(){return Gn||(Gn=Ve(0,0,hn))}function Ke(e,t,n){if(t=y(e,t),t!==t)return e;if(t>=e.size||t<0)return e.withMutations(function(e){t<0?Ge(e,t).set(0,n):Ge(e,0,t+1).set(t,n)});t+=e._origin;var r=e._tail,i=e._root,o=c(gn);return t>=Je(e._capacity)?r=Qe(r,e.__ownerID,0,t,n,o):i=Qe(i,e.__ownerID,e._level,t,n,o),o.value?e.__ownerID?(e._root=i,e._tail=r,e.__hash=void 0,e.__altered=!0,e):Ve(e._origin,e._capacity,e._level,i,r):e}function Qe(e,t,n,r,i,o){var a=r>>>n&_n,s=e&&a<e.array.length;if(!s&&void 0===i)return e;var u;if(n>0){var l=e&&e.array[a],c=Qe(l,t,n-hn,r,i,o);return c===l?e:(u=Ye(e,t),u.array[a]=c,u)}return s&&e.array[a]===i?e:(p(o),u=Ye(e,t),void 0===i&&a===u.array.length-1?u.array.pop():u.array[a]=i,u)}function Ye(e,t){return t&&e&&t===e.ownerID?e:new qe(e?e.array.slice():[],t)}function ze(e,t){if(t>=Je(e._capacity))return e._tail;if(t<1<<e._level+hn){for(var n=e._root,r=e._level;n&&r>0;)n=n.array[t>>>r&_n],r-=hn;return n}}function Ge(e,t,n){void 0!==t&&(t|=0),void 0!==n&&(n|=0);var r=e.__ownerID||new f,i=e._origin,o=e._capacity,a=i+t,s=void 0===n?o:n<0?o+n:i+n;if(a===i&&s===o)return e;if(a>=s)return e.clear();for(var u=e._level,l=e._root,c=0;a+c<0;)l=new qe(l&&l.array.length?[void 0,l]:[],r),u+=hn,c+=1<<u;c&&(a+=c,i+=c,s+=c,o+=c);for(var p=Je(o),d=Je(s);d>=1<<u+hn;)l=new qe(l&&l.array.length?[l]:[],r),u+=hn;var h=e._tail,y=d<p?ze(e,s-1):d>p?new qe([],r):h;if(h&&d>p&&a<o&&h.array.length){l=Ye(l,r);for(var _=l,m=u;m>hn;m-=hn){var v=p>>>m&_n;_=_.array[v]=Ye(_.array[v],r)}_.array[p>>>hn&_n]=h}if(s<o&&(y=y&&y.removeAfter(r,0,s)),a>=d)a-=d,s-=d,u=hn,l=null,y=y&&y.removeBefore(r,0,a);else if(a>i||d<p){for(c=0;l;){var g=a>>>u&_n;if(g!==d>>>u&_n)break;g&&(c+=(1<<u)*g),u-=hn,l=l.array[g]}l&&a>i&&(l=l.removeBefore(r,u,a-c)),l&&d<p&&(l=l.removeAfter(r,u,d-c)),c&&(a-=c,s-=c)}return e.__ownerID?(e.size=s-a,e._origin=a,e._capacity=s,e._level=u,e._root=l,e._tail=y,e.__hash=void 0,e.__altered=!0,e):Ve(a,s,u,l,y)}function Xe(e,t,n){for(var i=[],a=0,s=0;s<n.length;s++){var u=n[s],l=r(u);l.size>a&&(a=l.size),o(u)||(l=l.map(function(e){return K(e)})),i.push(l)}return a>e.size&&(e=e.setSize(a)),Ue(e,t,i)}function Je(e){return e<yn?0:e-1>>>hn<<hn}function $e(e){return null===e||void 0===e?tt():Ze(e)?e:tt().withMutations(function(t){var r=n(e);ce(r.size),r.forEach(function(e,n){return t.set(n,e)})})}function Ze(e){return fe(e)&&l(e)}function et(e,t,n,r){var i=Object.create($e.prototype);return i.size=e?e.size:0,i._map=e,i._list=t,i.__ownerID=n,i.__hash=r,i}function tt(){return Jn||(Jn=et(Se(),We()))}function nt(e,t,n){var r,i,o=e._map,a=e._list,s=o.get(t),u=void 0!==s;if(n===mn){if(!u)return e;a.size>=yn&&a.size>=2*o.size?(i=a.filter(function(e,t){return void 0!==e&&s!==t}),r=i.toKeyedSeq().map(function(e){return e[0]}).flip().toMap(),e.__ownerID&&(r.__ownerID=i.__ownerID=e.__ownerID)):(r=o.remove(t),i=s===a.size-1?a.pop():a.set(s,void 0))}else if(u){if(n===a.get(s)[1])return e;r=o,i=a.set(s,[t,n])}else r=o.set(t,a.size),i=a.set(a.size,[t,n]);return e.__ownerID?(e.size=r.size,e._map=r,e._list=i,e.__hash=void 0,e):et(r,i)}function rt(e,t){this._iter=e,this._useKeys=t,this.size=e.size}function it(e){this._iter=e,this.size=e.size}function ot(e){this._iter=e,this.size=e.size}function at(e){this._iter=e,this.size=e.size}function st(e){var t=Rt(e);return t._iter=e,t.size=e.size,t.flip=function(){return e},t.reverse=function(){var t=e.reverse.apply(this);return t.flip=function(){return e.reverse()},t},t.has=function(t){return e.includes(t)},t.includes=function(t){return e.has(t)},t.cacheResult=Pt,t.__iterateUncached=function(t,n){var r=this;return e.__iterate(function(e,n){return t(n,e,r)!==!1},n)},t.__iteratorUncached=function(t,n){if(t===Sn){var r=e.__iterator(t,n);return new E(function(){var e=r.next();if(!e.done){var t=e.value[0];e.value[0]=e.value[1],e.value[1]=t}return e})}return e.__iterator(t===En?bn:En,n)},t}function ut(e,t,n){var r=Rt(e);return r.size=e.size,r.has=function(t){return e.has(t)},r.get=function(r,i){var o=e.get(r,mn);return o===mn?i:t.call(n,o,r,e)},r.__iterateUncached=function(r,i){var o=this;return e.__iterate(function(e,i,a){return r(t.call(n,e,i,a),i,o)!==!1},i)},r.__iteratorUncached=function(r,i){var o=e.__iterator(Sn,i);return new E(function(){var i=o.next();if(i.done)return i;var a=i.value,s=a[0];return S(r,s,t.call(n,a[1],s,e),i)})},r}function lt(e,t){var n=Rt(e);return n._iter=e,n.size=e.size,n.reverse=function(){return e},e.flip&&(n.flip=function(){var t=st(e);return t.reverse=function(){return e.flip()},t}),n.get=function(n,r){return e.get(t?n:-1-n,r)},n.has=function(n){return e.has(t?n:-1-n)},n.includes=function(t){return e.includes(t)},n.cacheResult=Pt,n.__iterate=function(t,n){var r=this;return e.__iterate(function(e,n){return t(e,n,r)},!n)},n.__iterator=function(t,n){return e.__iterator(t,!n)},n}function ct(e,t,n,r){var i=Rt(e);return r&&(i.has=function(r){var i=e.get(r,mn);return i!==mn&&!!t.call(n,i,r,e)},i.get=function(r,i){var o=e.get(r,mn);return o!==mn&&t.call(n,o,r,e)?o:i}),i.__iterateUncached=function(i,o){var a=this,s=0;return e.__iterate(function(e,o,u){if(t.call(n,e,o,u))return s++,i(e,r?o:s-1,a)},o),s},i.__iteratorUncached=function(i,o){var a=e.__iterator(Sn,o),s=0;return new E(function(){for(;;){var o=a.next();if(o.done)return o;var u=o.value,l=u[0],c=u[1];if(t.call(n,c,l,e))return S(i,r?l:s++,c,o)}})},i}function pt(e,t,n){var r=pe().asMutable();return e.__iterate(function(i,o){r.update(t.call(n,i,o,e),0,function(e){return e+1})}),r.asImmutable()}function ft(e,t,n){var r=a(e),i=(l(e)?$e():pe()).asMutable();e.__iterate(function(o,a){i.update(t.call(n,o,a,e),function(e){return e=e||[],e.push(r?[a,o]:o),e})});var o=kt(e);return i.map(function(t){return wt(e,o(t))})}function dt(e,t,n,r){var i=e.size;if(void 0!==t&&(t|=0),void 0!==n&&(n===1/0?n=i:n|=0),m(t,n,i))return e;var o=v(t,i),a=g(n,i);if(o!==o||a!==a)return dt(e.toSeq().cacheResult(),t,n,r);var s,u=a-o;u===u&&(s=u<0?0:u);var l=Rt(e);return l.size=0===s?s:e.size&&s||void 0,!r&&N(e)&&s>=0&&(l.get=function(t,n){return t=y(this,t),t>=0&&t<s?e.get(t+o,n):n}),l.__iterateUncached=function(t,n){var i=this;if(0===s)return 0;if(n)return this.cacheResult().__iterate(t,n);var a=0,u=!0,l=0;return e.__iterate(function(e,n){if(!u||!(u=a++<o))return l++,t(e,r?n:l-1,i)!==!1&&l!==s}),l},l.__iteratorUncached=function(t,n){if(0!==s&&n)return this.cacheResult().__iterator(t,n);var i=0!==s&&e.__iterator(t,n),a=0,u=0;return new E(function(){for(;a++<o;)i.next();if(++u>s)return T();var e=i.next();return r||t===En?e:t===bn?S(t,u-1,void 0,e):S(t,u-1,e.value[1],e)})},l}function ht(e,t,n){var r=Rt(e);return r.__iterateUncached=function(r,i){var o=this;if(i)return this.cacheResult().__iterate(r,i);var a=0;return e.__iterate(function(e,i,s){return t.call(n,e,i,s)&&++a&&r(e,i,o)}),a},r.__iteratorUncached=function(r,i){var o=this;if(i)return this.cacheResult().__iterator(r,i);var a=e.__iterator(Sn,i),s=!0;return new E(function(){if(!s)return T();var e=a.next();if(e.done)return e;var i=e.value,u=i[0],l=i[1];return t.call(n,l,u,o)?r===Sn?e:S(r,u,l,e):(s=!1,T())})},r}function yt(e,t,n,r){var i=Rt(e);return i.__iterateUncached=function(i,o){var a=this;if(o)return this.cacheResult().__iterate(i,o);var s=!0,u=0;return e.__iterate(function(e,o,l){if(!s||!(s=t.call(n,e,o,l)))return u++,i(e,r?o:u-1,a)}),u},i.__iteratorUncached=function(i,o){var a=this;if(o)return this.cacheResult().__iterator(i,o);var s=e.__iterator(Sn,o),u=!0,l=0;return new E(function(){var e,o,c;do{if(e=s.next(),e.done)return r||i===En?e:i===bn?S(i,l++,void 0,e):S(i,l++,e.value[1],e);var p=e.value;o=p[0],c=p[1],u&&(u=t.call(n,c,o,a))}while(u);return i===Sn?e:S(i,o,c,e)})},i}function _t(e,t){var r=a(e),i=[e].concat(t).map(function(e){return o(e)?r&&(e=n(e)):e=r?F(e):B(Array.isArray(e)?e:[e]),e}).filter(function(e){return 0!==e.size});if(0===i.length)return e;if(1===i.length){var u=i[0];if(u===e||r&&a(u)||s(e)&&s(u))return u}var l=new U(i);return r?l=l.toKeyedSeq():s(e)||(l=l.toSetSeq()),l=l.flatten(!0),l.size=i.reduce(function(e,t){if(void 0!==e){var n=t.size;if(void 0!==n)return e+n}},0),l}function mt(e,t,n){var r=Rt(e);return r.__iterateUncached=function(r,i){function a(e,l){var c=this;e.__iterate(function(e,i){return(!t||l<t)&&o(e)?a(e,l+1):r(e,n?i:s++,c)===!1&&(u=!0),!u},i)}var s=0,u=!1;return a(e,0),s},r.__iteratorUncached=function(r,i){var a=e.__iterator(r,i),s=[],u=0;return new E(function(){for(;a;){var e=a.next();if(e.done===!1){var l=e.value;if(r===Sn&&(l=l[1]),t&&!(s.length<t)||!o(l))return n?e:S(r,u++,l,e);s.push(a),a=l.__iterator(r,i)}else a=s.pop()}return T()})},r}function vt(e,t,n){var r=kt(e);return e.toSeq().map(function(i,o){return r(t.call(n,i,o,e))}).flatten(!0)}function gt(e,t){var n=Rt(e);return n.size=e.size&&2*e.size-1,n.__iterateUncached=function(n,r){var i=this,o=0;return e.__iterate(function(e,r){return(!o||n(t,o++,i)!==!1)&&n(e,o++,i)!==!1},r),o},n.__iteratorUncached=function(n,r){var i,o=e.__iterator(En,r),a=0;return new E(function(){return(!i||a%2)&&(i=o.next(),i.done)?i:a%2?S(n,a++,t):S(n,a++,i.value,i)})},n}function bt(e,t,n){t||(t=It);var r=a(e),i=0,o=e.toSeq().map(function(t,r){return[r,t,i++,n?n(t,r,e):t]}).toArray();return o.sort(function(e,n){return t(e[3],n[3])||e[2]-n[2]}).forEach(r?function(e,t){o[t].length=2}:function(e,t){o[t]=e[1]}),r?I(o):s(e)?A(o):L(o)}function Et(e,t,n){if(t||(t=It),n){var r=e.toSeq().map(function(t,r){return[t,n(t,r,e)]}).reduce(function(e,n){return St(t,e[1],n[1])?n:e});return r&&r[0]}return e.reduce(function(e,n){return St(t,e,n)?n:e})}function St(e,t,n){var r=e(n,t);return 0===r&&n!==t&&(void 0===n||null===n||n!==n)||r>0}function Tt(e,n,r){var i=Rt(e);return i.size=new U(r).map(function(e){return e.size}).min(),i.__iterate=function(e,t){for(var n,r=this.__iterator(En,t),i=0;!(n=r.next()).done&&e(n.value,i++,this)!==!1;);return i},i.__iteratorUncached=function(e,i){var o=r.map(function(e){return e=t(e),O(i?e.reverse():e)}),a=0,s=!1;return new E(function(){var t;return s||(t=o.map(function(e){return e.next()}),s=t.some(function(e){return e.done})),s?T():S(e,a++,n.apply(null,t.map(function(e){return e.value})))})},i}function wt(e,t){return N(e)?t:e.constructor(t)}function Ct(e){if(e!==Object(e))throw new TypeError("Expected [K, V] tuple: "+e)}function Ot(e){return ce(e.size),h(e)}function kt(e){return a(e)?n:s(e)?r:i}function Rt(e){return Object.create((a(e)?I:s(e)?A:L).prototype)}function Pt(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):P.prototype.cacheResult.call(this)}function It(e,t){return e>t?1:e<t?-1:0}function At(e){var n=O(e);if(!n){if(!R(e))throw new TypeError("Expected iterable or array-like: "+e);n=O(t(e))}return n}function Lt(e,t){var n,r=function(o){if(o instanceof r)return o;if(!(this instanceof r))return new r(o);if(!n){n=!0;var a=Object.keys(e);xt(i,a),i.size=a.length,i._name=t,i._keys=a,i._defaultValues=e}this._map=pe(o)},i=r.prototype=Object.create($n);return i.constructor=r,r}function Ut(e,t,n){var r=Object.create(Object.getPrototypeOf(e));return r._map=t,r.__ownerID=n,r}function Mt(e){return e._name||e.constructor.name||"Record"}function xt(e,t){try{t.forEach(Dt.bind(void 0,e))}catch(e){}}function Dt(e,t){Object.defineProperty(e,t,{get:function(){return this.get(t)},set:function(e){$(this.__ownerID,"Cannot set on an immutable record."),this.set(t,e)}})}function Nt(e){return null===e||void 0===e?qt():jt(e)&&!l(e)?e:qt().withMutations(function(t){var n=i(e);ce(n.size),n.forEach(function(e){return t.add(e)})})}function jt(e){return!(!e||!e[Zn])}function Ft(e,t){return e.__ownerID?(e.size=t.size,e._map=t,e):t===e._map?e:0===t.size?e.__empty():e.__make(t)}function Bt(e,t){var n=Object.create(er);return n.size=e?e.size:0,n._map=e,n.__ownerID=t,n}function qt(){return tr||(tr=Bt(Se()))}function Ht(e){return null===e||void 0===e?Kt():Vt(e)?e:Kt().withMutations(function(t){var n=i(e);ce(n.size),n.forEach(function(e){return t.add(e)})})}function Vt(e){return jt(e)&&l(e)}function Wt(e,t){var n=Object.create(nr);return n.size=e?e.size:0,n._map=e,n.__ownerID=t,n}function Kt(){return rr||(rr=Wt(tt()))}function Qt(e){return null===e||void 0===e?Gt():Yt(e)?e:Gt().unshiftAll(e)}function Yt(e){return!(!e||!e[ir])}function zt(e,t,n,r){var i=Object.create(or);return i.size=e,i._head=t,i.__ownerID=n,i.__hash=r,i.__altered=!1,i}function Gt(){return ar||(ar=zt(0))}function Xt(e,t){var n=function(n){e.prototype[n]=t[n]};return Object.keys(t).forEach(n),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach(n),e}function Jt(e,t){return t}function $t(e,t){return[t,e]}function Zt(e){return function(){return!e.apply(this,arguments)}}function en(e){return function(){return-e.apply(this,arguments)}}function tn(e){return"string"==typeof e?JSON.stringify(e):String(e)}function nn(){return d(arguments)}function rn(e,t){return e<t?1:e>t?-1:0}function on(e){if(e.size===1/0)return 0;var t=l(e),n=a(e),r=t?1:0,i=e.__iterate(n?t?function(e,t){r=31*r+sn(oe(e),oe(t))|0}:function(e,t){r=r+sn(oe(e),oe(t))|0}:t?function(e){r=31*r+oe(e)|0}:function(e){r=r+oe(e)|0});return an(i,r)}function an(e,t){return t=An(t,3432918353),t=An(t<<15|t>>>-15,461845907),t=An(t<<13|t>>>-13,5),t=(t+3864292196|0)^e,t=An(t^t>>>16,2246822507),t=An(t^t>>>13,3266489909),t=ie(t^t>>>16)}function sn(e,t){return e^t+2654435769+(e<<6)+(e>>2)|0}var un=Array.prototype.slice;e(n,t),e(r,t),e(i,t),t.isIterable=o,t.isKeyed=a,t.isIndexed=s,t.isAssociative=u,t.isOrdered=l,t.Keyed=n,t.Indexed=r,t.Set=i;var ln="@@__IMMUTABLE_ITERABLE__@@",cn="@@__IMMUTABLE_KEYED__@@",pn="@@__IMMUTABLE_INDEXED__@@",fn="@@__IMMUTABLE_ORDERED__@@",dn="delete",hn=5,yn=1<<hn,_n=yn-1,mn={},vn={value:!1},gn={value:!1},bn=0,En=1,Sn=2,Tn="function"==typeof Symbol&&Symbol.iterator,wn="@@iterator",Cn=Tn||wn;E.prototype.toString=function(){return"[Iterator]"},E.KEYS=bn,E.VALUES=En,E.ENTRIES=Sn,E.prototype.inspect=E.prototype.toSource=function(){return this.toString()},E.prototype[Cn]=function(){return this},e(P,t),P.of=function(){return P(arguments)},P.prototype.toSeq=function(){return this},P.prototype.toString=function(){return this.__toString("Seq {","}")},P.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},P.prototype.__iterate=function(e,t){return V(this,e,t,!0)},P.prototype.__iterator=function(e,t){return W(this,e,t,!0)},e(I,P),I.prototype.toKeyedSeq=function(){return this},e(A,P),A.of=function(){return A(arguments)},A.prototype.toIndexedSeq=function(){return this},A.prototype.toString=function(){return this.__toString("Seq [","]")},A.prototype.__iterate=function(e,t){return V(this,e,t,!1)},A.prototype.__iterator=function(e,t){return W(this,e,t,!1)},e(L,P),L.of=function(){return L(arguments)},L.prototype.toSetSeq=function(){return this},P.isSeq=N,P.Keyed=I,P.Set=L,P.Indexed=A;var On="@@__IMMUTABLE_SEQ__@@";P.prototype[On]=!0,e(U,A),U.prototype.get=function(e,t){return this.has(e)?this._array[y(this,e)]:t},U.prototype.__iterate=function(e,t){for(var n=this._array,r=n.length-1,i=0;i<=r;i++)if(e(n[t?r-i:i],i,this)===!1)return i+1;return i},U.prototype.__iterator=function(e,t){var n=this._array,r=n.length-1,i=0;return new E(function(){return i>r?T():S(e,i,n[t?r-i++:i++])})},e(M,I),M.prototype.get=function(e,t){return void 0===t||this.has(e)?this._object[e]:t},M.prototype.has=function(e){return this._object.hasOwnProperty(e)},M.prototype.__iterate=function(e,t){for(var n=this._object,r=this._keys,i=r.length-1,o=0;o<=i;o++){var a=r[t?i-o:o];if(e(n[a],a,this)===!1)return o+1}return o},M.prototype.__iterator=function(e,t){var n=this._object,r=this._keys,i=r.length-1,o=0;return new E(function(){var a=r[t?i-o:o];return o++>i?T():S(e,a,n[a])})},M.prototype[fn]=!0,e(x,A),x.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);var n=this._iterable,r=O(n),i=0;if(C(r))for(var o;!(o=r.next()).done&&e(o.value,i++,this)!==!1;);return i},x.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var n=this._iterable,r=O(n);if(!C(r))return new E(T);var i=0;return new E(function(){var t=r.next();return t.done?t:S(e,i++,t.value)})},e(D,A),D.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);for(var n=this._iterator,r=this._iteratorCache,i=0;i<r.length;)if(e(r[i],i++,this)===!1)return i;for(var o;!(o=n.next()).done;){var a=o.value;if(r[i]=a,e(a,i++,this)===!1)break}return i},D.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var n=this._iterator,r=this._iteratorCache,i=0;return new E(function(){if(i>=r.length){var t=n.next();if(t.done)return t;r[i]=t.value}return S(e,i,r[i++])})};var kn;e(J,A),J.prototype.toString=function(){return 0===this.size?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},J.prototype.get=function(e,t){return this.has(e)?this._value:t},J.prototype.includes=function(e){return G(this._value,e)},J.prototype.slice=function(e,t){var n=this.size;return m(e,t,n)?this:new J(this._value,g(t,n)-v(e,n))},J.prototype.reverse=function(){return this},J.prototype.indexOf=function(e){return G(this._value,e)?0:-1},J.prototype.lastIndexOf=function(e){return G(this._value,e)?this.size:-1},J.prototype.__iterate=function(e,t){for(var n=0;n<this.size;n++)if(e(this._value,n,this)===!1)return n+1;return n},J.prototype.__iterator=function(e,t){var n=this,r=0;return new E(function(){return r<n.size?S(e,r++,n._value):T()})},J.prototype.equals=function(e){return e instanceof J?G(this._value,e._value):X(e)};var Rn;e(Z,A),Z.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(1!==this._step?" by "+this._step:"")+" ]"},Z.prototype.get=function(e,t){return this.has(e)?this._start+y(this,e)*this._step:t},Z.prototype.includes=function(e){var t=(e-this._start)/this._step;return t>=0&&t<this.size&&t===Math.floor(t)},Z.prototype.slice=function(e,t){return m(e,t,this.size)?this:(e=v(e,this.size),t=g(t,this.size),t<=e?new Z(0,0):new Z(this.get(e,this._end),this.get(t,this._end),this._step))},Z.prototype.indexOf=function(e){var t=e-this._start;if(t%this._step===0){var n=t/this._step;if(n>=0&&n<this.size)return n}return-1},Z.prototype.lastIndexOf=function(e){return this.indexOf(e)},Z.prototype.__iterate=function(e,t){for(var n=this.size-1,r=this._step,i=t?this._start+n*r:this._start,o=0;o<=n;o++){if(e(i,o,this)===!1)return o+1;i+=t?-r:r}return o},Z.prototype.__iterator=function(e,t){var n=this.size-1,r=this._step,i=t?this._start+n*r:this._start,o=0;return new E(function(){var a=i;return i+=t?-r:r,o>n?T():S(e,o++,a)})},Z.prototype.equals=function(e){return e instanceof Z?this._start===e._start&&this._end===e._end&&this._step===e._step:X(this,e)};var Pn;e(ee,t),e(te,ee),e(ne,ee),e(re,ee),ee.Keyed=te,ee.Indexed=ne,ee.Set=re;var In,An="function"==typeof Math.imul&&Math.imul(4294967295,2)===-2?Math.imul:function(e,t){e|=0,t|=0;var n=65535&e,r=65535&t;return n*r+((e>>>16)*r+n*(t>>>16)<<16>>>0)|0},Ln=Object.isExtensible,Un=function(){try{return Object.defineProperty({},"@",{}),!0}catch(e){return!1}}(),Mn="function"==typeof WeakMap;Mn&&(In=new WeakMap);var xn=0,Dn="__immutablehash__";"function"==typeof Symbol&&(Dn=Symbol(Dn));var Nn=16,jn=255,Fn=0,Bn={};e(pe,te),pe.of=function(){var e=un.call(arguments,0);return Se().withMutations(function(t){for(var n=0;n<e.length;n+=2){if(n+1>=e.length)throw new Error("Missing value for key: "+e[n]);t.set(e[n],e[n+1])}})},pe.prototype.toString=function(){return this.__toString("Map {","}")},pe.prototype.get=function(e,t){return this._root?this._root.get(0,void 0,e,t):t},pe.prototype.set=function(e,t){return Te(this,e,t)},pe.prototype.setIn=function(e,t){return this.updateIn(e,mn,function(){return t})},pe.prototype.remove=function(e){return Te(this,e,mn)},pe.prototype.deleteIn=function(e){return this.updateIn(e,function(){return mn})},pe.prototype.update=function(e,t,n){return 1===arguments.length?e(this):this.updateIn([e],t,n)},pe.prototype.updateIn=function(e,t,n){n||(n=t,t=void 0);var r=Me(this,At(e),t,n);return r===mn?void 0:r},pe.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):Se()},pe.prototype.merge=function(){return Ie(this,void 0,arguments)},pe.prototype.mergeWith=function(e){var t=un.call(arguments,1);return Ie(this,e,t)},pe.prototype.mergeIn=function(e){var t=un.call(arguments,1);return this.updateIn(e,Se(),function(e){return"function"==typeof e.merge?e.merge.apply(e,t):t[t.length-1]})},pe.prototype.mergeDeep=function(){return Ie(this,Ae,arguments)},pe.prototype.mergeDeepWith=function(e){var t=un.call(arguments,1);return Ie(this,Le(e),t)},pe.prototype.mergeDeepIn=function(e){var t=un.call(arguments,1);return this.updateIn(e,Se(),function(e){return"function"==typeof e.mergeDeep?e.mergeDeep.apply(e,t):t[t.length-1]})},pe.prototype.sort=function(e){return $e(bt(this,e))},pe.prototype.sortBy=function(e,t){return $e(bt(this,t,e))},pe.prototype.withMutations=function(e){var t=this.asMutable();return e(t),t.wasAltered()?t.__ensureOwner(this.__ownerID):this},pe.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new f)},pe.prototype.asImmutable=function(){return this.__ensureOwner()},pe.prototype.wasAltered=function(){return this.__altered},pe.prototype.__iterator=function(e,t){return new ve(this,e,t)},pe.prototype.__iterate=function(e,t){var n=this,r=0;return this._root&&this._root.iterate(function(t){return r++,e(t[1],t[0],n)},t),r},pe.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?Ee(this.size,this._root,e,this.__hash):(this.__ownerID=e,this.__altered=!1,this)},pe.isMap=fe;var qn="@@__IMMUTABLE_MAP__@@",Hn=pe.prototype;Hn[qn]=!0,Hn[dn]=Hn.remove,Hn.removeIn=Hn.deleteIn,de.prototype.get=function(e,t,n,r){for(var i=this.entries,o=0,a=i.length;o<a;o++)if(G(n,i[o][0]))return i[o][1];return r},de.prototype.update=function(e,t,n,r,i,o,a){for(var s=i===mn,u=this.entries,l=0,c=u.length;l<c&&!G(r,u[l][0]);l++);
var f=l<c;if(f?u[l][1]===i:s)return this;if(p(a),(s||!f)&&p(o),!s||1!==u.length){if(!f&&!s&&u.length>=Wn)return ke(e,u,r,i);var h=e&&e===this.ownerID,y=h?u:d(u);return f?s?l===c-1?y.pop():y[l]=y.pop():y[l]=[r,i]:y.push([r,i]),h?(this.entries=y,this):new de(e,y)}},he.prototype.get=function(e,t,n,r){void 0===t&&(t=oe(n));var i=1<<((0===e?t:t>>>e)&_n),o=this.bitmap;return 0===(o&i)?r:this.nodes[xe(o&i-1)].get(e+hn,t,n,r)},he.prototype.update=function(e,t,n,r,i,o,a){void 0===n&&(n=oe(r));var s=(0===t?n:n>>>t)&_n,u=1<<s,l=this.bitmap,c=0!==(l&u);if(!c&&i===mn)return this;var p=xe(l&u-1),f=this.nodes,d=c?f[p]:void 0,h=we(d,e,t+hn,n,r,i,o,a);if(h===d)return this;if(!c&&h&&f.length>=Kn)return Pe(e,f,l,s,h);if(c&&!h&&2===f.length&&Ce(f[1^p]))return f[1^p];if(c&&h&&1===f.length&&Ce(h))return h;var y=e&&e===this.ownerID,_=c?h?l:l^u:l|u,m=c?h?De(f,p,h,y):je(f,p,y):Ne(f,p,h,y);return y?(this.bitmap=_,this.nodes=m,this):new he(e,_,m)},ye.prototype.get=function(e,t,n,r){void 0===t&&(t=oe(n));var i=(0===e?t:t>>>e)&_n,o=this.nodes[i];return o?o.get(e+hn,t,n,r):r},ye.prototype.update=function(e,t,n,r,i,o,a){void 0===n&&(n=oe(r));var s=(0===t?n:n>>>t)&_n,u=i===mn,l=this.nodes,c=l[s];if(u&&!c)return this;var p=we(c,e,t+hn,n,r,i,o,a);if(p===c)return this;var f=this.count;if(c){if(!p&&(f--,f<Qn))return Re(e,l,f,s)}else f++;var d=e&&e===this.ownerID,h=De(l,s,p,d);return d?(this.count=f,this.nodes=h,this):new ye(e,f,h)},_e.prototype.get=function(e,t,n,r){for(var i=this.entries,o=0,a=i.length;o<a;o++)if(G(n,i[o][0]))return i[o][1];return r},_e.prototype.update=function(e,t,n,r,i,o,a){void 0===n&&(n=oe(r));var s=i===mn;if(n!==this.keyHash)return s?this:(p(a),p(o),Oe(this,e,t,n,[r,i]));for(var u=this.entries,l=0,c=u.length;l<c&&!G(r,u[l][0]);l++);var f=l<c;if(f?u[l][1]===i:s)return this;if(p(a),(s||!f)&&p(o),s&&2===c)return new me(e,this.keyHash,u[1^l]);var h=e&&e===this.ownerID,y=h?u:d(u);return f?s?l===c-1?y.pop():y[l]=y.pop():y[l]=[r,i]:y.push([r,i]),h?(this.entries=y,this):new _e(e,this.keyHash,y)},me.prototype.get=function(e,t,n,r){return G(n,this.entry[0])?this.entry[1]:r},me.prototype.update=function(e,t,n,r,i,o,a){var s=i===mn,u=G(r,this.entry[0]);return(u?i===this.entry[1]:s)?this:(p(a),s?void p(o):u?e&&e===this.ownerID?(this.entry[1]=i,this):new me(e,this.keyHash,[r,i]):(p(o),Oe(this,e,t,oe(r),[r,i])))},de.prototype.iterate=_e.prototype.iterate=function(e,t){for(var n=this.entries,r=0,i=n.length-1;r<=i;r++)if(e(n[t?i-r:r])===!1)return!1},he.prototype.iterate=ye.prototype.iterate=function(e,t){for(var n=this.nodes,r=0,i=n.length-1;r<=i;r++){var o=n[t?i-r:r];if(o&&o.iterate(e,t)===!1)return!1}},me.prototype.iterate=function(e,t){return e(this.entry)},e(ve,E),ve.prototype.next=function(){for(var e=this._type,t=this._stack;t;){var n,r=t.node,i=t.index++;if(r.entry){if(0===i)return ge(e,r.entry)}else if(r.entries){if(n=r.entries.length-1,i<=n)return ge(e,r.entries[this._reverse?n-i:i])}else if(n=r.nodes.length-1,i<=n){var o=r.nodes[this._reverse?n-i:i];if(o){if(o.entry)return ge(e,o.entry);t=this._stack=be(o,t)}continue}t=this._stack=this._stack.__prev}return T()};var Vn,Wn=yn/4,Kn=yn/2,Qn=yn/4;e(Fe,ne),Fe.of=function(){return this(arguments)},Fe.prototype.toString=function(){return this.__toString("List [","]")},Fe.prototype.get=function(e,t){if(e=y(this,e),e>=0&&e<this.size){e+=this._origin;var n=ze(this,e);return n&&n.array[e&_n]}return t},Fe.prototype.set=function(e,t){return Ke(this,e,t)},Fe.prototype.remove=function(e){return this.has(e)?0===e?this.shift():e===this.size-1?this.pop():this.splice(e,1):this},Fe.prototype.insert=function(e,t){return this.splice(e,0,t)},Fe.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=hn,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):We()},Fe.prototype.push=function(){var e=arguments,t=this.size;return this.withMutations(function(n){Ge(n,0,t+e.length);for(var r=0;r<e.length;r++)n.set(t+r,e[r])})},Fe.prototype.pop=function(){return Ge(this,0,-1)},Fe.prototype.unshift=function(){var e=arguments;return this.withMutations(function(t){Ge(t,-e.length);for(var n=0;n<e.length;n++)t.set(n,e[n])})},Fe.prototype.shift=function(){return Ge(this,1)},Fe.prototype.merge=function(){return Xe(this,void 0,arguments)},Fe.prototype.mergeWith=function(e){var t=un.call(arguments,1);return Xe(this,e,t)},Fe.prototype.mergeDeep=function(){return Xe(this,Ae,arguments)},Fe.prototype.mergeDeepWith=function(e){var t=un.call(arguments,1);return Xe(this,Le(e),t)},Fe.prototype.setSize=function(e){return Ge(this,0,e)},Fe.prototype.slice=function(e,t){var n=this.size;return m(e,t,n)?this:Ge(this,v(e,n),g(t,n))},Fe.prototype.__iterator=function(e,t){var n=0,r=He(this,t);return new E(function(){var t=r();return t===Xn?T():S(e,n++,t)})},Fe.prototype.__iterate=function(e,t){for(var n,r=0,i=He(this,t);(n=i())!==Xn&&e(n,r++,this)!==!1;);return r},Fe.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?Ve(this._origin,this._capacity,this._level,this._root,this._tail,e,this.__hash):(this.__ownerID=e,this)},Fe.isList=Be;var Yn="@@__IMMUTABLE_LIST__@@",zn=Fe.prototype;zn[Yn]=!0,zn[dn]=zn.remove,zn.setIn=Hn.setIn,zn.deleteIn=zn.removeIn=Hn.removeIn,zn.update=Hn.update,zn.updateIn=Hn.updateIn,zn.mergeIn=Hn.mergeIn,zn.mergeDeepIn=Hn.mergeDeepIn,zn.withMutations=Hn.withMutations,zn.asMutable=Hn.asMutable,zn.asImmutable=Hn.asImmutable,zn.wasAltered=Hn.wasAltered,qe.prototype.removeBefore=function(e,t,n){if(n===t?1<<t:0===this.array.length)return this;var r=n>>>t&_n;if(r>=this.array.length)return new qe([],e);var i,o=0===r;if(t>0){var a=this.array[r];if(i=a&&a.removeBefore(e,t-hn,n),i===a&&o)return this}if(o&&!i)return this;var s=Ye(this,e);if(!o)for(var u=0;u<r;u++)s.array[u]=void 0;return i&&(s.array[r]=i),s},qe.prototype.removeAfter=function(e,t,n){if(n===(t?1<<t:0)||0===this.array.length)return this;var r=n-1>>>t&_n;if(r>=this.array.length)return this;var i;if(t>0){var o=this.array[r];if(i=o&&o.removeAfter(e,t-hn,n),i===o&&r===this.array.length-1)return this}var a=Ye(this,e);return a.array.splice(r+1),i&&(a.array[r]=i),a};var Gn,Xn={};e($e,pe),$e.of=function(){return this(arguments)},$e.prototype.toString=function(){return this.__toString("OrderedMap {","}")},$e.prototype.get=function(e,t){var n=this._map.get(e);return void 0!==n?this._list.get(n)[1]:t},$e.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):tt()},$e.prototype.set=function(e,t){return nt(this,e,t)},$e.prototype.remove=function(e){return nt(this,e,mn)},$e.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},$e.prototype.__iterate=function(e,t){var n=this;return this._list.__iterate(function(t){return t&&e(t[1],t[0],n)},t)},$e.prototype.__iterator=function(e,t){return this._list.fromEntrySeq().__iterator(e,t)},$e.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e),n=this._list.__ensureOwner(e);return e?et(t,n,e,this.__hash):(this.__ownerID=e,this._map=t,this._list=n,this)},$e.isOrderedMap=Ze,$e.prototype[fn]=!0,$e.prototype[dn]=$e.prototype.remove;var Jn;e(rt,I),rt.prototype.get=function(e,t){return this._iter.get(e,t)},rt.prototype.has=function(e){return this._iter.has(e)},rt.prototype.valueSeq=function(){return this._iter.valueSeq()},rt.prototype.reverse=function(){var e=this,t=lt(this,!0);return this._useKeys||(t.valueSeq=function(){return e._iter.toSeq().reverse()}),t},rt.prototype.map=function(e,t){var n=this,r=ut(this,e,t);return this._useKeys||(r.valueSeq=function(){return n._iter.toSeq().map(e,t)}),r},rt.prototype.__iterate=function(e,t){var n,r=this;return this._iter.__iterate(this._useKeys?function(t,n){return e(t,n,r)}:(n=t?Ot(this):0,function(i){return e(i,t?--n:n++,r)}),t)},rt.prototype.__iterator=function(e,t){if(this._useKeys)return this._iter.__iterator(e,t);var n=this._iter.__iterator(En,t),r=t?Ot(this):0;return new E(function(){var i=n.next();return i.done?i:S(e,t?--r:r++,i.value,i)})},rt.prototype[fn]=!0,e(it,A),it.prototype.includes=function(e){return this._iter.includes(e)},it.prototype.__iterate=function(e,t){var n=this,r=0;return this._iter.__iterate(function(t){return e(t,r++,n)},t)},it.prototype.__iterator=function(e,t){var n=this._iter.__iterator(En,t),r=0;return new E(function(){var t=n.next();return t.done?t:S(e,r++,t.value,t)})},e(ot,L),ot.prototype.has=function(e){return this._iter.includes(e)},ot.prototype.__iterate=function(e,t){var n=this;return this._iter.__iterate(function(t){return e(t,t,n)},t)},ot.prototype.__iterator=function(e,t){var n=this._iter.__iterator(En,t);return new E(function(){var t=n.next();return t.done?t:S(e,t.value,t.value,t)})},e(at,I),at.prototype.entrySeq=function(){return this._iter.toSeq()},at.prototype.__iterate=function(e,t){var n=this;return this._iter.__iterate(function(t){if(t){Ct(t);var r=o(t);return e(r?t.get(1):t[1],r?t.get(0):t[0],n)}},t)},at.prototype.__iterator=function(e,t){var n=this._iter.__iterator(En,t);return new E(function(){for(;;){var t=n.next();if(t.done)return t;var r=t.value;if(r){Ct(r);var i=o(r);return S(e,i?r.get(0):r[0],i?r.get(1):r[1],t)}}})},it.prototype.cacheResult=rt.prototype.cacheResult=ot.prototype.cacheResult=at.prototype.cacheResult=Pt,e(Lt,te),Lt.prototype.toString=function(){return this.__toString(Mt(this)+" {","}")},Lt.prototype.has=function(e){return this._defaultValues.hasOwnProperty(e)},Lt.prototype.get=function(e,t){if(!this.has(e))return t;var n=this._defaultValues[e];return this._map?this._map.get(e,n):n},Lt.prototype.clear=function(){if(this.__ownerID)return this._map&&this._map.clear(),this;var e=this.constructor;return e._empty||(e._empty=Ut(this,Se()))},Lt.prototype.set=function(e,t){if(!this.has(e))throw new Error('Cannot set unknown key "'+e+'" on '+Mt(this));if(this._map&&!this._map.has(e)){var n=this._defaultValues[e];if(t===n)return this}var r=this._map&&this._map.set(e,t);return this.__ownerID||r===this._map?this:Ut(this,r)},Lt.prototype.remove=function(e){if(!this.has(e))return this;var t=this._map&&this._map.remove(e);return this.__ownerID||t===this._map?this:Ut(this,t)},Lt.prototype.wasAltered=function(){return this._map.wasAltered()},Lt.prototype.__iterator=function(e,t){var r=this;return n(this._defaultValues).map(function(e,t){return r.get(t)}).__iterator(e,t)},Lt.prototype.__iterate=function(e,t){var r=this;return n(this._defaultValues).map(function(e,t){return r.get(t)}).__iterate(e,t)},Lt.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map&&this._map.__ensureOwner(e);return e?Ut(this,t,e):(this.__ownerID=e,this._map=t,this)};var $n=Lt.prototype;$n[dn]=$n.remove,$n.deleteIn=$n.removeIn=Hn.removeIn,$n.merge=Hn.merge,$n.mergeWith=Hn.mergeWith,$n.mergeIn=Hn.mergeIn,$n.mergeDeep=Hn.mergeDeep,$n.mergeDeepWith=Hn.mergeDeepWith,$n.mergeDeepIn=Hn.mergeDeepIn,$n.setIn=Hn.setIn,$n.update=Hn.update,$n.updateIn=Hn.updateIn,$n.withMutations=Hn.withMutations,$n.asMutable=Hn.asMutable,$n.asImmutable=Hn.asImmutable,e(Nt,re),Nt.of=function(){return this(arguments)},Nt.fromKeys=function(e){return this(n(e).keySeq())},Nt.prototype.toString=function(){return this.__toString("Set {","}")},Nt.prototype.has=function(e){return this._map.has(e)},Nt.prototype.add=function(e){return Ft(this,this._map.set(e,!0))},Nt.prototype.remove=function(e){return Ft(this,this._map.remove(e))},Nt.prototype.clear=function(){return Ft(this,this._map.clear())},Nt.prototype.union=function(){var e=un.call(arguments,0);return e=e.filter(function(e){return 0!==e.size}),0===e.length?this:0!==this.size||this.__ownerID||1!==e.length?this.withMutations(function(t){for(var n=0;n<e.length;n++)i(e[n]).forEach(function(e){return t.add(e)})}):this.constructor(e[0])},Nt.prototype.intersect=function(){var e=un.call(arguments,0);if(0===e.length)return this;e=e.map(function(e){return i(e)});var t=this;return this.withMutations(function(n){t.forEach(function(t){e.every(function(e){return e.includes(t)})||n.remove(t)})})},Nt.prototype.subtract=function(){var e=un.call(arguments,0);if(0===e.length)return this;e=e.map(function(e){return i(e)});var t=this;return this.withMutations(function(n){t.forEach(function(t){e.some(function(e){return e.includes(t)})&&n.remove(t)})})},Nt.prototype.merge=function(){return this.union.apply(this,arguments)},Nt.prototype.mergeWith=function(e){var t=un.call(arguments,1);return this.union.apply(this,t)},Nt.prototype.sort=function(e){return Ht(bt(this,e))},Nt.prototype.sortBy=function(e,t){return Ht(bt(this,t,e))},Nt.prototype.wasAltered=function(){return this._map.wasAltered()},Nt.prototype.__iterate=function(e,t){var n=this;return this._map.__iterate(function(t,r){return e(r,r,n)},t)},Nt.prototype.__iterator=function(e,t){return this._map.map(function(e,t){return t}).__iterator(e,t)},Nt.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e);return e?this.__make(t,e):(this.__ownerID=e,this._map=t,this)},Nt.isSet=jt;var Zn="@@__IMMUTABLE_SET__@@",er=Nt.prototype;er[Zn]=!0,er[dn]=er.remove,er.mergeDeep=er.merge,er.mergeDeepWith=er.mergeWith,er.withMutations=Hn.withMutations,er.asMutable=Hn.asMutable,er.asImmutable=Hn.asImmutable,er.__empty=qt,er.__make=Bt;var tr;e(Ht,Nt),Ht.of=function(){return this(arguments)},Ht.fromKeys=function(e){return this(n(e).keySeq())},Ht.prototype.toString=function(){return this.__toString("OrderedSet {","}")},Ht.isOrderedSet=Vt;var nr=Ht.prototype;nr[fn]=!0,nr.__empty=Kt,nr.__make=Wt;var rr;e(Qt,ne),Qt.of=function(){return this(arguments)},Qt.prototype.toString=function(){return this.__toString("Stack [","]")},Qt.prototype.get=function(e,t){var n=this._head;for(e=y(this,e);n&&e--;)n=n.next;return n?n.value:t},Qt.prototype.peek=function(){return this._head&&this._head.value},Qt.prototype.push=function(){if(0===arguments.length)return this;for(var e=this.size+arguments.length,t=this._head,n=arguments.length-1;n>=0;n--)t={value:arguments[n],next:t};return this.__ownerID?(this.size=e,this._head=t,this.__hash=void 0,this.__altered=!0,this):zt(e,t)},Qt.prototype.pushAll=function(e){if(e=r(e),0===e.size)return this;ce(e.size);var t=this.size,n=this._head;return e.reverse().forEach(function(e){t++,n={value:e,next:n}}),this.__ownerID?(this.size=t,this._head=n,this.__hash=void 0,this.__altered=!0,this):zt(t,n)},Qt.prototype.pop=function(){return this.slice(1)},Qt.prototype.unshift=function(){return this.push.apply(this,arguments)},Qt.prototype.unshiftAll=function(e){return this.pushAll(e)},Qt.prototype.shift=function(){return this.pop.apply(this,arguments)},Qt.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):Gt()},Qt.prototype.slice=function(e,t){if(m(e,t,this.size))return this;var n=v(e,this.size),r=g(t,this.size);if(r!==this.size)return ne.prototype.slice.call(this,e,t);for(var i=this.size-n,o=this._head;n--;)o=o.next;return this.__ownerID?(this.size=i,this._head=o,this.__hash=void 0,this.__altered=!0,this):zt(i,o)},Qt.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?zt(this.size,this._head,e,this.__hash):(this.__ownerID=e,this.__altered=!1,this)},Qt.prototype.__iterate=function(e,t){if(t)return this.reverse().__iterate(e);for(var n=0,r=this._head;r&&e(r.value,n++,this)!==!1;)r=r.next;return n},Qt.prototype.__iterator=function(e,t){if(t)return this.reverse().__iterator(e);var n=0,r=this._head;return new E(function(){if(r){var t=r.value;return r=r.next,S(e,n++,t)}return T()})},Qt.isStack=Yt;var ir="@@__IMMUTABLE_STACK__@@",or=Qt.prototype;or[ir]=!0,or.withMutations=Hn.withMutations,or.asMutable=Hn.asMutable,or.asImmutable=Hn.asImmutable,or.wasAltered=Hn.wasAltered;var ar;t.Iterator=E,Xt(t,{toArray:function(){ce(this.size);var e=new Array(this.size||0);return this.valueSeq().__iterate(function(t,n){e[n]=t}),e},toIndexedSeq:function(){return new it(this)},toJS:function(){return this.toSeq().map(function(e){return e&&"function"==typeof e.toJS?e.toJS():e}).__toJS()},toJSON:function(){return this.toSeq().map(function(e){return e&&"function"==typeof e.toJSON?e.toJSON():e}).__toJS()},toKeyedSeq:function(){return new rt(this,!0)},toMap:function(){return pe(this.toKeyedSeq())},toObject:function(){ce(this.size);var e={};return this.__iterate(function(t,n){e[n]=t}),e},toOrderedMap:function(){return $e(this.toKeyedSeq())},toOrderedSet:function(){return Ht(a(this)?this.valueSeq():this)},toSet:function(){return Nt(a(this)?this.valueSeq():this)},toSetSeq:function(){return new ot(this)},toSeq:function(){return s(this)?this.toIndexedSeq():a(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return Qt(a(this)?this.valueSeq():this)},toList:function(){return Fe(a(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(e,t){return 0===this.size?e+t:e+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+t},concat:function(){var e=un.call(arguments,0);return wt(this,_t(this,e))},includes:function(e){return this.some(function(t){return G(t,e)})},entries:function(){return this.__iterator(Sn)},every:function(e,t){ce(this.size);var n=!0;return this.__iterate(function(r,i,o){if(!e.call(t,r,i,o))return n=!1,!1}),n},filter:function(e,t){return wt(this,ct(this,e,t,!0))},find:function(e,t,n){var r=this.findEntry(e,t);return r?r[1]:n},forEach:function(e,t){return ce(this.size),this.__iterate(t?e.bind(t):e)},join:function(e){ce(this.size),e=void 0!==e?""+e:",";var t="",n=!0;return this.__iterate(function(r){n?n=!1:t+=e,t+=null!==r&&void 0!==r?r.toString():""}),t},keys:function(){return this.__iterator(bn)},map:function(e,t){return wt(this,ut(this,e,t))},reduce:function(e,t,n){ce(this.size);var r,i;return arguments.length<2?i=!0:r=t,this.__iterate(function(t,o,a){i?(i=!1,r=t):r=e.call(n,r,t,o,a)}),r},reduceRight:function(e,t,n){var r=this.toKeyedSeq().reverse();return r.reduce.apply(r,arguments)},reverse:function(){return wt(this,lt(this,!0))},slice:function(e,t){return wt(this,dt(this,e,t,!0))},some:function(e,t){return!this.every(Zt(e),t)},sort:function(e){return wt(this,bt(this,e))},values:function(){return this.__iterator(En)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some(function(){return!0})},count:function(e,t){return h(e?this.toSeq().filter(e,t):this)},countBy:function(e,t){return pt(this,e,t)},equals:function(e){return X(this,e)},entrySeq:function(){var e=this;if(e._cache)return new U(e._cache);var t=e.toSeq().map($t).toIndexedSeq();return t.fromEntrySeq=function(){return e.toSeq()},t},filterNot:function(e,t){return this.filter(Zt(e),t)},findEntry:function(e,t,n){var r=n;return this.__iterate(function(n,i,o){if(e.call(t,n,i,o))return r=[i,n],!1}),r},findKey:function(e,t){var n=this.findEntry(e,t);return n&&n[0]},findLast:function(e,t,n){return this.toKeyedSeq().reverse().find(e,t,n)},findLastEntry:function(e,t,n){return this.toKeyedSeq().reverse().findEntry(e,t,n)},findLastKey:function(e,t){return this.toKeyedSeq().reverse().findKey(e,t)},first:function(){return this.find(_)},flatMap:function(e,t){return wt(this,vt(this,e,t))},flatten:function(e){return wt(this,mt(this,e,!0))},fromEntrySeq:function(){return new at(this)},get:function(e,t){return this.find(function(t,n){return G(n,e)},void 0,t)},getIn:function(e,t){for(var n,r=this,i=At(e);!(n=i.next()).done;){var o=n.value;if(r=r&&r.get?r.get(o,mn):mn,r===mn)return t}return r},groupBy:function(e,t){return ft(this,e,t)},has:function(e){return this.get(e,mn)!==mn},hasIn:function(e){return this.getIn(e,mn)!==mn},isSubset:function(e){return e="function"==typeof e.includes?e:t(e),this.every(function(t){return e.includes(t)})},isSuperset:function(e){return e="function"==typeof e.isSubset?e:t(e),e.isSubset(this)},keyOf:function(e){return this.findKey(function(t){return G(t,e)})},keySeq:function(){return this.toSeq().map(Jt).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},lastKeyOf:function(e){return this.toKeyedSeq().reverse().keyOf(e)},max:function(e){return Et(this,e)},maxBy:function(e,t){return Et(this,t,e)},min:function(e){return Et(this,e?en(e):rn)},minBy:function(e,t){return Et(this,t?en(t):rn,e)},rest:function(){return this.slice(1)},skip:function(e){return this.slice(Math.max(0,e))},skipLast:function(e){return wt(this,this.toSeq().reverse().skip(e).reverse())},skipWhile:function(e,t){return wt(this,yt(this,e,t,!0))},skipUntil:function(e,t){return this.skipWhile(Zt(e),t)},sortBy:function(e,t){return wt(this,bt(this,t,e))},take:function(e){return this.slice(0,Math.max(0,e))},takeLast:function(e){return wt(this,this.toSeq().reverse().take(e).reverse())},takeWhile:function(e,t){return wt(this,ht(this,e,t))},takeUntil:function(e,t){return this.takeWhile(Zt(e),t)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=on(this))}});var sr=t.prototype;sr[ln]=!0,sr[Cn]=sr.values,sr.__toJS=sr.toArray,sr.__toStringMapper=tn,sr.inspect=sr.toSource=function(){return this.toString()},sr.chain=sr.flatMap,sr.contains=sr.includes,Xt(n,{flip:function(){return wt(this,st(this))},mapEntries:function(e,t){var n=this,r=0;return wt(this,this.toSeq().map(function(i,o){return e.call(t,[o,i],r++,n)}).fromEntrySeq())},mapKeys:function(e,t){var n=this;return wt(this,this.toSeq().flip().map(function(r,i){return e.call(t,r,i,n)}).flip())}});var ur=n.prototype;ur[cn]=!0,ur[Cn]=sr.entries,ur.__toJS=sr.toObject,ur.__toStringMapper=function(e,t){return JSON.stringify(t)+": "+tn(e)},Xt(r,{toKeyedSeq:function(){return new rt(this,!1)},filter:function(e,t){return wt(this,ct(this,e,t,!1))},findIndex:function(e,t){var n=this.findEntry(e,t);return n?n[0]:-1},indexOf:function(e){var t=this.keyOf(e);return void 0===t?-1:t},lastIndexOf:function(e){var t=this.lastKeyOf(e);return void 0===t?-1:t},reverse:function(){return wt(this,lt(this,!1))},slice:function(e,t){return wt(this,dt(this,e,t,!1))},splice:function(e,t){var n=arguments.length;if(t=Math.max(0|t,0),0===n||2===n&&!t)return this;e=v(e,e<0?this.count():this.size);var r=this.slice(0,e);return wt(this,1===n?r:r.concat(d(arguments,2),this.slice(e+t)))},findLastIndex:function(e,t){var n=this.findLastEntry(e,t);return n?n[0]:-1},first:function(){return this.get(0)},flatten:function(e){return wt(this,mt(this,e,!1))},get:function(e,t){return e=y(this,e),e<0||this.size===1/0||void 0!==this.size&&e>this.size?t:this.find(function(t,n){return n===e},void 0,t)},has:function(e){return e=y(this,e),e>=0&&(void 0!==this.size?this.size===1/0||e<this.size:this.indexOf(e)!==-1)},interpose:function(e){return wt(this,gt(this,e))},interleave:function(){var e=[this].concat(d(arguments)),t=Tt(this.toSeq(),A.of,e),n=t.flatten(!0);return t.size&&(n.size=t.size*e.length),wt(this,n)},keySeq:function(){return Z(0,this.size)},last:function(){return this.get(-1)},skipWhile:function(e,t){return wt(this,yt(this,e,t,!1))},zip:function(){var e=[this].concat(d(arguments));return wt(this,Tt(this,nn,e))},zipWith:function(e){var t=d(arguments);return t[0]=this,wt(this,Tt(this,e,t))}}),r.prototype[pn]=!0,r.prototype[fn]=!0,Xt(i,{get:function(e,t){return this.has(e)?e:t},includes:function(e){return this.has(e)},keySeq:function(){return this.valueSeq()}}),i.prototype.has=sr.includes,i.prototype.contains=i.prototype.includes,Xt(I,n.prototype),Xt(A,r.prototype),Xt(L,i.prototype),Xt(te,n.prototype),Xt(ne,r.prototype),Xt(re,i.prototype);var lr={Iterable:t,Seq:P,Collection:ee,Map:pe,OrderedMap:$e,List:Fe,Stack:Qt,Set:Nt,OrderedSet:Ht,Record:Lt,Range:Z,Repeat:J,is:G,fromJS:K};return lr})},function(e,t){e.exports={tagged:"2.14.1-9b569a7",version:"2.14.1",revision:"9b569a7"}},function(e,t){e.exports={tagged:"4.10.4-39ed371",version:"4.10.4",revision:"39ed371"}},function(e,t){e.exports={tagged:"1.7.2-5f6f7f2",version:"1.7.2",revision:"5f6f7f2"}},function(e,t,n){function r(e){return null==e?void 0===e?u:s:l&&l in Object(e)?o(e):a(e)}var i=n(171),o=n(465),a=n(466),s="[object Null]",u="[object Undefined]",l=i?i.toStringTag:void 0;e.exports=r},function(e,t){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(t,function(){return this}())},function(e,t,n){var r=n(467),i=r(Object.getPrototypeOf,Object);e.exports=i},function(e,t,n){function r(e){var t=a.call(e,u),n=e[u];try{e[u]=void 0;var r=!0}catch(e){}var i=s.call(e);return r&&(t?e[u]=n:delete e[u]),i}var i=n(171),o=Object.prototype,a=o.hasOwnProperty,s=o.toString,u=i?i.toStringTag:void 0;e.exports=r},function(e,t){function n(e){return i.call(e)}var r=Object.prototype,i=r.toString;e.exports=n},function(e,t){function n(e,t){return function(n){return e(t(n))}}e.exports=n},function(e,t,n){var r=n(463),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();e.exports=o},function(e,t){function n(e){return null!=e&&"object"==typeof e}e.exports=n},function(e,t){if(!n)var n={map:function(e,t){var n={};return t?e.map(function(e,r){return n.index=r,t.call(n,e)}):e.slice()},naturalOrder:function(e,t){return e<t?-1:e>t?1:0},sum:function(e,t){var n={};return e.reduce(t?function(e,r,i){return n.index=i,e+t.call(n,r)}:function(e,t){return e+t},0)},max:function(e,t){return Math.max.apply(null,t?n.map(e,t):e)}};var r=function(){function e(e,t,n){return(e<<2*l)+(t<<l)+n}function t(e){function t(){n.sort(e),r=!0}var n=[],r=!1;return{push:function(e){n.push(e),r=!1},peek:function(e){return r||t(),void 0===e&&(e=n.length-1),n[e]},pop:function(){return r||t(),n.pop()},size:function(){return n.length},map:function(e){return n.map(e)},debug:function(){return r||t(),n}}}function r(e,t,n,r,i,o,a){var s=this;s.r1=e,s.r2=t,s.g1=n,s.g2=r,s.b1=i,s.b2=o,s.histo=a}function i(){this.vboxes=new t(function(e,t){return n.naturalOrder(e.vbox.count()*e.vbox.volume(),t.vbox.count()*t.vbox.volume())})}function o(t){var n,r,i,o,a=1<<3*l,s=new Array(a);return t.forEach(function(t){r=t[0]>>c,i=t[1]>>c,o=t[2]>>c,n=e(r,i,o),s[n]=(s[n]||0)+1}),s}function a(e,t){var n,i,o,a=1e6,s=0,u=1e6,l=0,p=1e6,f=0;return e.forEach(function(e){n=e[0]>>c,i=e[1]>>c,o=e[2]>>c,n<a?a=n:n>s&&(s=n),i<u?u=i:i>l&&(l=i),o<p?p=o:o>f&&(f=o)}),new r(a,s,u,l,p,f,t)}function s(t,r){function i(e){var t,n,i,o,a,s=e+"1",u=e+"2",c=0;for(l=r[s];l<=r[u];l++)if(y[l]>h/2){for(i=r.copy(),o=r.copy(),t=l-r[s],n=r[u]-l,a=t<=n?Math.min(r[u]-1,~~(l+n/2)):Math.max(r[s],~~(l-1-t/2));!y[a];)a++;for(c=_[a];!c&&y[a-1];)c=_[--a];return i[u]=a,o[s]=i[u]+1,[i,o]}}if(r.count()){var o=r.r2-r.r1+1,a=r.g2-r.g1+1,s=r.b2-r.b1+1,u=n.max([o,a,s]);if(1==r.count())return[r.copy()];var l,c,p,f,d,h=0,y=[],_=[];if(u==o)for(l=r.r1;l<=r.r2;l++){for(f=0,c=r.g1;c<=r.g2;c++)for(p=r.b1;p<=r.b2;p++)d=e(l,c,p),f+=t[d]||0;h+=f,y[l]=h}else if(u==a)for(l=r.g1;l<=r.g2;l++){for(f=0,c=r.r1;c<=r.r2;c++)for(p=r.b1;p<=r.b2;p++)d=e(c,l,p),f+=t[d]||0;h+=f,y[l]=h}else for(l=r.b1;l<=r.b2;l++){for(f=0,c=r.r1;c<=r.r2;c++)for(p=r.g1;p<=r.g2;p++)d=e(c,p,l),f+=t[d]||0;h+=f,y[l]=h}return y.forEach(function(e,t){_[t]=h-e}),i(u==o?"r":u==a?"g":"b")}}function u(e,r){function u(e,t){for(var n,r=1,i=0;i<p;)if(n=e.pop(),n.count()){var o=s(l,n),a=o[0],u=o[1];if(!a)return;if(e.push(a),u&&(e.push(u),r++),r>=t)return;if(i++>p)return}else e.push(n),i++}if(!e.length||r<2||r>256)return!1;var l=o(e),c=0;l.forEach(function(){c++});var d=a(e,l),h=new t(function(e,t){return n.naturalOrder(e.count(),t.count())});h.push(d),u(h,f*r);for(var y=new t(function(e,t){return n.naturalOrder(e.count()*e.volume(),t.count()*t.volume())});h.size();)y.push(h.pop());u(y,r-y.size());for(var _=new i;y.size();)_.push(y.pop());return _}var l=5,c=8-l,p=1e3,f=.75;return r.prototype={volume:function(e){var t=this;return t._volume&&!e||(t._volume=(t.r2-t.r1+1)*(t.g2-t.g1+1)*(t.b2-t.b1+1)),t._volume},count:function(t){var n=this,r=n.histo;if(!n._count_set||t){var i,o,a,s,u=0;for(i=n.r1;i<=n.r2;i++)for(o=n.g1;o<=n.g2;o++)for(a=n.b1;a<=n.b2;a++)s=e(i,o,a),u+=r[s]||0;n._count=u,n._count_set=!0}return n._count},copy:function(){var e=this;return new r(e.r1,e.r2,e.g1,e.g2,e.b1,e.b2,e.histo)},avg:function(t){var n=this,r=n.histo;if(!n._avg||t){var i,o,a,s,u,c=0,p=1<<8-l,f=0,d=0,h=0;for(o=n.r1;o<=n.r2;o++)for(a=n.g1;a<=n.g2;a++)for(s=n.b1;s<=n.b2;s++)u=e(o,a,s),i=r[u]||0,c+=i,f+=i*(o+.5)*p,d+=i*(a+.5)*p,h+=i*(s+.5)*p;c?n._avg=[~~(f/c),~~(d/c),~~(h/c)]:n._avg=[~~(p*(n.r1+n.r2+1)/2),~~(p*(n.g1+n.g2+1)/2),~~(p*(n.b1+n.b2+1)/2)]}return n._avg},contains:function(e){var t=this,n=e[0]>>c;return gval=e[1]>>c,bval=e[2]>>c,n>=t.r1&&n<=t.r2&&gval>=t.g1&&gval<=t.g2&&bval>=t.b1&&bval<=t.b2}},i.prototype={push:function(e){this.vboxes.push({vbox:e,color:e.avg()})},palette:function(){return this.vboxes.map(function(e){return e.color})},size:function(){return this.vboxes.size()},map:function(e){for(var t=this.vboxes,n=0;n<t.size();n++)if(t.peek(n).vbox.contains(e))return t.peek(n).color;return this.nearest(e)},nearest:function(e){for(var t,n,r,i=this.vboxes,o=0;o<i.size();o++)n=Math.sqrt(Math.pow(e[0]-i.peek(o).color[0],2)+Math.pow(e[1]-i.peek(o).color[1],2)+Math.pow(e[2]-i.peek(o).color[2],2)),(n<t||void 0===t)&&(t=n,r=i.peek(o).color);return r},forcebw:function(){var e=this.vboxes;e.sort(function(e,t){return n.naturalOrder(n.sum(e.color),n.sum(t.color))});var t=e[0].color;t[0]<5&&t[1]<5&&t[2]<5&&(e[0].color=[0,0,0]);var r=e.length-1,i=e[r].color;i[0]>251&&i[1]>251&&i[2]>251&&(e[r].color=[255,255,255])}},{quantize:u}}();e.exports=r.quantize},function(e,t,n){"use strict";var r=n(651);t.extract=function(e){return e.split("?")[1]||""},t.parse=function(e){return"string"!=typeof e?{}:(e=e.trim().replace(/^(\?|#|&)/,""),e?e.split("&").reduce(function(e,t){var n=t.replace(/\+/g," ").split("="),r=n.shift(),i=n.length>0?n.join("="):void 0;return r=decodeURIComponent(r),i=void 0===i?null:decodeURIComponent(i),e.hasOwnProperty(r)?Array.isArray(e[r])?e[r].push(i):e[r]=[e[r],i]:e[r]=i,e},{}):{})},t.stringify=function(e){return e?Object.keys(e).sort().map(function(t){var n=e[t];return void 0===n?"":null===n?t:Array.isArray(n)?n.slice().sort().map(function(e){return r(t)+"="+r(e)}).join("&"):r(t)+"="+r(n)}).filter(function(e){return e.length>0}).join("&"):""}},function(e,t,n){e.exports=n(580)},function(e,t){"use strict";function n(e){if(void 0===e)return void console.error("Autobind error: No context provided.");var t=Object.getPrototypeOf(e);o=arguments.length>1?Array.prototype.slice.call(arguments,1):Object.getOwnPropertyNames(t),o.forEach(function(e){var n=Object.getOwnPropertyDescriptor(t,e);return void 0===n?void console.warn('Autobind: "'+e+'" method not found in class.'):void(i.indexOf(e)===-1&&"function"==typeof n.value&&Object.defineProperty(t,e,r(t,e,n)))})}function r(e,t,n){var r=n.value;return{configurable:!0,get:function(){if(this===e||this.hasOwnProperty(t))return r;var n=r.bind(this);return Object.defineProperty(this,t,{value:n,configurable:!0,writable:!0}),n}}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n;var i=["constructor","render","componentWillMount","componentDidMount","componentWillReceiveProps","shouldComponentUpdate","componentWillUpdate","componentDidUpdate","componentWillUnmount"],o=[];e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){
return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),l=r(u),c=n(14),p=r(c),f=n(172),d=r(f),h=n(85),y=n(56),_=function(e){function t(e){i(this,t);var n=o(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.registerHandlers=function(){document.addEventListener("mousedown",n.handleOutsideClick),document.addEventListener("ontouchstart",n.handleOutsideClick),document.addEventListener("scroll",n.handleHide),document.addEventListener("contextmenu",n.handleHide),window.addEventListener("resize",n.handleHide)},n.unregisterHandlers=function(){document.removeEventListener("mousedown",n.handleOutsideClick),document.removeEventListener("ontouchstart",n.handleOutsideClick),document.removeEventListener("scroll",n.handleHide),document.removeEventListener("contextmenu",n.handleHide),window.removeEventListener("resize",n.handleHide)},n.handleShow=function(e){if(e.detail.id===n.props.id){var t=e.detail.position,r=t.x,i=t.y;n.setState({isVisible:!0,x:r,y:i}),n.registerHandlers(),(0,y.callIfExists)(n.props.onShow,e)}},n.handleHide=function(e){n.unregisterHandlers(),n.setState({isVisible:!1}),(0,y.callIfExists)(n.props.onHide,e)},n.handleOutsideClick=function(e){n.menu.contains(e.target)||(0,h.hideMenu)()},n.getMenuPosition=function(e,t){var r=window,i=r.innerWidth,o=r.innerHeight,a=n.menu.getBoundingClientRect(),s={top:t,left:e};return t+a.height>o&&(s.top-=a.height),e+a.width>i&&(s.left-=a.width),s.top<0&&(s.top=a.height<o?(o-a.height)/2:0),s.left<0&&(s.left=a.width<i?(i-a.width)/2:0),s},n.menuRef=function(e){n.menu=e},n.state={x:0,y:0,isVisible:!1},n}return a(t,e),s(t,[{key:"componentDidMount",value:function(){this.listenId=d.default.register(this.handleShow,this.handleHide)}},{key:"componentDidUpdate",value:function(){var e=this;this.state.isVisible?!function(){var t=window.requestAnimationFrame||setTimeout;t(function(){var n=e.state,r=n.x,i=n.y,o=e.getMenuPosition(r,i),a=o.top,s=o.left;t(function(){e.menu.style.top=a+"px",e.menu.style.left=s+"px",e.menu.style.opacity=1,e.menu.style.pointerEvents="auto",e.menu.classList.add(y.cssClasses.menuVisible)})})}():(this.menu.style.opacity=0,this.menu.style.pointerEvents="none",this.menu.classList.remove(y.cssClasses.menuVisible))}},{key:"componentWillUnmount",value:function(){this.listenId&&d.default.unregister(this.listenId),this.unregisterHandlers()}},{key:"render",value:function(){var e=this.props,t=e.children,n=e.className,r=this.state,i=r.top,o=r.left,a={position:"fixed",top:i,left:o,opacity:0,pointerEvents:"none"};return l.default.createElement("nav",{ref:this.menuRef,style:a,className:(0,p.default)(y.cssClasses.menu,n),onContextMenu:this.handleHide},t)}}]),t}(u.Component);_.propTypes={id:u.PropTypes.string.isRequired,className:u.PropTypes.string,onHide:u.PropTypes.func,onShow:u.PropTypes.func},t.default=_},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),u=n(1),l=r(u),c=n(14),p=r(c),f=n(11),d=r(f),h=n(85),y=n(56),_=function(e){function t(){var e,n,r,a;i(this,t);for(var s=arguments.length,u=Array(s),l=0;l<s;l++)u[l]=arguments[l];return n=r=o(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),r.handleMouseDown=function(e){r.props.holdToDisplay>=0&&0===e.button&&(e.persist(),r.mouseDownTimeoutId=setTimeout(function(){return r.handleContextClick(e)},r.props.holdToDisplay))},r.handleMouseUp=function(e){0===e.button&&clearTimeout(r.mouseDownTimeoutId)},r.handleTouchstart=function(e){r.props.holdToDisplay>=0&&(e.persist(),r.touchstartTimeoutId=setTimeout(function(){return r.handleContextClick(e)},r.props.holdToDisplay))},r.handleTouchEnd=function(e){e.preventDefault(),clearTimeout(r.touchstartTimeoutId)},r.handleContextClick=function(e){e.preventDefault(),e.stopPropagation();var t=e.clientX||e.touches&&e.touches[0].pageX,n=e.clientY||e.touches&&e.touches[0].pageY;(0,h.hideMenu)(),(0,h.showMenu)({position:{x:t,y:n},target:r.elem,id:r.props.id,data:(0,y.callIfExists)(r.props.collect,r.props)})},r.elemRef=function(e){r.elem=e},a=n,o(r,a)}return a(t,e),s(t,[{key:"render",value:function(){var e=this.props,t=e.renderTag,n=e.attributes,r=e.children,i=(0,d.default)({},n,{className:(0,p.default)(y.cssClasses.menuWrapper,n.className),onContextMenu:this.handleContextClick,onMouseDown:this.handleMouseDown,onMouseUp:this.handleMouseUp,onTouchStart:this.handleTouchstart,onTouchEnd:this.handleTouchEnd,onMouseOut:this.handleMouseUp,ref:this.elemRef});return l.default.createElement(t,i,r)}}]),t}(u.Component);_.propTypes={id:u.PropTypes.string.isRequired,attributes:u.PropTypes.object,collect:u.PropTypes.func,holdToDisplay:u.PropTypes.number,renderTag:u.PropTypes.node},_.defaultProps={attributes:{},holdToDisplay:1e3,renderTag:"div"},t.default=_},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),c=n(1),p=r(c),f=n(14),d=r(f),h=n(11),y=r(h),_=n(85),m=n(56),v=function(e){function t(){var e,n,r,i;o(this,t);for(var s=arguments.length,u=Array(s),l=0;l<s;l++)u[l]=arguments[l];return n=r=a(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(u))),r.handleClick=function(e){e.preventDefault(),r.props.disabled||((0,m.callIfExists)(r.props.onClick,e,(0,y.default)({},r.props.data,m.store.data),m.store.target),r.props.preventClose||(0,_.hideMenu)())},i=n,a(r,i)}return s(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.disabled,n=e.children,r=e.attributes,o=(0,d.default)(m.cssClasses.menuItem,r&&r.className,i({},m.cssClasses.menuItemDisabled,t));return p.default.createElement("div",u({},r,{className:o,onTouchEnd:this.handleClick,onClick:this.handleClick}),n)}}]),t}(c.Component);v.propTypes={attributes:c.PropTypes.object,data:c.PropTypes.object,disabled:c.PropTypes.bool,preventClose:c.PropTypes.bool,onClick:c.PropTypes.func},v.defaultProps={disabled:!1,data:{},attributes:{}},t.default=v},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),l=n(1),c=r(l),p=n(14),f=r(p),d=n(56),h=function(e){function t(e){o(this,t);var n=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleClick=function(e){e.preventDefault()},n.handleMouseEnter=function(){n.closetimer&&clearTimeout(n.closetimer),n.props.disabled||n.state.visible||(n.opentimer=setTimeout(function(){return n.setState({visible:!0})},n.props.hoverDelay))},n.handleMouseLeave=function(){n.opentimer&&clearTimeout(n.opentimer),n.state.visible&&(n.closetimer=setTimeout(function(){return n.setState({visible:!1})},n.props.hoverDelay))},n.getMenuPosition=function(){var e=window,t=e.innerWidth,r=e.innerHeight,i=n.subMenu.getBoundingClientRect(),o={};return i.bottom>r?o.bottom=0:o.top=0,i.right<t?o.left="100%":o.right="100%",o},n.getRTLMenuPosition=function(){var e=window,t=e.innerHeight,r=n.subMenu.getBoundingClientRect(),i={};return r.bottom>t?i.bottom=0:i.top=0,r.left<0?i.left="100%":i.right="100%",i},n.menuRef=function(e){n.menu=e},n.subMenuRef=function(e){n.subMenu=e},n.state={visible:!1},n}return s(t,e),u(t,[{key:"shouldComponentUpdate",value:function(e,t){return this.state.isVisible!==t.visible}},{key:"componentDidUpdate",value:function(){var e=this;if(this.state.visible){var t=window.requestAnimationFrame||setTimeout;t(function(){var t=e.props.rtl?e.getRTLMenuPosition():e.getMenuPosition();e.subMenu.style.removeProperty("top"),e.subMenu.style.removeProperty("bottom"),e.subMenu.style.removeProperty("left"),e.subMenu.style.removeProperty("right"),(0,d.hasOwnProp)(t,"top")&&(e.subMenu.style.top=t.top),(0,d.hasOwnProp)(t,"left")&&(e.subMenu.style.left=t.left),(0,d.hasOwnProp)(t,"bottom")&&(e.subMenu.style.bottom=t.bottom),(0,d.hasOwnProp)(t,"right")&&(e.subMenu.style.right=t.right),e.subMenu.classList.add(d.cssClasses.menuVisible)})}else this.subMenu.classList.remove(d.cssClasses.menuVisible),this.subMenu.style.removeProperty("bottom"),this.subMenu.style.removeProperty("right"),this.subMenu.style.top=0,this.subMenu.style.left="100%"}},{key:"componentWillUnmount",value:function(){this.opentimer&&clearTimeout(this.opentimer),this.closetimer&&clearTimeout(this.closetimer)}},{key:"render",value:function(){var e,t=this.props,n=t.children,r=t.disabled,o=t.title,a=this.state.visible,s={ref:this.menuRef,onMouseEnter:this.handleMouseEnter,onMouseLeave:this.handleMouseLeave,className:(0,f.default)(d.cssClasses.menuItem,d.cssClasses.subMenu),style:{position:"relative"}},u={className:(0,f.default)(d.cssClasses.menuItem,(e={},i(e,d.cssClasses.menuItemDisabled,r),i(e,d.cssClasses.menuItemActive,a),e)),onClick:this.handleClick},l={ref:this.subMenuRef,style:{position:"absolute",top:0,left:"100%"},className:(0,f.default)(d.cssClasses.menu,this.props.className)};return c.default.createElement("nav",s,c.default.createElement("div",u,o),c.default.createElement("nav",l,n))}}]),t}(l.Component);h.propTypes={title:l.PropTypes.node.isRequired,className:l.PropTypes.string,disabled:l.PropTypes.bool,hoverDelay:l.PropTypes.number,rtl:l.PropTypes.bool},h.defaultProps={disabled:!1,hoverDelay:500},t.default=h},function(e,t,n){"use strict";e.exports=n(176)},function(e,t){"use strict";var n={Properties:{"aria-current":0,"aria-details":0,"aria-disabled":0,"aria-hidden":0,"aria-invalid":0,"aria-keyshortcuts":0,"aria-label":0,"aria-roledescription":0,"aria-autocomplete":0,"aria-checked":0,"aria-expanded":0,"aria-haspopup":0,"aria-level":0,"aria-modal":0,"aria-multiline":0,"aria-multiselectable":0,"aria-orientation":0,"aria-placeholder":0,"aria-pressed":0,"aria-readonly":0,"aria-required":0,"aria-selected":0,"aria-sort":0,"aria-valuemax":0,"aria-valuemin":0,"aria-valuenow":0,"aria-valuetext":0,"aria-atomic":0,"aria-busy":0,"aria-live":0,"aria-relevant":0,"aria-dropeffect":0,"aria-grabbed":0,"aria-activedescendant":0,"aria-colcount":0,"aria-colindex":0,"aria-colspan":0,"aria-controls":0,"aria-describedby":0,"aria-errormessage":0,"aria-flowto":0,"aria-labelledby":0,"aria-owns":0,"aria-posinset":0,"aria-rowcount":0,"aria-rowindex":0,"aria-rowspan":0,"aria-setsize":0},DOMAttributeNames:{},DOMPropertyNames:{}};e.exports=n},function(e,t,n){"use strict";var r=n(18),i=n(164),o={focusDOMComponent:function(){i(r.getNodeFromInstance(this))}};e.exports=o},function(e,t,n){"use strict";function r(){var e=window.opera;return"object"==typeof e&&"function"==typeof e.version&&parseInt(e.version(),10)<=12}function i(e){return(e.ctrlKey||e.altKey||e.metaKey)&&!(e.ctrlKey&&e.altKey)}function o(e){switch(e){case"topCompositionStart":return O.compositionStart;case"topCompositionEnd":return O.compositionEnd;case"topCompositionUpdate":return O.compositionUpdate}}function a(e,t){return"topKeyDown"===e&&t.keyCode===g}function s(e,t){switch(e){case"topKeyUp":return v.indexOf(t.keyCode)!==-1;case"topKeyDown":return t.keyCode!==g;case"topKeyPress":case"topMouseDown":case"topBlur":return!0;default:return!1}}function u(e){var t=e.detail;return"object"==typeof t&&"data"in t?t.data:null}function l(e,t,n,r){var i,l;if(b?i=o(e):R?s(e,n)&&(i=O.compositionEnd):a(e,n)&&(i=O.compositionStart),!i)return null;T&&(R||i!==O.compositionStart?i===O.compositionEnd&&R&&(l=R.getData()):R=y.getPooled(r));var c=_.getPooled(i,t,n,r);if(l)c.data=l;else{var p=u(n);null!==p&&(c.data=p)}return d.accumulateTwoPhaseDispatches(c),c}function c(e,t){switch(e){case"topCompositionEnd":return u(t);case"topKeyPress":var n=t.which;return n!==w?null:(k=!0,C);case"topTextInput":var r=t.data;return r===C&&k?null:r;default:return null}}function p(e,t){if(R){if("topCompositionEnd"===e||!b&&s(e,t)){var n=R.getData();return y.release(R),R=null,n}return null}switch(e){case"topPaste":return null;case"topKeyPress":return t.which&&!i(t)?String.fromCharCode(t.which):null;case"topCompositionEnd":return T?null:t.data;default:return null}}function f(e,t,n,r){var i;if(i=S?c(e,n):p(e,n),!i)return null;var o=m.getPooled(O.beforeInput,t,n,r);return o.data=i,d.accumulateTwoPhaseDispatches(o),o}var d=n(69),h=n(25),y=n(487),_=n(523),m=n(526),v=[9,13,27,32],g=229,b=h.canUseDOM&&"CompositionEvent"in window,E=null;h.canUseDOM&&"documentMode"in document&&(E=document.documentMode);var S=h.canUseDOM&&"TextEvent"in window&&!E&&!r(),T=h.canUseDOM&&(!b||E&&E>8&&E<=11),w=32,C=String.fromCharCode(w),O={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["topCompositionEnd","topKeyPress","topTextInput","topPaste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:["topBlur","topCompositionEnd","topKeyDown","topKeyPress","topKeyUp","topMouseDown"]},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:["topBlur","topCompositionStart","topKeyDown","topKeyPress","topKeyUp","topMouseDown"]},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:["topBlur","topCompositionUpdate","topKeyDown","topKeyPress","topKeyUp","topMouseDown"]}},k=!1,R=null,P={eventTypes:O,extractEvents:function(e,t,n,r){return[l(e,t,n,r),f(e,t,n,r)]}};e.exports=P},function(e,t,n){"use strict";var r=n(173),i=n(25),o=(n(33),n(442),n(532)),a=n(449),s=n(452),u=(n(6),s(function(e){return a(e)})),l=!1,c="cssFloat";if(i.canUseDOM){var p=document.createElement("div").style;try{p.font=""}catch(e){l=!0}void 0===document.documentElement.style.cssFloat&&(c="styleFloat")}var f={createMarkupForStyles:function(e,t){var n="";for(var r in e)if(e.hasOwnProperty(r)){var i=e[r];null!=i&&(n+=u(r)+":",n+=o(r,i,t)+";")}return n||null},setValueForStyles:function(e,t,n){var i=e.style;for(var a in t)if(t.hasOwnProperty(a)){var s=o(a,t[a],n);if("float"!==a&&"cssFloat"!==a||(a=c),s)i[a]=s;else{var u=l&&r.shorthandPropertyExpansions[a];if(u)for(var p in u)i[p]="";else i[a]=""}}}};e.exports=f},function(e,t,n){"use strict";function r(e){var t=e.nodeName&&e.nodeName.toLowerCase();return"select"===t||"input"===t&&"file"===e.type}function i(e){var t=T.getPooled(k.change,P,e,w(e));g.accumulateTwoPhaseDispatches(t),S.batchedUpdates(o,t)}function o(e){v.enqueueEvents(e),v.processEventQueue(!1)}function a(e,t){R=e,P=t,R.attachEvent("onchange",i)}function s(){R&&(R.detachEvent("onchange",i),R=null,P=null)}function u(e,t){if("topChange"===e)return t}function l(e,t,n){"topFocus"===e?(s(),a(t,n)):"topBlur"===e&&s()}function c(e,t){R=e,P=t,I=e.value,A=Object.getOwnPropertyDescriptor(e.constructor.prototype,"value"),Object.defineProperty(R,"value",M),R.attachEvent?R.attachEvent("onpropertychange",f):R.addEventListener("propertychange",f,!1)}function p(){R&&(delete R.value,R.detachEvent?R.detachEvent("onpropertychange",f):R.removeEventListener("propertychange",f,!1),R=null,P=null,I=null,A=null)}function f(e){if("value"===e.propertyName){var t=e.srcElement.value;t!==I&&(I=t,i(e))}}function d(e,t){if("topInput"===e)return t}function h(e,t,n){"topFocus"===e?(p(),c(t,n)):"topBlur"===e&&p()}function y(e,t){if(("topSelectionChange"===e||"topKeyUp"===e||"topKeyDown"===e)&&R&&R.value!==I)return I=R.value,P}function _(e){return e.nodeName&&"input"===e.nodeName.toLowerCase()&&("checkbox"===e.type||"radio"===e.type)}function m(e,t){if("topClick"===e)return t}var v=n(68),g=n(69),b=n(25),E=n(18),S=n(37),T=n(38),w=n(124),C=n(125),O=n(192),k={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:["topBlur","topChange","topClick","topFocus","topInput","topKeyDown","topKeyUp","topSelectionChange"]}},R=null,P=null,I=null,A=null,L=!1;b.canUseDOM&&(L=C("change")&&(!document.documentMode||document.documentMode>8));var U=!1;b.canUseDOM&&(U=C("input")&&(!document.documentMode||document.documentMode>11));var M={get:function(){return A.get.call(this)},set:function(e){I=""+e,A.set.call(this,e)}},x={eventTypes:k,extractEvents:function(e,t,n,i){var o,a,s=t?E.getNodeFromInstance(t):window;if(r(s)?L?o=u:a=l:O(s)?U?o=d:(o=y,a=h):_(s)&&(o=m),o){var c=o(e,t);if(c){var p=T.getPooled(k.change,c,n,i);return p.type="change",g.accumulateTwoPhaseDispatches(p),p}}a&&a(e,s,t)}};e.exports=x},function(e,t,n){"use strict";var r=n(10),i=n(57),o=n(25),a=n(445),s=n(31),u=(n(4),{dangerouslyReplaceNodeWithMarkup:function(e,t){if(o.canUseDOM?void 0:r("56"),t?void 0:r("57"),"HTML"===e.nodeName?r("58"):void 0,"string"==typeof t){var n=a(t,s)[0];e.parentNode.replaceChild(n,e)}else i.replaceChildWithTree(e,t)}});e.exports=u},function(e,t){"use strict";var n=["ResponderEventPlugin","SimpleEventPlugin","TapEventPlugin","EnterLeaveEventPlugin","ChangeEventPlugin","SelectEventPlugin","BeforeInputEventPlugin"];e.exports=n},function(e,t,n){"use strict";var r=n(69),i=n(18),o=n(87),a={mouseEnter:{registrationName:"onMouseEnter",dependencies:["topMouseOut","topMouseOver"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["topMouseOut","topMouseOver"]}},s={eventTypes:a,extractEvents:function(e,t,n,s){if("topMouseOver"===e&&(n.relatedTarget||n.fromElement))return null;if("topMouseOut"!==e&&"topMouseOver"!==e)return null;var u;if(s.window===s)u=s;else{var l=s.ownerDocument;u=l?l.defaultView||l.parentWindow:window}var c,p;if("topMouseOut"===e){c=t;var f=n.relatedTarget||n.toElement;p=f?i.getClosestInstanceFromNode(f):null}else c=null,p=t;if(c===p)return null;var d=null==c?u:i.getNodeFromInstance(c),h=null==p?u:i.getNodeFromInstance(p),y=o.getPooled(a.mouseLeave,c,n,s);y.type="mouseleave",y.target=d,y.relatedTarget=h;var _=o.getPooled(a.mouseEnter,p,n,s);return _.type="mouseenter",_.target=h,_.relatedTarget=d,r.accumulateEnterLeaveDispatches(y,_,c,p),[y,_]}};e.exports=s},function(e,t,n){"use strict";function r(e){this._root=e,this._startText=this.getText(),this._fallbackText=null}var i=n(11),o=n(47),a=n(189);i(r.prototype,{destructor:function(){this._root=null,this._startText=null,this._fallbackText=null},getText:function(){return"value"in this._root?this._root.value:this._root[a()]},getData:function(){if(this._fallbackText)return this._fallbackText;var e,t,n=this._startText,r=n.length,i=this.getText(),o=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[o-t];t++);var s=t>1?1-t:void 0;return this._fallbackText=i.slice(e,s),this._fallbackText}}),o.addPoolingTo(r),e.exports=r},function(e,t,n){"use strict";var r=n(58),i=r.injection.MUST_USE_PROPERTY,o=r.injection.HAS_BOOLEAN_VALUE,a=r.injection.HAS_NUMERIC_VALUE,s=r.injection.HAS_POSITIVE_NUMERIC_VALUE,u=r.injection.HAS_OVERLOADED_BOOLEAN_VALUE,l={isCustomAttribute:RegExp.prototype.test.bind(new RegExp("^(data|aria)-["+r.ATTRIBUTE_NAME_CHAR+"]*$")),Properties:{accept:0,acceptCharset:0,accessKey:0,action:0,allowFullScreen:o,allowTransparency:0,alt:0,as:0,async:o,autoComplete:0,autoPlay:o,capture:o,cellPadding:0,cellSpacing:0,charSet:0,challenge:0,checked:i|o,cite:0,classID:0,className:0,cols:s,colSpan:0,content:0,contentEditable:0,contextMenu:0,controls:o,coords:0,crossOrigin:0,data:0,dateTime:0,default:o,defer:o,dir:0,disabled:o,download:u,draggable:0,encType:0,form:0,formAction:0,formEncType:0,formMethod:0,formNoValidate:o,formTarget:0,frameBorder:0,headers:0,height:0,hidden:o,high:0,href:0,hrefLang:0,htmlFor:0,httpEquiv:0,icon:0,id:0,inputMode:0,integrity:0,is:0,keyParams:0,keyType:0,kind:0,label:0,lang:0,list:0,loop:o,low:0,manifest:0,marginHeight:0,marginWidth:0,max:0,maxLength:0,media:0,mediaGroup:0,method:0,min:0,minLength:0,multiple:i|o,muted:i|o,name:0,nonce:0,noValidate:o,open:o,optimum:0,pattern:0,placeholder:0,playsInline:o,poster:0,preload:0,profile:0,radioGroup:0,readOnly:o,referrerPolicy:0,rel:0,required:o,reversed:o,role:0,rows:s,rowSpan:a,sandbox:0,scope:0,scoped:o,scrolling:0,seamless:o,selected:i|o,shape:0,size:s,sizes:0,span:s,spellCheck:0,src:0,srcDoc:0,srcLang:0,srcSet:0,start:a,step:0,style:0,summary:0,tabIndex:0,target:0,title:0,type:0,useMap:0,value:0,width:0,wmode:0,wrap:0,about:0,datatype:0,inlist:0,prefix:0,property:0,resource:0,typeof:0,vocab:0,autoCapitalize:0,autoCorrect:0,autoSave:0,color:0,itemProp:0,itemScope:o,itemType:0,itemID:0,itemRef:0,results:0,security:0,unselectable:0},DOMAttributeNames:{acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},DOMPropertyNames:{}};e.exports=l},function(e,t,n){(function(t){"use strict";function r(e,t,n,r){var i=void 0===e[n];null!=t&&i&&(e[n]=o(t,!0))}var i=n(59),o=n(191),a=(n(116),n(126)),s=n(194),u=(n(6),{instantiateChildren:function(e,t,n,i){if(null==e)return null;var o={};return s(e,r,o),o},updateChildren:function(e,t,n,r,s,u,l,c,p){if(t||e){var f,d;for(f in t)if(t.hasOwnProperty(f)){d=e&&e[f];var h=d&&d._currentElement,y=t[f];if(null!=d&&a(h,y))i.receiveComponent(d,y,s,c),t[f]=d;else{d&&(r[f]=i.getHostNode(d),i.unmountComponent(d,!1));var _=o(y,!0);t[f]=_;var m=i.mountComponent(_,s,u,l,c,p);n.push(m)}}for(f in e)!e.hasOwnProperty(f)||t&&t.hasOwnProperty(f)||(d=e[f],r[f]=i.getHostNode(d),i.unmountComponent(d,!1))}},unmountChildren:function(e,t){for(var n in e)if(e.hasOwnProperty(n)){var r=e[n];i.unmountComponent(r,t)}}});e.exports=u}).call(t,n(67))},function(e,t,n){"use strict";var r=n(112),i=n(496),o={processChildrenUpdates:i.dangerouslyProcessChildrenUpdates,replaceNodeWithMarkup:r.dangerouslyReplaceNodeWithMarkup};e.exports=o},function(e,t,n){"use strict";function r(e){}function i(e,t){}function o(e){return!(!e.prototype||!e.prototype.isReactComponent)}function a(e){return!(!e.prototype||!e.prototype.isPureReactComponent)}var s=n(10),u=n(11),l=n(39),c=n(118),p=n(40),f=n(119),d=n(70),h=(n(33),n(184)),y=n(59),_=n(66),m=(n(4),n(106)),v=n(126),g=(n(6),{ImpureClass:0,PureClass:1,StatelessFunctional:2});r.prototype.render=function(){var e=d.get(this)._currentElement.type,t=e(this.props,this.context,this.updater);return i(e,t),t};var b=1,E={construct:function(e){this._currentElement=e,this._rootNodeID=0,this._compositeType=null,this._instance=null,this._hostParent=null,this._hostContainerInfo=null,this._updateBatchNumber=null,this._pendingElement=null,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._renderedNodeType=null,this._renderedComponent=null,this._context=null,this._mountOrder=0,this._topLevelWrapper=null,this._pendingCallbacks=null,this._calledComponentWillUnmount=!1},mountComponent:function(e,t,n,u){this._context=u,this._mountOrder=b++,this._hostParent=t,this._hostContainerInfo=n;var c,p=this._currentElement.props,f=this._processContext(u),h=this._currentElement.type,y=e.getUpdateQueue(),m=o(h),v=this._constructComponent(m,p,f,y);m||null!=v&&null!=v.render?a(h)?this._compositeType=g.PureClass:this._compositeType=g.ImpureClass:(c=v,i(h,c),null===v||v===!1||l.isValidElement(v)?void 0:s("105",h.displayName||h.name||"Component"),v=new r(h),this._compositeType=g.StatelessFunctional);v.props=p,v.context=f,v.refs=_,v.updater=y,this._instance=v,d.set(v,this);var E=v.state;void 0===E&&(v.state=E=null),"object"!=typeof E||Array.isArray(E)?s("106",this.getName()||"ReactCompositeComponent"):void 0,this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1;var S;return S=v.unstable_handleError?this.performInitialMountWithErrorHandling(c,t,n,e,u):this.performInitialMount(c,t,n,e,u),v.componentDidMount&&e.getReactMountReady().enqueue(v.componentDidMount,v),S},_constructComponent:function(e,t,n,r){return this._constructComponentWithoutOwner(e,t,n,r)},_constructComponentWithoutOwner:function(e,t,n,r){var i=this._currentElement.type;return e?new i(t,n,r):i(t,n,r)},performInitialMountWithErrorHandling:function(e,t,n,r,i){var o,a=r.checkpoint();try{o=this.performInitialMount(e,t,n,r,i)}catch(s){r.rollback(a),this._instance.unstable_handleError(s),this._pendingStateQueue&&(this._instance.state=this._processPendingState(this._instance.props,this._instance.context)),a=r.checkpoint(),this._renderedComponent.unmountComponent(!0),r.rollback(a),o=this.performInitialMount(e,t,n,r,i)}return o},performInitialMount:function(e,t,n,r,i){var o=this._instance,a=0;o.componentWillMount&&(o.componentWillMount(),this._pendingStateQueue&&(o.state=this._processPendingState(o.props,o.context))),void 0===e&&(e=this._renderValidatedComponent());var s=h.getType(e);this._renderedNodeType=s;var u=this._instantiateReactComponent(e,s!==h.EMPTY);this._renderedComponent=u;var l=y.mountComponent(u,r,t,n,this._processChildContext(i),a);return l},getHostNode:function(){return y.getHostNode(this._renderedComponent)},unmountComponent:function(e){if(this._renderedComponent){var t=this._instance;if(t.componentWillUnmount&&!t._calledComponentWillUnmount)if(t._calledComponentWillUnmount=!0,e){var n=this.getName()+".componentWillUnmount()";f.invokeGuardedCallback(n,t.componentWillUnmount.bind(t))}else t.componentWillUnmount();this._renderedComponent&&(y.unmountComponent(this._renderedComponent,e),this._renderedNodeType=null,this._renderedComponent=null,this._instance=null),this._pendingStateQueue=null,this._pendingReplaceState=!1,this._pendingForceUpdate=!1,this._pendingCallbacks=null,this._pendingElement=null,this._context=null,this._rootNodeID=0,this._topLevelWrapper=null,d.remove(t)}},_maskContext:function(e){var t=this._currentElement.type,n=t.contextTypes;if(!n)return _;var r={};for(var i in n)r[i]=e[i];return r},_processContext:function(e){var t=this._maskContext(e);return t},_processChildContext:function(e){var t,n=this._currentElement.type,r=this._instance;if(r.getChildContext&&(t=r.getChildContext()),t){"object"!=typeof n.childContextTypes?s("107",this.getName()||"ReactCompositeComponent"):void 0;for(var i in t)i in n.childContextTypes?void 0:s("108",this.getName()||"ReactCompositeComponent",i);return u({},e,t)}return e},_checkContextTypes:function(e,t,n){},receiveComponent:function(e,t,n){var r=this._currentElement,i=this._context;this._pendingElement=null,this.updateComponent(t,r,e,i,n)},performUpdateIfNecessary:function(e){null!=this._pendingElement?y.receiveComponent(this,this._pendingElement,e,this._context):null!==this._pendingStateQueue||this._pendingForceUpdate?this.updateComponent(e,this._currentElement,this._currentElement,this._context,this._context):this._updateBatchNumber=null},updateComponent:function(e,t,n,r,i){var o=this._instance;null==o?s("136",this.getName()||"ReactCompositeComponent"):void 0;var a,u=!1;this._context===i?a=o.context:(a=this._processContext(i),u=!0);var l=t.props,c=n.props;t!==n&&(u=!0),u&&o.componentWillReceiveProps&&o.componentWillReceiveProps(c,a);var p=this._processPendingState(c,a),f=!0;this._pendingForceUpdate||(o.shouldComponentUpdate?f=o.shouldComponentUpdate(c,p,a):this._compositeType===g.PureClass&&(f=!m(l,c)||!m(o.state,p))),this._updateBatchNumber=null,f?(this._pendingForceUpdate=!1,this._performComponentUpdate(n,c,p,a,e,i)):(this._currentElement=n,this._context=i,o.props=c,o.state=p,o.context=a)},_processPendingState:function(e,t){var n=this._instance,r=this._pendingStateQueue,i=this._pendingReplaceState;if(this._pendingReplaceState=!1,this._pendingStateQueue=null,!r)return n.state;if(i&&1===r.length)return r[0];for(var o=u({},i?r[0]:n.state),a=i?1:0;a<r.length;a++){var s=r[a];u(o,"function"==typeof s?s.call(n,o,e,t):s)}return o},_performComponentUpdate:function(e,t,n,r,i,o){var a,s,u,l=this._instance,c=Boolean(l.componentDidUpdate);c&&(a=l.props,s=l.state,u=l.context),l.componentWillUpdate&&l.componentWillUpdate(t,n,r),this._currentElement=e,this._context=o,l.props=t,l.state=n,l.context=r,this._updateRenderedComponent(i,o),c&&i.getReactMountReady().enqueue(l.componentDidUpdate.bind(l,a,s,u),l)},_updateRenderedComponent:function(e,t){var n=this._renderedComponent,r=n._currentElement,i=this._renderValidatedComponent(),o=0;if(v(r,i))y.receiveComponent(n,i,e,this._processChildContext(t));else{var a=y.getHostNode(n);y.unmountComponent(n,!1);var s=h.getType(i);this._renderedNodeType=s;var u=this._instantiateReactComponent(i,s!==h.EMPTY);this._renderedComponent=u;var l=y.mountComponent(u,e,this._hostParent,this._hostContainerInfo,this._processChildContext(t),o);this._replaceNodeWithMarkup(a,l,n)}},_replaceNodeWithMarkup:function(e,t,n){c.replaceNodeWithMarkup(e,t,n)},_renderValidatedComponentWithoutOwnerOrContext:function(){var e,t=this._instance;return e=t.render()},_renderValidatedComponent:function(){var e;if(this._compositeType!==g.StatelessFunctional){p.current=this;try{e=this._renderValidatedComponentWithoutOwnerOrContext()}finally{p.current=null}}else e=this._renderValidatedComponentWithoutOwnerOrContext();return null===e||e===!1||l.isValidElement(e)?void 0:s("109",this.getName()||"ReactCompositeComponent"),e},attachRef:function(e,t){var n=this.getPublicInstance();null==n?s("110"):void 0;var r=t.getPublicInstance(),i=n.refs===_?n.refs={}:n.refs;i[e]=r},detachRef:function(e){var t=this.getPublicInstance().refs;delete t[e]},getName:function(){var e=this._currentElement.type,t=this._instance&&this._instance.constructor;return e.displayName||t&&t.displayName||e.name||t&&t.name||null},getPublicInstance:function(){var e=this._instance;return this._compositeType===g.StatelessFunctional?null:e},_instantiateReactComponent:null};e.exports=E},function(e,t,n){"use strict";function r(e){if(e){var t=e._currentElement._owner||null;if(t){var n=t.getName();
if(n)return" This DOM node was rendered by `"+n+"`."}}return""}function i(e,t){t&&(z[e._tag]&&(null!=t.children||null!=t.dangerouslySetInnerHTML?y("137",e._tag,e._currentElement._owner?" Check the render method of "+e._currentElement._owner.getName()+".":""):void 0),null!=t.dangerouslySetInnerHTML&&(null!=t.children?y("60"):void 0,"object"==typeof t.dangerouslySetInnerHTML&&H in t.dangerouslySetInnerHTML?void 0:y("61")),null!=t.style&&"object"!=typeof t.style?y("62",r(e)):void 0)}function o(e,t,n,r){if(!(r instanceof U)){var i=e._hostContainerInfo,o=i._node&&i._node.nodeType===W,s=o?i._node:i._ownerDocument;j(t,s),r.getReactMountReady().enqueue(a,{inst:e,registrationName:t,listener:n})}}function a(){var e=this;T.putListener(e.inst,e.registrationName,e.listener)}function s(){var e=this;R.postMountWrapper(e)}function u(){var e=this;A.postMountWrapper(e)}function l(){var e=this;P.postMountWrapper(e)}function c(){var e=this;e._rootNodeID?void 0:y("63");var t=N(e);switch(t?void 0:y("64"),e._tag){case"iframe":case"object":e._wrapperState.listeners=[C.trapBubbledEvent("topLoad","load",t)];break;case"video":case"audio":e._wrapperState.listeners=[];for(var n in K)K.hasOwnProperty(n)&&e._wrapperState.listeners.push(C.trapBubbledEvent(n,K[n],t));break;case"source":e._wrapperState.listeners=[C.trapBubbledEvent("topError","error",t)];break;case"img":e._wrapperState.listeners=[C.trapBubbledEvent("topError","error",t),C.trapBubbledEvent("topLoad","load",t)];break;case"form":e._wrapperState.listeners=[C.trapBubbledEvent("topReset","reset",t),C.trapBubbledEvent("topSubmit","submit",t)];break;case"input":case"select":case"textarea":e._wrapperState.listeners=[C.trapBubbledEvent("topInvalid","invalid",t)]}}function p(){I.postUpdateWrapper(this)}function f(e){J.call(X,e)||(G.test(e)?void 0:y("65",e),X[e]=!0)}function d(e,t){return e.indexOf("-")>=0||null!=t.is}function h(e){var t=e.type;f(t),this._currentElement=e,this._tag=t.toLowerCase(),this._namespaceURI=null,this._renderedChildren=null,this._previousStyle=null,this._previousStyleCopy=null,this._hostNode=null,this._hostParent=null,this._rootNodeID=0,this._domID=0,this._hostContainerInfo=null,this._wrapperState=null,this._topLevelWrapper=null,this._flags=0}var y=n(10),_=n(11),m=n(480),v=n(482),g=n(57),b=n(113),E=n(58),S=n(175),T=n(68),w=n(114),C=n(86),O=n(177),k=n(18),R=n(497),P=n(498),I=n(178),A=n(501),L=(n(33),n(510)),U=n(515),M=(n(31),n(89)),x=(n(4),n(125),n(106),n(127),n(6),O),D=T.deleteListener,N=k.getNodeFromInstance,j=C.listenTo,F=w.registrationNameModules,B={string:!0,number:!0},q="style",H="__html",V={children:null,dangerouslySetInnerHTML:null,suppressContentEditableWarning:null},W=11,K={topAbort:"abort",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topSeeked:"seeked",topSeeking:"seeking",topStalled:"stalled",topSuspend:"suspend",topTimeUpdate:"timeupdate",topVolumeChange:"volumechange",topWaiting:"waiting"},Q={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},Y={listing:!0,pre:!0,textarea:!0},z=_({menuitem:!0},Q),G=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/,X={},J={}.hasOwnProperty,$=1;h.displayName="ReactDOMComponent",h.Mixin={mountComponent:function(e,t,n,r){this._rootNodeID=$++,this._domID=n._idCounter++,this._hostParent=t,this._hostContainerInfo=n;var o=this._currentElement.props;switch(this._tag){case"audio":case"form":case"iframe":case"img":case"link":case"object":case"source":case"video":this._wrapperState={listeners:null},e.getReactMountReady().enqueue(c,this);break;case"input":R.mountWrapper(this,o,t),o=R.getHostProps(this,o),e.getReactMountReady().enqueue(c,this);break;case"option":P.mountWrapper(this,o,t),o=P.getHostProps(this,o);break;case"select":I.mountWrapper(this,o,t),o=I.getHostProps(this,o),e.getReactMountReady().enqueue(c,this);break;case"textarea":A.mountWrapper(this,o,t),o=A.getHostProps(this,o),e.getReactMountReady().enqueue(c,this)}i(this,o);var a,p;null!=t?(a=t._namespaceURI,p=t._tag):n._tag&&(a=n._namespaceURI,p=n._tag),(null==a||a===b.svg&&"foreignobject"===p)&&(a=b.html),a===b.html&&("svg"===this._tag?a=b.svg:"math"===this._tag&&(a=b.mathml)),this._namespaceURI=a;var f;if(e.useCreateElement){var d,h=n._ownerDocument;if(a===b.html)if("script"===this._tag){var y=h.createElement("div"),_=this._currentElement.type;y.innerHTML="<"+_+"></"+_+">",d=y.removeChild(y.firstChild)}else d=o.is?h.createElement(this._currentElement.type,o.is):h.createElement(this._currentElement.type);else d=h.createElementNS(a,this._currentElement.type);k.precacheNode(this,d),this._flags|=x.hasCachedChildNodes,this._hostParent||S.setAttributeForRoot(d),this._updateDOMProperties(null,o,e);var v=g(d);this._createInitialChildren(e,o,r,v),f=v}else{var E=this._createOpenTagMarkupAndPutListeners(e,o),T=this._createContentMarkup(e,o,r);f=!T&&Q[this._tag]?E+"/>":E+">"+T+"</"+this._currentElement.type+">"}switch(this._tag){case"input":e.getReactMountReady().enqueue(s,this),o.autoFocus&&e.getReactMountReady().enqueue(m.focusDOMComponent,this);break;case"textarea":e.getReactMountReady().enqueue(u,this),o.autoFocus&&e.getReactMountReady().enqueue(m.focusDOMComponent,this);break;case"select":o.autoFocus&&e.getReactMountReady().enqueue(m.focusDOMComponent,this);break;case"button":o.autoFocus&&e.getReactMountReady().enqueue(m.focusDOMComponent,this);break;case"option":e.getReactMountReady().enqueue(l,this)}return f},_createOpenTagMarkupAndPutListeners:function(e,t){var n="<"+this._currentElement.type;for(var r in t)if(t.hasOwnProperty(r)){var i=t[r];if(null!=i)if(F.hasOwnProperty(r))i&&o(this,r,i,e);else{r===q&&(i&&(i=this._previousStyleCopy=_({},t.style)),i=v.createMarkupForStyles(i,this));var a=null;null!=this._tag&&d(this._tag,t)?V.hasOwnProperty(r)||(a=S.createMarkupForCustomAttribute(r,i)):a=S.createMarkupForProperty(r,i),a&&(n+=" "+a)}}return e.renderToStaticMarkup?n:(this._hostParent||(n+=" "+S.createMarkupForRoot()),n+=" "+S.createMarkupForID(this._domID))},_createContentMarkup:function(e,t,n){var r="",i=t.dangerouslySetInnerHTML;if(null!=i)null!=i.__html&&(r=i.__html);else{var o=B[typeof t.children]?t.children:null,a=null!=o?null:t.children;if(null!=o)r=M(o);else if(null!=a){var s=this.mountChildren(a,e,n);r=s.join("")}}return Y[this._tag]&&"\n"===r.charAt(0)?"\n"+r:r},_createInitialChildren:function(e,t,n,r){var i=t.dangerouslySetInnerHTML;if(null!=i)null!=i.__html&&g.queueHTML(r,i.__html);else{var o=B[typeof t.children]?t.children:null,a=null!=o?null:t.children;if(null!=o)""!==o&&g.queueText(r,o);else if(null!=a)for(var s=this.mountChildren(a,e,n),u=0;u<s.length;u++)g.queueChild(r,s[u])}},receiveComponent:function(e,t,n){var r=this._currentElement;this._currentElement=e,this.updateComponent(t,r,e,n)},updateComponent:function(e,t,n,r){var o=t.props,a=this._currentElement.props;switch(this._tag){case"input":o=R.getHostProps(this,o),a=R.getHostProps(this,a);break;case"option":o=P.getHostProps(this,o),a=P.getHostProps(this,a);break;case"select":o=I.getHostProps(this,o),a=I.getHostProps(this,a);break;case"textarea":o=A.getHostProps(this,o),a=A.getHostProps(this,a)}switch(i(this,a),this._updateDOMProperties(o,a,e),this._updateDOMChildren(o,a,e,r),this._tag){case"input":R.updateWrapper(this);break;case"textarea":A.updateWrapper(this);break;case"select":e.getReactMountReady().enqueue(p,this)}},_updateDOMProperties:function(e,t,n){var r,i,a;for(r in e)if(!t.hasOwnProperty(r)&&e.hasOwnProperty(r)&&null!=e[r])if(r===q){var s=this._previousStyleCopy;for(i in s)s.hasOwnProperty(i)&&(a=a||{},a[i]="");this._previousStyleCopy=null}else F.hasOwnProperty(r)?e[r]&&D(this,r):d(this._tag,e)?V.hasOwnProperty(r)||S.deleteValueForAttribute(N(this),r):(E.properties[r]||E.isCustomAttribute(r))&&S.deleteValueForProperty(N(this),r);for(r in t){var u=t[r],l=r===q?this._previousStyleCopy:null!=e?e[r]:void 0;if(t.hasOwnProperty(r)&&u!==l&&(null!=u||null!=l))if(r===q)if(u?u=this._previousStyleCopy=_({},u):this._previousStyleCopy=null,l){for(i in l)!l.hasOwnProperty(i)||u&&u.hasOwnProperty(i)||(a=a||{},a[i]="");for(i in u)u.hasOwnProperty(i)&&l[i]!==u[i]&&(a=a||{},a[i]=u[i])}else a=u;else if(F.hasOwnProperty(r))u?o(this,r,u,n):l&&D(this,r);else if(d(this._tag,t))V.hasOwnProperty(r)||S.setValueForAttribute(N(this),r,u);else if(E.properties[r]||E.isCustomAttribute(r)){var c=N(this);null!=u?S.setValueForProperty(c,r,u):S.deleteValueForProperty(c,r)}}a&&v.setValueForStyles(N(this),a,this)},_updateDOMChildren:function(e,t,n,r){var i=B[typeof e.children]?e.children:null,o=B[typeof t.children]?t.children:null,a=e.dangerouslySetInnerHTML&&e.dangerouslySetInnerHTML.__html,s=t.dangerouslySetInnerHTML&&t.dangerouslySetInnerHTML.__html,u=null!=i?null:e.children,l=null!=o?null:t.children,c=null!=i||null!=a,p=null!=o||null!=s;null!=u&&null==l?this.updateChildren(null,n,r):c&&!p&&this.updateTextContent(""),null!=o?i!==o&&this.updateTextContent(""+o):null!=s?a!==s&&this.updateMarkup(""+s):null!=l&&this.updateChildren(l,n,r)},getHostNode:function(){return N(this)},unmountComponent:function(e){switch(this._tag){case"audio":case"form":case"iframe":case"img":case"link":case"object":case"source":case"video":var t=this._wrapperState.listeners;if(t)for(var n=0;n<t.length;n++)t[n].remove();break;case"html":case"head":case"body":y("66",this._tag)}this.unmountChildren(e),k.uncacheNode(this),T.deleteAllListeners(this),this._rootNodeID=0,this._domID=0,this._wrapperState=null},getPublicInstance:function(){return N(this)}},_(h.prototype,h.Mixin,L.Mixin),e.exports=h},function(e,t,n){"use strict";function r(e,t){var n={_topLevelWrapper:e,_idCounter:1,_ownerDocument:t?t.nodeType===i?t:t.ownerDocument:null,_node:t,_tag:t?t.nodeName.toLowerCase():null,_namespaceURI:t?t.namespaceURI:null};return n}var i=(n(127),9);e.exports=r},function(e,t,n){"use strict";var r=n(11),i=n(57),o=n(18),a=function(e){this._currentElement=null,this._hostNode=null,this._hostParent=null,this._hostContainerInfo=null,this._domID=0};r(a.prototype,{mountComponent:function(e,t,n,r){var a=n._idCounter++;this._domID=a,this._hostParent=t,this._hostContainerInfo=n;var s=" react-empty: "+this._domID+" ";if(e.useCreateElement){var u=n._ownerDocument,l=u.createComment(s);return o.precacheNode(this,l),i(l)}return e.renderToStaticMarkup?"":"<!--"+s+"-->"},receiveComponent:function(){},getHostNode:function(){return o.getNodeFromInstance(this)},unmountComponent:function(){o.uncacheNode(this)}}),e.exports=a},function(e,t){"use strict";var n={useCreateElement:!0,useFiber:!1};e.exports=n},function(e,t,n){"use strict";var r=n(112),i=n(18),o={dangerouslyProcessChildrenUpdates:function(e,t){var n=i.getNodeFromInstance(e);r.processUpdates(n,t)}};e.exports=o},function(e,t,n){"use strict";function r(){this._rootNodeID&&p.updateWrapper(this)}function i(e){var t=this._currentElement.props,n=u.executeOnChange(t,e);c.asap(r,this);var i=t.name;if("radio"===t.type&&null!=i){for(var a=l.getNodeFromInstance(this),s=a;s.parentNode;)s=s.parentNode;for(var p=s.querySelectorAll("input[name="+JSON.stringify(""+i)+'][type="radio"]'),f=0;f<p.length;f++){var d=p[f];if(d!==a&&d.form===a.form){var h=l.getInstanceFromNode(d);h?void 0:o("90"),c.asap(r,h)}}}return n}var o=n(10),a=n(11),s=n(175),u=n(117),l=n(18),c=n(37),p=(n(4),n(6),{getHostProps:function(e,t){var n=u.getValue(t),r=u.getChecked(t),i=a({type:void 0,step:void 0,min:void 0,max:void 0},t,{defaultChecked:void 0,defaultValue:void 0,value:null!=n?n:e._wrapperState.initialValue,checked:null!=r?r:e._wrapperState.initialChecked,onChange:e._wrapperState.onChange});return i},mountWrapper:function(e,t){var n=t.defaultValue;e._wrapperState={initialChecked:null!=t.checked?t.checked:t.defaultChecked,initialValue:null!=t.value?t.value:n,listeners:null,onChange:i.bind(e)}},updateWrapper:function(e){var t=e._currentElement.props,n=t.checked;null!=n&&s.setValueForProperty(l.getNodeFromInstance(e),"checked",n||!1);var r=l.getNodeFromInstance(e),i=u.getValue(t);if(null!=i){var o=""+i;o!==r.value&&(r.value=o)}else null==t.value&&null!=t.defaultValue&&r.defaultValue!==""+t.defaultValue&&(r.defaultValue=""+t.defaultValue),null==t.checked&&null!=t.defaultChecked&&(r.defaultChecked=!!t.defaultChecked)},postMountWrapper:function(e){var t=e._currentElement.props,n=l.getNodeFromInstance(e);switch(t.type){case"submit":case"reset":break;case"color":case"date":case"datetime":case"datetime-local":case"month":case"time":case"week":n.value="",n.value=n.defaultValue;break;default:n.value=n.value}var r=n.name;""!==r&&(n.name=""),n.defaultChecked=!n.defaultChecked,n.defaultChecked=!n.defaultChecked,""!==r&&(n.name=r)}});e.exports=p},function(e,t,n){"use strict";function r(e){var t="";return o.Children.forEach(e,function(e){null!=e&&("string"==typeof e||"number"==typeof e?t+=e:u||(u=!0))}),t}var i=n(11),o=n(39),a=n(18),s=n(178),u=(n(6),!1),l={mountWrapper:function(e,t,n){var i=null;if(null!=n){var o=n;"optgroup"===o._tag&&(o=o._hostParent),null!=o&&"select"===o._tag&&(i=s.getSelectValueContext(o))}var a=null;if(null!=i){var u;if(u=null!=t.value?t.value+"":r(t.children),a=!1,Array.isArray(i)){for(var l=0;l<i.length;l++)if(""+i[l]===u){a=!0;break}}else a=""+i===u}e._wrapperState={selected:a}},postMountWrapper:function(e){var t=e._currentElement.props;if(null!=t.value){var n=a.getNodeFromInstance(e);n.setAttribute("value",t.value)}},getHostProps:function(e,t){var n=i({selected:void 0,children:void 0},t);null!=e._wrapperState.selected&&(n.selected=e._wrapperState.selected);var o=r(t.children);return o&&(n.children=o),n}};e.exports=l},function(e,t,n){"use strict";function r(e,t,n,r){return e===n&&t===r}function i(e){var t=document.selection,n=t.createRange(),r=n.text.length,i=n.duplicate();i.moveToElementText(e),i.setEndPoint("EndToStart",n);var o=i.text.length,a=o+r;return{start:o,end:a}}function o(e){var t=window.getSelection&&window.getSelection();if(!t||0===t.rangeCount)return null;var n=t.anchorNode,i=t.anchorOffset,o=t.focusNode,a=t.focusOffset,s=t.getRangeAt(0);try{s.startContainer.nodeType,s.endContainer.nodeType}catch(e){return null}var u=r(t.anchorNode,t.anchorOffset,t.focusNode,t.focusOffset),l=u?0:s.toString().length,c=s.cloneRange();c.selectNodeContents(e),c.setEnd(s.startContainer,s.startOffset);var p=r(c.startContainer,c.startOffset,c.endContainer,c.endOffset),f=p?0:c.toString().length,d=f+l,h=document.createRange();h.setStart(n,i),h.setEnd(o,a);var y=h.collapsed;return{start:y?d:f,end:y?f:d}}function a(e,t){var n,r,i=document.selection.createRange().duplicate();void 0===t.end?(n=t.start,r=n):t.start>t.end?(n=t.end,r=t.start):(n=t.start,r=t.end),i.moveToElementText(e),i.moveStart("character",n),i.setEndPoint("EndToStart",i),i.moveEnd("character",r-n),i.select()}function s(e,t){if(window.getSelection){var n=window.getSelection(),r=e[c()].length,i=Math.min(t.start,r),o=void 0===t.end?i:Math.min(t.end,r);if(!n.extend&&i>o){var a=o;o=i,i=a}var s=l(e,i),u=l(e,o);if(s&&u){var p=document.createRange();p.setStart(s.node,s.offset),n.removeAllRanges(),i>o?(n.addRange(p),n.extend(u.node,u.offset)):(p.setEnd(u.node,u.offset),n.addRange(p))}}}var u=n(25),l=n(538),c=n(189),p=u.canUseDOM&&"selection"in document&&!("getSelection"in window),f={getOffsets:p?i:o,setOffsets:p?a:s};e.exports=f},function(e,t,n){"use strict";var r=n(10),i=n(11),o=n(112),a=n(57),s=n(18),u=n(89),l=(n(4),n(127),function(e){this._currentElement=e,this._stringText=""+e,this._hostNode=null,this._hostParent=null,this._domID=0,this._mountIndex=0,this._closingComment=null,this._commentNodes=null});i(l.prototype,{mountComponent:function(e,t,n,r){var i=n._idCounter++,o=" react-text: "+i+" ",l=" /react-text ";if(this._domID=i,this._hostParent=t,e.useCreateElement){var c=n._ownerDocument,p=c.createComment(o),f=c.createComment(l),d=a(c.createDocumentFragment());return a.queueChild(d,a(p)),this._stringText&&a.queueChild(d,a(c.createTextNode(this._stringText))),a.queueChild(d,a(f)),s.precacheNode(this,p),this._closingComment=f,d}var h=u(this._stringText);return e.renderToStaticMarkup?h:"<!--"+o+"-->"+h+"<!--"+l+"-->"},receiveComponent:function(e,t){if(e!==this._currentElement){this._currentElement=e;var n=""+e;if(n!==this._stringText){this._stringText=n;var r=this.getHostNode();o.replaceDelimitedText(r[0],r[1],n)}}},getHostNode:function(){var e=this._commentNodes;if(e)return e;if(!this._closingComment)for(var t=s.getNodeFromInstance(this),n=t.nextSibling;;){if(null==n?r("67",this._domID):void 0,8===n.nodeType&&" /react-text "===n.nodeValue){this._closingComment=n;break}n=n.nextSibling}return e=[this._hostNode,this._closingComment],this._commentNodes=e,e},unmountComponent:function(){this._closingComment=null,this._commentNodes=null,s.uncacheNode(this)}}),e.exports=l},function(e,t,n){"use strict";function r(){this._rootNodeID&&c.updateWrapper(this)}function i(e){var t=this._currentElement.props,n=s.executeOnChange(t,e);return l.asap(r,this),n}var o=n(10),a=n(11),s=n(117),u=n(18),l=n(37),c=(n(4),n(6),{getHostProps:function(e,t){null!=t.dangerouslySetInnerHTML?o("91"):void 0;var n=a({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue,onChange:e._wrapperState.onChange});return n},mountWrapper:function(e,t){var n=s.getValue(t),r=n;if(null==n){var a=t.defaultValue,u=t.children;null!=u&&(null!=a?o("92"):void 0,Array.isArray(u)&&(u.length<=1?void 0:o("93"),u=u[0]),a=""+u),null==a&&(a=""),r=a}e._wrapperState={initialValue:""+r,listeners:null,onChange:i.bind(e)}},updateWrapper:function(e){var t=e._currentElement.props,n=u.getNodeFromInstance(e),r=s.getValue(t);if(null!=r){var i=""+r;i!==n.value&&(n.value=i),null==t.defaultValue&&(n.defaultValue=i)}null!=t.defaultValue&&(n.defaultValue=t.defaultValue)},postMountWrapper:function(e){var t=u.getNodeFromInstance(e),n=t.textContent;n===e._wrapperState.initialValue&&(t.value=n)}});e.exports=c},function(e,t,n){"use strict";function r(e,t){"_hostNode"in e?void 0:u("33"),"_hostNode"in t?void 0:u("33");for(var n=0,r=e;r;r=r._hostParent)n++;for(var i=0,o=t;o;o=o._hostParent)i++;for(;n-i>0;)e=e._hostParent,n--;for(;i-n>0;)t=t._hostParent,i--;for(var a=n;a--;){if(e===t)return e;e=e._hostParent,t=t._hostParent}return null}function i(e,t){"_hostNode"in e?void 0:u("35"),"_hostNode"in t?void 0:u("35");for(;t;){if(t===e)return!0;t=t._hostParent}return!1}function o(e){return"_hostNode"in e?void 0:u("36"),e._hostParent}function a(e,t,n){for(var r=[];e;)r.push(e),e=e._hostParent;var i;for(i=r.length;i-- >0;)t(r[i],"captured",n);for(i=0;i<r.length;i++)t(r[i],"bubbled",n)}function s(e,t,n,i,o){for(var a=e&&t?r(e,t):null,s=[];e&&e!==a;)s.push(e),e=e._hostParent;for(var u=[];t&&t!==a;)u.push(t),t=t._hostParent;var l;for(l=0;l<s.length;l++)n(s[l],"bubbled",i);for(l=u.length;l-- >0;)n(u[l],"captured",o)}var u=n(10);n(4);e.exports={isAncestor:i,getLowestCommonAncestor:r,getParentInstance:o,traverseTwoPhase:a,traverseEnterLeave:s}},function(e,t,n){"use strict";function r(){this.reinitializeTransaction()}var i=n(11),o=n(37),a=n(88),s=n(31),u={initialize:s,close:function(){f.isBatchingUpdates=!1}},l={initialize:s,close:o.flushBatchedUpdates.bind(o)},c=[l,u];i(r.prototype,a,{getTransactionWrappers:function(){return c}});var p=new r,f={isBatchingUpdates:!1,batchedUpdates:function(e,t,n,r,i,o){var a=f.isBatchingUpdates;return f.isBatchingUpdates=!0,a?e(t,n,r,i,o):p.perform(e,null,t,n,r,i,o)}};e.exports=f},function(e,t,n){"use strict";function r(){T||(T=!0,v.EventEmitter.injectReactEventListener(m),v.EventPluginHub.injectEventPluginOrder(s),v.EventPluginUtils.injectComponentTree(f),v.EventPluginUtils.injectTreeTraversal(h),v.EventPluginHub.injectEventPluginsByName({SimpleEventPlugin:S,EnterLeaveEventPlugin:u,ChangeEventPlugin:a,SelectEventPlugin:E,BeforeInputEventPlugin:o}),v.HostComponent.injectGenericComponentClass(p),v.HostComponent.injectTextComponentClass(y),v.DOMProperty.injectDOMPropertyConfig(i),v.DOMProperty.injectDOMPropertyConfig(l),v.DOMProperty.injectDOMPropertyConfig(b),v.EmptyComponent.injectEmptyComponentFactory(function(e){return new d(e)}),v.Updates.injectReconcileTransaction(g),v.Updates.injectBatchingStrategy(_),v.Component.injectEnvironment(c))}var i=n(479),o=n(481),a=n(483),s=n(485),u=n(486),l=n(488),c=n(490),p=n(492),f=n(18),d=n(494),h=n(502),y=n(500),_=n(503),m=n(507),v=n(508),g=n(513),b=n(518),E=n(519),S=n(520),T=!1;e.exports={inject:r}},210,function(e,t,n){"use strict";function r(e){i.enqueueEvents(e),i.processEventQueue(!1)}var i=n(68),o={handleTopLevel:function(e,t,n,o){var a=i.extractEvents(e,t,n,o);r(a)}};e.exports=o},function(e,t,n){"use strict";function r(e){for(;e._hostParent;)e=e._hostParent;var t=p.getNodeFromInstance(e),n=t.parentNode;return p.getClosestInstanceFromNode(n)}function i(e,t){this.topLevelType=e,this.nativeEvent=t,this.ancestors=[]}function o(e){var t=d(e.nativeEvent),n=p.getClosestInstanceFromNode(t),i=n;do e.ancestors.push(i),i=i&&r(i);while(i);for(var o=0;o<e.ancestors.length;o++)n=e.ancestors[o],y._handleTopLevel(e.topLevelType,n,e.nativeEvent,d(e.nativeEvent))}function a(e){var t=h(window);e(t)}var s=n(11),u=n(163),l=n(25),c=n(47),p=n(18),f=n(37),d=n(124),h=n(447);s(i.prototype,{destructor:function(){this.topLevelType=null,this.nativeEvent=null,this.ancestors.length=0}}),c.addPoolingTo(i,c.twoArgumentPooler);var y={_enabled:!0,_handleTopLevel:null,WINDOW_HANDLE:l.canUseDOM?window:null,setHandleTopLevel:function(e){y._handleTopLevel=e},setEnabled:function(e){y._enabled=!!e},isEnabled:function(){return y._enabled},trapBubbledEvent:function(e,t,n){return n?u.listen(n,t,y.dispatchEvent.bind(null,e)):null},trapCapturedEvent:function(e,t,n){return n?u.capture(n,t,y.dispatchEvent.bind(null,e)):null},monitorScrollValue:function(e){var t=a.bind(null,e);u.listen(window,"scroll",t)},dispatchEvent:function(e,t){if(y._enabled){var n=i.getPooled(e,t);try{f.batchedUpdates(o,n)}finally{i.release(n)}}}};e.exports=y},function(e,t,n){"use strict";var r=n(58),i=n(68),o=n(115),a=n(118),s=n(179),u=n(86),l=n(181),c=n(37),p={Component:a.injection,DOMProperty:r.injection,EmptyComponent:s.injection,EventPluginHub:i.injection,EventPluginUtils:o.injection,EventEmitter:u.injection,HostComponent:l.injection,Updates:c.injection};e.exports=p},function(e,t,n){"use strict";var r=n(531),i=/\/?>/,o=/^<\!\-\-/,a={CHECKSUM_ATTR_NAME:"data-react-checksum",addChecksumToMarkup:function(e){var t=r(e);return o.test(e)?e:e.replace(i," "+a.CHECKSUM_ATTR_NAME+'="'+t+'"$&')},canReuseMarkup:function(e,t){var n=t.getAttribute(a.CHECKSUM_ATTR_NAME);n=n&&parseInt(n,10);var i=r(e);return i===n}};e.exports=a},function(e,t,n){"use strict";function r(e,t,n){return{type:"INSERT_MARKUP",content:e,fromIndex:null,fromNode:null,toIndex:n,afterNode:t}}function i(e,t,n){return{type:"MOVE_EXISTING",content:null,fromIndex:e._mountIndex,fromNode:f.getHostNode(e),toIndex:n,afterNode:t}}function o(e,t){return{type:"REMOVE_NODE",content:null,fromIndex:e._mountIndex,fromNode:t,toIndex:null,afterNode:null}}function a(e){return{type:"SET_MARKUP",content:e,fromIndex:null,fromNode:null,toIndex:null,afterNode:null}}function s(e){return{type:"TEXT_CONTENT",content:e,fromIndex:null,fromNode:null,toIndex:null,afterNode:null}}function u(e,t){return t&&(e=e||[],e.push(t)),e}function l(e,t){p.processChildrenUpdates(e,t)}var c=n(10),p=n(118),f=(n(70),n(33),n(40),n(59)),d=n(489),h=(n(31),n(534)),y=(n(4),{Mixin:{_reconcilerInstantiateChildren:function(e,t,n){return d.instantiateChildren(e,t,n)},_reconcilerUpdateChildren:function(e,t,n,r,i,o){var a,s=0;return a=h(t,s),d.updateChildren(e,a,n,r,i,this,this._hostContainerInfo,o,s),a},mountChildren:function(e,t,n){var r=this._reconcilerInstantiateChildren(e,t,n);this._renderedChildren=r;var i=[],o=0;for(var a in r)if(r.hasOwnProperty(a)){var s=r[a],u=0,l=f.mountComponent(s,t,this,this._hostContainerInfo,n,u);s._mountIndex=o++,i.push(l)}return i},updateTextContent:function(e){var t=this._renderedChildren;d.unmountChildren(t,!1);for(var n in t)t.hasOwnProperty(n)&&c("118");var r=[s(e)];l(this,r)},updateMarkup:function(e){var t=this._renderedChildren;d.unmountChildren(t,!1);for(var n in t)t.hasOwnProperty(n)&&c("118");var r=[a(e)];l(this,r)},updateChildren:function(e,t,n){this._updateChildren(e,t,n)},_updateChildren:function(e,t,n){var r=this._renderedChildren,i={},o=[],a=this._reconcilerUpdateChildren(r,e,o,i,t,n);if(a||r){var s,c=null,p=0,d=0,h=0,y=null;for(s in a)if(a.hasOwnProperty(s)){var _=r&&r[s],m=a[s];_===m?(c=u(c,this.moveChild(_,y,p,d)),d=Math.max(_._mountIndex,d),_._mountIndex=p):(_&&(d=Math.max(_._mountIndex,d)),c=u(c,this._mountChildAtIndex(m,o[h],y,p,t,n)),h++),p++,y=f.getHostNode(m)}for(s in i)i.hasOwnProperty(s)&&(c=u(c,this._unmountChild(r[s],i[s])));c&&l(this,c),this._renderedChildren=a}},unmountChildren:function(e){var t=this._renderedChildren;d.unmountChildren(t,e),this._renderedChildren=null},moveChild:function(e,t,n,r){if(e._mountIndex<r)return i(e,t,n)},createChild:function(e,t,n){return r(n,t,e._mountIndex)},removeChild:function(e,t){return o(e,t)},_mountChildAtIndex:function(e,t,n,r,i,o){return e._mountIndex=r,this.createChild(e,n,t)},_unmountChild:function(e,t){var n=this.removeChild(e,t);return e._mountIndex=null,n}}});e.exports=y},function(e,t,n){"use strict";function r(e){return!(!e||"function"!=typeof e.attachRef||"function"!=typeof e.detachRef)}var i=n(10),o=(n(4),{addComponentAsRefTo:function(e,t,n){r(n)?void 0:i("119"),n.attachRef(t,e)},removeComponentAsRefFrom:function(e,t,n){r(n)?void 0:i("120");var o=n.getPublicInstance();o&&o.refs[t]===e.getPublicInstance()&&n.detachRef(t)}});e.exports=o},function(e,t){"use strict";var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";e.exports=n},function(e,t,n){"use strict";function r(e){this.reinitializeTransaction(),this.renderToStaticMarkup=!1,this.reactMountReady=o.getPooled(null),this.useCreateElement=e}var i=n(11),o=n(174),a=n(47),s=n(86),u=n(182),l=(n(33),n(88)),c=n(120),p={initialize:u.getSelectionInformation,close:u.restoreSelection},f={initialize:function(){var e=s.isEnabled();return s.setEnabled(!1),e},close:function(e){s.setEnabled(e)}},d={initialize:function(){this.reactMountReady.reset()},close:function(){this.reactMountReady.notifyAll()}},h=[p,f,d],y={getTransactionWrappers:function(){return h},getReactMountReady:function(){return this.reactMountReady},getUpdateQueue:function(){return c},checkpoint:function(){return this.reactMountReady.checkpoint()},rollback:function(e){this.reactMountReady.rollback(e)},destructor:function(){o.release(this.reactMountReady),this.reactMountReady=null}};i(r.prototype,l,y),a.addPoolingTo(r),e.exports=r},function(e,t,n){"use strict";function r(e,t,n){"function"==typeof e?e(t.getPublicInstance()):o.addComponentAsRefTo(t,e,n)}function i(e,t,n){"function"==typeof e?e(null):o.removeComponentAsRefFrom(t,e,n)}var o=n(511),a={};a.attachRefs=function(e,t){if(null!==t&&"object"==typeof t){var n=t.ref;null!=n&&r(n,e,t._owner)}},a.shouldUpdateRefs=function(e,t){var n=null,r=null;null!==e&&"object"==typeof e&&(n=e.ref,r=e._owner);var i=null,o=null;return null!==t&&"object"==typeof t&&(i=t.ref,o=t._owner),n!==i||"string"==typeof i&&o!==r},a.detachRefs=function(e,t){if(null!==t&&"object"==typeof t){var n=t.ref;null!=n&&i(n,e,t._owner)}},e.exports=a},function(e,t,n){"use strict";function r(e){this.reinitializeTransaction(),this.renderToStaticMarkup=e,this.useCreateElement=!1,this.updateQueue=new s(this)}var i=n(11),o=n(47),a=n(88),s=(n(33),n(516)),u=[],l={enqueue:function(){}},c={getTransactionWrappers:function(){return u},getReactMountReady:function(){return l},getUpdateQueue:function(){return this.updateQueue},destructor:function(){},checkpoint:function(){},rollback:function(){}};i(r.prototype,a,c),o.addPoolingTo(r),e.exports=r},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){}var o=n(120),a=(n(6),function(){function e(t){r(this,e),this.transaction=t}return e.prototype.isMounted=function(e){return!1},e.prototype.enqueueCallback=function(e,t,n){this.transaction.isInTransaction()&&o.enqueueCallback(e,t,n)},e.prototype.enqueueForceUpdate=function(e){this.transaction.isInTransaction()?o.enqueueForceUpdate(e):i(e,"forceUpdate")},e.prototype.enqueueReplaceState=function(e,t){this.transaction.isInTransaction()?o.enqueueReplaceState(e,t):i(e,"replaceState")},e.prototype.enqueueSetState=function(e,t){this.transaction.isInTransaction()?o.enqueueSetState(e,t):i(e,"setState")},e}());e.exports=a},function(e,t){"use strict";e.exports="15.4.2"},function(e,t){"use strict";var n={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"},r={accentHeight:"accent-height",accumulate:0,additive:0,alignmentBaseline:"alignment-baseline",allowReorder:"allowReorder",alphabetic:0,amplitude:0,arabicForm:"arabic-form",ascent:0,attributeName:"attributeName",attributeType:"attributeType",autoReverse:"autoReverse",azimuth:0,baseFrequency:"baseFrequency",baseProfile:"baseProfile",baselineShift:"baseline-shift",bbox:0,begin:0,bias:0,by:0,calcMode:"calcMode",capHeight:"cap-height",clip:0,clipPath:"clip-path",clipRule:"clip-rule",clipPathUnits:"clipPathUnits",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",contentScriptType:"contentScriptType",contentStyleType:"contentStyleType",cursor:0,cx:0,cy:0,d:0,decelerate:0,descent:0,diffuseConstant:"diffuseConstant",direction:0,display:0,divisor:0,dominantBaseline:"dominant-baseline",dur:0,dx:0,dy:0,edgeMode:"edgeMode",elevation:0,enableBackground:"enable-background",end:0,exponent:0,externalResourcesRequired:"externalResourcesRequired",fill:0,fillOpacity:"fill-opacity",fillRule:"fill-rule",filter:0,filterRes:"filterRes",filterUnits:"filterUnits",floodColor:"flood-color",floodOpacity:"flood-opacity",focusable:0,fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",format:0,from:0,fx:0,fy:0,g1:0,g2:0,glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",glyphRef:"glyphRef",gradientTransform:"gradientTransform",gradientUnits:"gradientUnits",hanging:0,horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",ideographic:0,imageRendering:"image-rendering",in:0,in2:0,intercept:0,k:0,k1:0,k2:0,k3:0,k4:0,kernelMatrix:"kernelMatrix",kernelUnitLength:"kernelUnitLength",kerning:0,keyPoints:"keyPoints",keySplines:"keySplines",keyTimes:"keyTimes",lengthAdjust:"lengthAdjust",letterSpacing:"letter-spacing",lightingColor:"lighting-color",limitingConeAngle:"limitingConeAngle",local:0,markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",markerHeight:"markerHeight",markerUnits:"markerUnits",markerWidth:"markerWidth",mask:0,maskContentUnits:"maskContentUnits",maskUnits:"maskUnits",mathematical:0,mode:0,numOctaves:"numOctaves",offset:0,opacity:0,operator:0,order:0,orient:0,orientation:0,origin:0,overflow:0,overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pathLength:"pathLength",patternContentUnits:"patternContentUnits",patternTransform:"patternTransform",patternUnits:"patternUnits",pointerEvents:"pointer-events",points:0,pointsAtX:"pointsAtX",pointsAtY:"pointsAtY",pointsAtZ:"pointsAtZ",preserveAlpha:"preserveAlpha",preserveAspectRatio:"preserveAspectRatio",primitiveUnits:"primitiveUnits",r:0,radius:0,refX:"refX",refY:"refY",renderingIntent:"rendering-intent",repeatCount:"repeatCount",repeatDur:"repeatDur",requiredExtensions:"requiredExtensions",requiredFeatures:"requiredFeatures",restart:0,result:0,rotate:0,rx:0,ry:0,scale:0,seed:0,shapeRendering:"shape-rendering",slope:0,spacing:0,specularConstant:"specularConstant",
specularExponent:"specularExponent",speed:0,spreadMethod:"spreadMethod",startOffset:"startOffset",stdDeviation:"stdDeviation",stemh:0,stemv:0,stitchTiles:"stitchTiles",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",string:0,stroke:0,strokeDasharray:"stroke-dasharray",strokeDashoffset:"stroke-dashoffset",strokeLinecap:"stroke-linecap",strokeLinejoin:"stroke-linejoin",strokeMiterlimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",surfaceScale:"surfaceScale",systemLanguage:"systemLanguage",tableValues:"tableValues",targetX:"targetX",targetY:"targetY",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",textLength:"textLength",to:0,transform:0,u1:0,u2:0,underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicode:0,unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",values:0,vectorEffect:"vector-effect",version:0,vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",viewBox:"viewBox",viewTarget:"viewTarget",visibility:0,widths:0,wordSpacing:"word-spacing",writingMode:"writing-mode",x:0,xHeight:"x-height",x1:0,x2:0,xChannelSelector:"xChannelSelector",xlinkActuate:"xlink:actuate",xlinkArcrole:"xlink:arcrole",xlinkHref:"xlink:href",xlinkRole:"xlink:role",xlinkShow:"xlink:show",xlinkTitle:"xlink:title",xlinkType:"xlink:type",xmlBase:"xml:base",xmlns:0,xmlnsXlink:"xmlns:xlink",xmlLang:"xml:lang",xmlSpace:"xml:space",y:0,y1:0,y2:0,yChannelSelector:"yChannelSelector",z:0,zoomAndPan:"zoomAndPan"},i={Properties:{},DOMAttributeNamespaces:{xlinkActuate:n.xlink,xlinkArcrole:n.xlink,xlinkHref:n.xlink,xlinkRole:n.xlink,xlinkShow:n.xlink,xlinkTitle:n.xlink,xlinkType:n.xlink,xmlBase:n.xml,xmlLang:n.xml,xmlSpace:n.xml},DOMAttributeNames:{}};Object.keys(r).forEach(function(e){i.Properties[e]=0,r[e]&&(i.DOMAttributeNames[e]=r[e])}),e.exports=i},function(e,t,n){"use strict";function r(e){if("selectionStart"in e&&u.hasSelectionCapabilities(e))return{start:e.selectionStart,end:e.selectionEnd};if(window.getSelection){var t=window.getSelection();return{anchorNode:t.anchorNode,anchorOffset:t.anchorOffset,focusNode:t.focusNode,focusOffset:t.focusOffset}}if(document.selection){var n=document.selection.createRange();return{parentElement:n.parentElement(),text:n.text,top:n.boundingTop,left:n.boundingLeft}}}function i(e,t){if(v||null==y||y!==c())return null;var n=r(y);if(!m||!f(m,n)){m=n;var i=l.getPooled(h.select,_,e,t);return i.type="select",i.target=y,o.accumulateTwoPhaseDispatches(i),i}return null}var o=n(69),a=n(25),s=n(18),u=n(182),l=n(38),c=n(165),p=n(192),f=n(106),d=a.canUseDOM&&"documentMode"in document&&document.documentMode<=11,h={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:["topBlur","topContextMenu","topFocus","topKeyDown","topKeyUp","topMouseDown","topMouseUp","topSelectionChange"]}},y=null,_=null,m=null,v=!1,g=!1,b={eventTypes:h,extractEvents:function(e,t,n,r){if(!g)return null;var o=t?s.getNodeFromInstance(t):window;switch(e){case"topFocus":(p(o)||"true"===o.contentEditable)&&(y=o,_=t,m=null);break;case"topBlur":y=null,_=null,m=null;break;case"topMouseDown":v=!0;break;case"topContextMenu":case"topMouseUp":return v=!1,i(n,r);case"topSelectionChange":if(d)break;case"topKeyDown":case"topKeyUp":return i(n,r)}return null},didPutListener:function(e,t,n){"onSelect"===t&&(g=!0)}};e.exports=b},function(e,t,n){"use strict";function r(e){return"."+e._rootNodeID}function i(e){return"button"===e||"input"===e||"select"===e||"textarea"===e}var o=n(10),a=n(163),s=n(69),u=n(18),l=n(521),c=n(522),p=n(38),f=n(525),d=n(527),h=n(87),y=n(524),_=n(528),m=n(529),v=n(71),g=n(530),b=n(31),E=n(122),S=(n(4),{}),T={};["abort","animationEnd","animationIteration","animationStart","blur","canPlay","canPlayThrough","click","contextMenu","copy","cut","doubleClick","drag","dragEnd","dragEnter","dragExit","dragLeave","dragOver","dragStart","drop","durationChange","emptied","encrypted","ended","error","focus","input","invalid","keyDown","keyPress","keyUp","load","loadedData","loadedMetadata","loadStart","mouseDown","mouseMove","mouseOut","mouseOver","mouseUp","paste","pause","play","playing","progress","rateChange","reset","scroll","seeked","seeking","stalled","submit","suspend","timeUpdate","touchCancel","touchEnd","touchMove","touchStart","transitionEnd","volumeChange","waiting","wheel"].forEach(function(e){var t=e[0].toUpperCase()+e.slice(1),n="on"+t,r="top"+t,i={phasedRegistrationNames:{bubbled:n,captured:n+"Capture"},dependencies:[r]};S[e]=i,T[r]=i});var w={},C={eventTypes:S,extractEvents:function(e,t,n,r){var i=T[e];if(!i)return null;var a;switch(e){case"topAbort":case"topCanPlay":case"topCanPlayThrough":case"topDurationChange":case"topEmptied":case"topEncrypted":case"topEnded":case"topError":case"topInput":case"topInvalid":case"topLoad":case"topLoadedData":case"topLoadedMetadata":case"topLoadStart":case"topPause":case"topPlay":case"topPlaying":case"topProgress":case"topRateChange":case"topReset":case"topSeeked":case"topSeeking":case"topStalled":case"topSubmit":case"topSuspend":case"topTimeUpdate":case"topVolumeChange":case"topWaiting":a=p;break;case"topKeyPress":if(0===E(n))return null;case"topKeyDown":case"topKeyUp":a=d;break;case"topBlur":case"topFocus":a=f;break;case"topClick":if(2===n.button)return null;case"topDoubleClick":case"topMouseDown":case"topMouseMove":case"topMouseUp":case"topMouseOut":case"topMouseOver":case"topContextMenu":a=h;break;case"topDrag":case"topDragEnd":case"topDragEnter":case"topDragExit":case"topDragLeave":case"topDragOver":case"topDragStart":case"topDrop":a=y;break;case"topTouchCancel":case"topTouchEnd":case"topTouchMove":case"topTouchStart":a=_;break;case"topAnimationEnd":case"topAnimationIteration":case"topAnimationStart":a=l;break;case"topTransitionEnd":a=m;break;case"topScroll":a=v;break;case"topWheel":a=g;break;case"topCopy":case"topCut":case"topPaste":a=c}a?void 0:o("86",e);var u=a.getPooled(i,t,n,r);return s.accumulateTwoPhaseDispatches(u),u},didPutListener:function(e,t,n){if("onClick"===t&&!i(e._tag)){var o=r(e),s=u.getNodeFromInstance(e);w[o]||(w[o]=a.listen(s,"click",b))}},willDeleteListener:function(e,t){if("onClick"===t&&!i(e._tag)){var n=r(e);w[n].remove(),delete w[n]}}};e.exports=C},function(e,t,n){"use strict";function r(e,t,n,r){return i.call(this,e,t,n,r)}var i=n(38),o={animationName:null,elapsedTime:null,pseudoElement:null};i.augmentClass(r,o),e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){return i.call(this,e,t,n,r)}var i=n(38),o={clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}};i.augmentClass(r,o),e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){return i.call(this,e,t,n,r)}var i=n(38),o={data:null};i.augmentClass(r,o),e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){return i.call(this,e,t,n,r)}var i=n(87),o={dataTransfer:null};i.augmentClass(r,o),e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){return i.call(this,e,t,n,r)}var i=n(71),o={relatedTarget:null};i.augmentClass(r,o),e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){return i.call(this,e,t,n,r)}var i=n(38),o={data:null};i.augmentClass(r,o),e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){return i.call(this,e,t,n,r)}var i=n(71),o=n(122),a=n(535),s=n(123),u={key:a,location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:s,charCode:function(e){return"keypress"===e.type?o(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?o(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}};i.augmentClass(r,u),e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){return i.call(this,e,t,n,r)}var i=n(71),o=n(123),a={touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:o};i.augmentClass(r,a),e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){return i.call(this,e,t,n,r)}var i=n(38),o={propertyName:null,elapsedTime:null,pseudoElement:null};i.augmentClass(r,o),e.exports=r},function(e,t,n){"use strict";function r(e,t,n,r){return i.call(this,e,t,n,r)}var i=n(87),o={deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null};i.augmentClass(r,o),e.exports=r},function(e,t){"use strict";function n(e){for(var t=1,n=0,i=0,o=e.length,a=o&-4;i<a;){for(var s=Math.min(i+4096,a);i<s;i+=4)n+=(t+=e.charCodeAt(i))+(t+=e.charCodeAt(i+1))+(t+=e.charCodeAt(i+2))+(t+=e.charCodeAt(i+3));t%=r,n%=r}for(;i<o;i++)n+=t+=e.charCodeAt(i);return t%=r,n%=r,t|n<<16}var r=65521;e.exports=n},function(e,t,n){"use strict";function r(e,t,n){var r=null==t||"boolean"==typeof t||""===t;if(r)return"";var i=isNaN(t);if(i||0===t||o.hasOwnProperty(e)&&o[e])return""+t;if("string"==typeof t){t=t.trim()}return t+"px"}var i=n(173),o=(n(6),i.isUnitlessNumber);e.exports=r},function(e,t,n){"use strict";function r(e){if(null==e)return null;if(1===e.nodeType)return e;var t=a.get(e);return t?(t=s(t),t?o.getNodeFromInstance(t):null):void("function"==typeof e.render?i("44"):i("45",Object.keys(e)))}var i=n(10),o=(n(40),n(18)),a=n(70),s=n(188);n(4),n(6);e.exports=r},function(e,t,n){(function(t){"use strict";function r(e,t,n,r){if(e&&"object"==typeof e){var i=e,o=void 0===i[n];o&&null!=t&&(i[n]=t)}}function i(e,t){if(null==e)return e;var n={};return o(e,r,n),n}var o=(n(116),n(194));n(6);e.exports=i}).call(t,n(67))},function(e,t,n){"use strict";function r(e){if(e.key){var t=o[e.key]||e.key;if("Unidentified"!==t)return t}if("keypress"===e.type){var n=i(e);return 13===n?"Enter":String.fromCharCode(n)}return"keydown"===e.type||"keyup"===e.type?a[e.keyCode]||"Unidentified":""}var i=n(122),o={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},a={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};e.exports=r},213,function(e,t){"use strict";function n(){return r++}var r=1;e.exports=n},function(e,t){"use strict";function n(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function r(e){for(;e;){if(e.nextSibling)return e.nextSibling;e=e.parentNode}}function i(e,t){for(var i=n(e),o=0,a=0;i;){if(3===i.nodeType){if(a=o+i.textContent.length,o<=t&&a>=t)return{node:i,offset:t-o};o=a}i=n(r(i))}}e.exports=i},function(e,t,n){"use strict";function r(e){return'"'+i(e)+'"'}var i=n(89);e.exports=r},function(e,t,n){"use strict";var r=n(183);e.exports=r.renderSubtreeIntoContainer},[661,544],function(e,t,n){"use strict";e.exports=n(543)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=n(1),u=s.Component,l=function(e){function t(){return r(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),a(t,[{key:"render",value:function(){return this.props.component?s.createElement(this.props.component,this.props.props):s.Children.only(this.props.children)}}]),t}(u);e.exports=l},function(e,t,n){"use strict";var r=n(542);e.exports=function(e){throw this&&this.callback?new Error('React Hot Loader: The Webpack loader is now exported separately. If you use Babel, we recommend that you remove "react-hot-loader" from the "loaders" section of your Webpack configuration altogether, and instead add "react-hot-loader/babel" to the "plugins" section of your .babelrc file. If you prefer not to use Babel, replace "react-hot-loader" or "react-hot" with "react-hot-loader/webpack" in the "loaders" section of your Webpack configuration.'):e&&e.types&&e.types.IfStatement?new Error('React Hot Loader: The Babel plugin is exported separately. Replace "react-hot-loader" with "react-hot-loader/babel" in the "plugins" section of your .babelrc file. While we recommend the above, if you prefer not to use Babel, you may remove "react-hot-loader" from the "plugins" section of your .babelrc file altogether, and instead add "react-hot-loader/webpack" to the "loaders" section of your Webpack configuration.'):new Error('React Hot Loader does not have a default export. If you use the import statement, make sure to include the curly braces: import { AppContainer } from "react-hot-loader". If you use CommonJS, make sure to read the named export: require("react-hot-loader").AppContainer.')},e.exports.AppContainer=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0,t.default=void 0;var s=n(1),u=n(197),l=r(u),c=n(198),p=r(c),f=n(128),d=(r(f),function(e){function t(n,r){i(this,t);var a=o(this,e.call(this,n,r));return a.store=n.store,a}return a(t,e),t.prototype.getChildContext=function(){return{store:this.store,storeSubscription:null}},t.prototype.render=function(){return s.Children.only(this.props.children)},t}(s.Component));t.default=d,d.propTypes={store:p.default.isRequired,children:s.PropTypes.element.isRequired},d.childContextTypes={store:p.default.isRequired,storeSubscription:s.PropTypes.instanceOf(l.default)},d.displayName="Provider"},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function o(e,t,n){for(var r=t.length-1;r>=0;r--){var i=t[r](e);if(i)return i}return function(t,r){throw new Error("Invalid value of type "+typeof e+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function a(e,t){return e===t}function s(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.connectHOC,n=void 0===t?c.default:t,r=e.mapStateToPropsFactories,s=void 0===r?_.default:r,l=e.mapDispatchToPropsFactories,p=void 0===l?h.default:l,d=e.mergePropsFactories,y=void 0===d?v.default:d,m=e.selectorFactory,g=void 0===m?b.default:m;return function(e,t,r){var l=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},c=l.pure,d=void 0===c||c,h=l.areStatesEqual,_=void 0===h?a:h,m=l.areOwnPropsEqual,v=void 0===m?f.default:m,b=l.areStatePropsEqual,E=void 0===b?f.default:b,S=l.areMergedPropsEqual,T=void 0===S?f.default:S,w=i(l,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),C=o(e,s,"mapStateToProps"),O=o(t,p,"mapDispatchToProps"),k=o(r,y,"mergeProps");return n(g,u({methodName:"connect",getDisplayName:function(e){return"Connect("+e+")"},shouldHandleStateChanges:Boolean(e),initMapStateToProps:C,initMapDispatchToProps:O,initMergeProps:k,pure:d,areStatesEqual:_,areOwnPropsEqual:v,areStatePropsEqual:E,areMergedPropsEqual:T},w))}}t.__esModule=!0;var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.createConnect=s;var l=n(195),c=r(l),p=n(552),f=r(p),d=n(547),h=r(d),y=n(548),_=r(y),m=n(549),v=r(m),g=n(550),b=r(g);t.default=s()},function(e,t,n){"use strict";function r(e){return"function"==typeof e?(0,s.wrapMapToPropsFunc)(e,"mapDispatchToProps"):void 0}function i(e){return e?void 0:(0,s.wrapMapToPropsConstant)(function(e){return{dispatch:e}})}function o(e){return e&&"object"==typeof e?(0,s.wrapMapToPropsConstant)(function(t){return(0,a.bindActionCreators)(e,t)}):void 0}t.__esModule=!0,t.whenMapDispatchToPropsIsFunction=r,t.whenMapDispatchToPropsIsMissing=i,t.whenMapDispatchToPropsIsObject=o;var a=n(135),s=n(196);t.default=[r,i,o]},function(e,t,n){"use strict";function r(e){return"function"==typeof e?(0,o.wrapMapToPropsFunc)(e,"mapStateToProps"):void 0}function i(e){return e?void 0:(0,o.wrapMapToPropsConstant)(function(){return{}})}t.__esModule=!0,t.whenMapStateToPropsIsFunction=r,t.whenMapStateToPropsIsMissing=i;var o=n(196);t.default=[r,i]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){return u({},n,e,t)}function o(e){return function(t,n){var r=(n.displayName,n.pure),i=n.areMergedPropsEqual,o=!1,a=void 0;return function(t,n,s){var u=e(t,n,s);return o?r&&i(u,a)||(a=u):(o=!0,a=u),a}}}function a(e){return"function"==typeof e?o(e):void 0}function s(e){return e?void 0:function(){return i}}t.__esModule=!0;var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.defaultMergeProps=i,t.wrapMergePropsFunc=o,t.whenMergePropsIsFunction=a,t.whenMergePropsIsOmitted=s;var l=n(199);r(l);t.default=[a,s]},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function o(e,t,n,r){return function(i,o){return n(e(i,o),t(r,o),o)}}function a(e,t,n,r,i){function o(i,o){return h=i,y=o,_=e(h,y),m=t(r,y),v=n(_,m,y),d=!0,v}function a(){return _=e(h,y),t.dependsOnOwnProps&&(m=t(r,y)),v=n(_,m,y)}function s(){return e.dependsOnOwnProps&&(_=e(h,y)),t.dependsOnOwnProps&&(m=t(r,y)),v=n(_,m,y)}function u(){var t=e(h,y),r=!f(t,_);return _=t,r&&(v=n(_,m,y)),v}function l(e,t){var n=!p(t,y),r=!c(e,h);return h=e,y=t,n&&r?a():n?s():r?u():v}var c=i.areStatesEqual,p=i.areOwnPropsEqual,f=i.areStatePropsEqual,d=!1,h=void 0,y=void 0,_=void 0,m=void 0,v=void 0;return function(e,t){return d?l(e,t):o(e,t)}}function s(e,t){var n=t.initMapStateToProps,r=t.initMapDispatchToProps,s=t.initMergeProps,u=i(t,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),l=n(e,u),c=r(e,u),p=s(e,u),f=u.pure?a:o;return f(l,c,p,e,u)}t.__esModule=!0,t.impureFinalPropsSelectorFactory=o,t.pureFinalPropsSelectorFactory=a,t.default=s;var u=n(551);r(u)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){if(!e)throw new Error("Unexpected value for "+t+" in "+n+".");"mapStateToProps"!==t&&"mapDispatchToProps"!==t||e.hasOwnProperty("dependsOnOwnProps")||(0,s.default)("The selector for "+t+" of "+n+" did not specify a value for dependsOnOwnProps.")}function o(e,t,n,r){i(e,"mapStateToProps",r),i(t,"mapDispatchToProps",r),i(n,"mergeProps",r)}t.__esModule=!0,t.default=o;var a=n(128),s=r(a)},function(e,t){"use strict";function n(e,t){if(e===t)return!0;var n=0,i=0;for(var o in e){if(r.call(e,o)&&e[o]!==t[o])return!1;n++}for(var a in t)r.call(t,a)&&i++;return n===i}t.__esModule=!0,t.default=n;var r=Object.prototype.hasOwnProperty},function(e,t,n){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}function i(e){return function(){return function(t){return function(n){if(n.type!==o.CALL_HISTORY_METHOD)return t(n);var i=n.payload,a=i.method,s=i.args;e[a].apply(e,r(s))}}}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=i;var o=n(200)},function(e,t,n){"use strict";function r(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.selectLocationState,s=void 0===r?a:r,u=n.adjustUrlOnReplay,l=void 0===u||u;if("undefined"==typeof s(t.getState()))throw new Error("Expected the routing state to be available either as `state.routing` or as the custom expression you can specify as `selectLocationState` in the `syncHistoryWithStore()` options. Ensure you have added the `routerReducer` to your store's reducers via `combineReducers` or whatever method you use to isolate your reducers.");var c=void 0,p=void 0,f=void 0,d=void 0,h=void 0,y=function(e){var n=s(t.getState());return n.locationBeforeTransitions||(e?c:void 0)};if(c=y(),l){var _=function(){var t=y(!0);h!==t&&c!==t&&(p=!0,h=t,e.transitionTo(i({},t,{action:"PUSH"})),p=!1)};f=t.subscribe(_),_()}var m=function(e){p||(h=e,!c&&(c=e,y())||t.dispatch({type:o.LOCATION_CHANGE,payload:e}))};return d=e.listen(m),e.getCurrentLocation&&m(e.getCurrentLocation()),i({},e,{listen:function(n){var r=y(!0),i=!1,o=t.subscribe(function(){var e=y(!0);e!==r&&(r=e,i||n(r))});return e.getCurrentLocation||n(r),function(){i=!0,o()}},unsubscribe:function(){l&&f(),d()}})}Object.defineProperty(t,"__esModule",{value:!0});var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=r;var o=n(201),a=function(e){return e.routing}},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}t.__esModule=!0;var s=n(1),u=r(s),l=n(596),c=r(l),p=function(e){function t(){return i(this,t),o(this,e.apply(this,arguments))}return a(t,e),t.prototype.componentDidMount=function(){var e=this,t=this.props.routerProps;this.scrollBehavior=new c.default(t.router,function(){return e.props.routerProps.location}),this.onUpdate(null,t)},t.prototype.componentDidUpdate=function(e){var t=this.props.routerProps,n=e.routerProps;t.location!==n.location&&this.onUpdate(n,t)},t.prototype.componentWillUnmount=function(){this.scrollBehavior.stop()},t.prototype.onUpdate=function(e,t){var n=this.props.shouldUpdateScroll,r=void 0;r=!n||n.call(this.scrollBehavior,e,t),this.scrollBehavior.updateScroll(r)},t.prototype.render=function(){return this.props.children},t}(u.default.Component);p.propTypes={shouldUpdateScroll:u.default.PropTypes.func,routerProps:u.default.PropTypes.object.isRequired,children:u.default.PropTypes.node.isRequired},t.default=p,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){return{renderRouterContext:function(t,n){return a.default.createElement(u.default,{shouldUpdateScroll:e,routerProps:n},t)}}}t.__esModule=!0,t.default=i;var o=n(1),a=r(o),s=n(555),u=r(s);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=n(22),o=(r(i),n(48)),a={contextTypes:{history:o.history},componentWillMount:function(){this.history=this.context.history}};t.default=a,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(1),a=r(o),s=n(202),u=r(s),l=a.default.createClass({displayName:"IndexLink",render:function(){return a.default.createElement(u.default,i({},this.props,{onlyActiveOnIndex:!0}))}});t.default=l,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=n(1),o=r(i),a=n(22),s=(r(a),n(21)),u=r(s),l=n(203),c=r(l),p=n(48),f=o.default.PropTypes,d=f.string,h=f.object,y=o.default.createClass({displayName:"IndexRedirect",statics:{createRouteFromReactElement:function(e,t){t&&(t.indexRoute=c.default.createRouteFromReactElement(e))}},propTypes:{to:d.isRequired,query:h,state:h,onEnter:p.falsy,children:p.falsy},render:function(){(0,u.default)(!1)}});t.default=y,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=n(1),o=r(i),a=n(22),s=(r(a),n(21)),u=r(s),l=n(44),c=n(48),p=o.default.PropTypes.func,f=o.default.createClass({displayName:"IndexRoute",statics:{createRouteFromReactElement:function(e,t){t&&(t.indexRoute=(0,l.createRouteFromReactElement)(e))}},propTypes:{path:c.falsy,component:c.component,components:c.components,getComponent:p,getComponents:p},render:function(){(0,u.default)(!1)}});t.default=f,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=n(22),o=(r(i),n(1)),a=r(o),s=n(21),u=r(s),l=a.default.PropTypes.object,c={contextTypes:{history:l.isRequired,route:l},propTypes:{route:l},componentDidMount:function(){this.routerWillLeave?void 0:(0,u.default)(!1);var e=this.props.route||this.context.route;e?void 0:(0,u.default)(!1),this._unlistenBeforeLeavingRoute=this.context.history.listenBeforeLeavingRoute(e,this.routerWillLeave)},componentWillUnmount:function(){this._unlistenBeforeLeavingRoute&&this._unlistenBeforeLeavingRoute()}};t.default=c,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=n(1),o=r(i),a=n(21),s=r(a),u=n(44),l=n(48),c=o.default.PropTypes,p=c.string,f=c.func,d=o.default.createClass({displayName:"Route",statics:{createRouteFromReactElement:u.createRouteFromReactElement},propTypes:{path:p,component:l.component,components:l.components,getComponent:f,getComponents:f},render:function(){(0,s.default)(!1)}});t.default=d,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=n(22),o=(r(i),n(1)),a=r(o),s=a.default.PropTypes.object,u={propTypes:{route:s.isRequired},childContextTypes:{route:s.isRequired},getChildContext:function(){return{route:this.props.route}},componentWillMount:function(){}};t.default=u,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function o(e){return!e||!e.__v2_compatible__}function a(e){return e&&e.getCurrentLocation}t.__esModule=!0;var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},u=n(167),l=r(u),c=n(83),p=r(c),f=n(21),d=r(f),h=n(1),y=r(h),_=n(131),m=r(_),v=n(48),g=n(91),b=r(g),E=n(44),S=n(204),T=n(22),w=(r(T),y.default.PropTypes),C=w.func,O=w.object,k=y.default.createClass({displayName:"Router",propTypes:{history:O,children:v.routes,routes:v.routes,render:C,createElement:C,onError:C,onUpdate:C,parseQueryString:C,stringifyQuery:C,matchContext:O},getDefaultProps:function(){return{render:function(e){return y.default.createElement(b.default,e)}}},getInitialState:function(){return{location:null,routes:null,params:null,components:null}},handleError:function(e){if(!this.props.onError)throw e;this.props.onError.call(this,e)},componentWillMount:function(){var e=this,t=this.props,n=(t.parseQueryString,t.stringifyQuery,this.createRouterObjects()),r=n.history,i=n.transitionManager,o=n.router;this._unlisten=i.listen(function(t,n){t?e.handleError(t):e.setState(n,e.props.onUpdate)}),this.history=r,this.router=o},createRouterObjects:function(){var e=this.props.matchContext;if(e)return e;var t=this.props.history,n=this.props,r=n.routes,i=n.children;a(t)?(0,d.default)(!1):void 0,o(t)&&(t=this.wrapDeprecatedHistory(t));var s=(0,m.default)(t,(0,E.createRoutes)(r||i)),u=(0,S.createRouterObject)(t,s),l=(0,S.createRoutingHistory)(t,s);return{history:l,transitionManager:s,router:u}},wrapDeprecatedHistory:function(e){var t=this.props,n=t.parseQueryString,r=t.stringifyQuery,i=void 0;return i=e?function(){return e}:l.default,(0,p.default)(i)({parseQueryString:n,stringifyQuery:r})},componentWillReceiveProps:function(e){},componentWillUnmount:function(){this._unlisten&&this._unlisten()},render:function e(){var t=this.state,n=t.location,r=t.routes,o=t.params,a=t.components,u=this.props,l=u.createElement,e=u.render,c=i(u,["createElement","render"]);return null==n?null:(Object.keys(k.propTypes).forEach(function(e){return delete c[e]}),e(s({},c,{history:this.history,router:this.router,location:n,routes:r,params:o,components:a,createElement:l})))}});t.default=k,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=n(1),o=r(i),a=n(91),s=r(a),u=n(22),l=(r(u),o.default.createClass({displayName:"RoutingContext",componentWillMount:function(){},render:function(){return o.default.createElement(s.default,this.props)}}));t.default=l,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){return function(){for(var r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];if(e.apply(t,i),e.length<n){var a=i[i.length-1];a()}}}function o(e){return e.reduce(function(e,t){return t.onEnter&&e.push(i(t.onEnter,t,3)),e},[])}function a(e){return e.reduce(function(e,t){return t.onChange&&e.push(i(t.onChange,t,4)),e},[])}function s(e,t,n){function r(e,t,n){return t?void(i={pathname:t,query:n,state:e}):void(i=e)}if(!e)return void n();var i=void 0;(0,p.loopAsync)(e,function(e,n,o){t(e,r,function(e){e||i?o(e,i):n()})},n)}function u(e,t,n){var r=o(e);return s(r.length,function(e,n,i){r[e](t,n,i)},n)}function l(e,t,n,r){var i=a(e);return s(i.length,function(e,r,o){i[e](t,n,r,o)},r)}function c(e,t){for(var n=0,r=e.length;n<r;++n)e[n].onLeave&&e[n].onLeave.call(e[n],t)}t.__esModule=!0,t.runEnterHooks=u,t.runChangeHooks=l,t.runLeaveHooks=c;var p=n(129),f=n(22);r(f)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=n(1),a=r(o),s=n(91),u=r(s),l=n(22);r(l);t.default=function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t.map(function(e){return e.renderRouterContext}).filter(Boolean),s=t.map(function(e){return e.renderRouteComponent}).filter(Boolean),l=function(){var e=arguments.length<=0||void 0===arguments[0]?o.createElement:arguments[0];return function(t,n){return s.reduceRight(function(e,t){return t(e,n)},e(t,n))}};return function(e){return r.reduceRight(function(t,n){return n(t,e);
},a.default.createElement(u.default,i({},e,{createElement:l(e.createElement)})))}},e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=n(454),o=r(i),a=n(206),s=r(a);t.default=(0,s.default)(o.default),e.exports=t.default},function(e,t,n){"use strict";function r(e,t,n){if(!e.path)return!1;var r=(0,o.getParamNames)(e.path);return r.some(function(e){return t.params[e]!==n.params[e]})}function i(e,t){var n=e&&e.routes,i=t.routes,o=void 0,a=void 0,s=void 0;return n?!function(){var u=!1;o=n.filter(function(n){if(u)return!0;var o=i.indexOf(n)===-1||r(n,e,t);return o&&(u=!0),o}),o.reverse(),s=[],a=[],i.forEach(function(e){var t=n.indexOf(e)===-1,r=o.indexOf(e)!==-1;t||r?s.push(e):a.push(e)})}():(o=[],a=[],s=i),{leaveRoutes:o,changeRoutes:a,enterRoutes:s}}t.__esModule=!0;var o=n(60);t.default=i,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n){if(t.component||t.components)return void n(null,t.component||t.components);var r=t.getComponent||t.getComponents;if(!r)return void n();var i=e.location,o=(0,u.default)(e,i);r.call(t,o,n)}function o(e,t){(0,a.mapAsync)(e.routes,function(t,n,r){i(e,t,r)},t)}t.__esModule=!0;var a=n(129),s=n(207),u=r(s);t.default=o,e.exports=t.default},function(e,t,n){"use strict";function r(e,t){var n={};return e.path?((0,i.getParamNames)(e.path).forEach(function(e){Object.prototype.hasOwnProperty.call(t,e)&&(n[e]=t[e])}),n):n}t.__esModule=!0;var i=n(60);t.default=r,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=n(167),o=r(i),a=n(206),s=r(a);t.default=(0,s.default)(o.default),e.exports=t.default},function(e,t,n){"use strict";function r(e,t){if(e==t)return!0;if(null==e||null==t)return!1;if(Array.isArray(e))return Array.isArray(t)&&e.length===t.length&&e.every(function(e,n){return r(e,t[n])});if("object"===("undefined"==typeof e?"undefined":u(e))){for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n))if(void 0===e[n]){if(void 0!==t[n])return!1}else{if(!Object.prototype.hasOwnProperty.call(t,n))return!1;if(!r(e[n],t[n]))return!1}return!0}return String(e)===String(t)}function i(e,t){return"/"!==t.charAt(0)&&(t="/"+t),"/"!==e.charAt(e.length-1)&&(e+="/"),"/"!==t.charAt(t.length-1)&&(t+="/"),t===e}function o(e,t,n){for(var r=e,i=[],o=[],a=0,s=t.length;a<s;++a){var u=t[a],c=u.path||"";if("/"===c.charAt(0)&&(r=e,i=[],o=[]),null!==r&&c){var p=(0,l.matchPattern)(c,r);if(p?(r=p.remainingPathname,i=[].concat(i,p.paramNames),o=[].concat(o,p.paramValues)):r=null,""===r)return i.every(function(e,t){return String(o[t])===String(n[e])})}}return!1}function a(e,t){return null==t?null==e:null==e||r(e,t)}function s(e,t,n,r,s){var u=e.pathname,l=e.query;return null!=n&&("/"!==u.charAt(0)&&(u="/"+u),!!(i(u,n.pathname)||!t&&o(u,r,s))&&a(l,n.query))}t.__esModule=!0;var u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};t.default=s;var l=n(60);e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function o(e,t){var n=e.history,r=e.routes,o=e.location,u=i(e,["history","routes","location"]);n||o?void 0:(0,l.default)(!1),n=n?n:(0,p.default)(u);var c=(0,d.default)(n,(0,h.createRoutes)(r)),f=void 0;o?o=n.createLocation(o):f=n.listen(function(e){o=e});var _=(0,y.createRouterObject)(n,c);n=(0,y.createRoutingHistory)(n,c),c.match(o,function(e,r,i){t(e,r&&_.createLocation(r,s.REPLACE),i&&a({},i,{history:n,router:_,matchContext:{history:n,transitionManager:c,router:_}})),f&&f()})}t.__esModule=!0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=n(45),u=n(21),l=r(u),c=n(205),p=r(c),f=n(131),d=r(f),h=n(44),y=n(204);t.default=o,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t,n,r,i){if(e.childRoutes)return[null,e.childRoutes];if(!e.getChildRoutes)return[];var o=!0,a=void 0,u={location:t,params:s(n,r)},l=(0,h.default)(u,t);return e.getChildRoutes(l,function(e,t){return t=!e&&(0,m.createRoutes)(t),o?void(a=[e,t]):void i(e,t)}),o=!1,a}function o(e,t,n,r,i){if(e.indexRoute)i(null,e.indexRoute);else if(e.getIndexRoute){var a={location:t,params:s(n,r)},u=(0,h.default)(a,t);e.getIndexRoute(u,function(e,t){i(e,!e&&(0,m.createRoutes)(t)[0])})}else e.childRoutes?!function(){var a=e.childRoutes.filter(function(e){return!e.path});(0,f.loopAsync)(a.length,function(e,i,s){o(a[e],t,n,r,function(t,n){if(t||n){var r=[a[e]].concat(Array.isArray(n)?n:[n]);s(t,r)}else i()})},function(e,t){i(null,t)})}():i()}function a(e,t,n){return t.reduce(function(e,t,r){var i=n&&n[r];return Array.isArray(e[t])?e[t].push(i):t in e?e[t]=[e[t],i]:e[t]=i,e},e)}function s(e,t){return a({},e,t)}function u(e,t,n,r,a,u){var c=e.path||"";if("/"===c.charAt(0)&&(n=t.pathname,r=[],a=[]),null!==n&&c){try{var f=(0,y.matchPattern)(c,n);f?(n=f.remainingPathname,r=[].concat(r,f.paramNames),a=[].concat(a,f.paramValues)):n=null}catch(e){u(e)}if(""===n){var d=function(){var n={routes:[e],params:s(r,a)};return o(e,t,r,a,function(e,t){if(e)u(e);else{if(Array.isArray(t)){var r;(r=n.routes).push.apply(r,t)}else t&&n.routes.push(t);u(null,n)}}),{v:void 0}}();if("object"===("undefined"==typeof d?"undefined":p(d)))return d.v}}if(null!=n||e.childRoutes){var h=function(i,o){i?u(i):o?l(o,t,function(t,n){t?u(t):n?(n.routes.unshift(e),u(null,n)):u()},n,r,a):u()},_=i(e,t,r,a,h);_&&h.apply(void 0,_)}else u()}function l(e,t,n,r){var i=arguments.length<=4||void 0===arguments[4]?[]:arguments[4],o=arguments.length<=5||void 0===arguments[5]?[]:arguments[5];void 0===r&&("/"!==t.pathname.charAt(0)&&(t=c({},t,{pathname:"/"+t.pathname})),r=t.pathname),(0,f.loopAsync)(e.length,function(n,a,s){u(e[n],t,r,i,o,function(e,t){e||t?s(e,t):a()})},n)}t.__esModule=!0;var c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};t.default=l;var f=n(129),d=n(207),h=r(d),y=n(60),_=n(22),m=(r(_),n(44));e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}function o(e){return function(){var t=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],n=t.routes,r=i(t,["routes"]),o=(0,u.default)(e)(r),s=(0,c.default)(o,n);return a({},o,s)}}t.__esModule=!0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s=n(83),u=r(s),l=n(131),c=r(l),p=n(22);r(p);t.default=o,e.exports=t.default},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e){return e.displayName||e.name||"Component"}function o(e,t){var n=t&&t.withRef,r=c.default.createClass({displayName:"WithRouter",contextTypes:{router:d.routerShape},propTypes:{router:d.routerShape},getWrappedInstance:function(){return n?void 0:(0,u.default)(!1),this.wrappedInstance},render:function(){var t=this,r=this.props.router||this.context.router,i=a({},this.props,{router:r});return n&&(i.ref=function(e){t.wrappedInstance=e}),c.default.createElement(e,i)}});return r.displayName="withRouter("+i(e)+")",r.WrappedComponent=e,(0,f.default)(r,e)}t.__esModule=!0;var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=o;var s=n(21),u=r(s),l=n(1),c=r(l),p=n(170),f=r(p),d=n(130);e.exports=t.default},[660,62],function(e,t,n){"use strict";var r=n(176);t.getReactDOM=function(){return r}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e){var t="transition"+e+"Timeout",n="transition"+e;return function(e){if(e[n]){if(null==e[t])return new Error(t+" wasn't supplied to ReactCSSTransitionGroup: this can cause unreliable animations and won't be supported in a future version of React. See https://fb.me/react-animation-transition-group-timeout for more information.");if("number"!=typeof e[t])return new Error(t+" must be a number (in milliseconds)")}}}var s=n(11),u=n(39),l=n(590),c=n(581),p=function(e){function t(){var n,o,a;r(this,t);for(var s=arguments.length,l=Array(s),p=0;p<s;p++)l[p]=arguments[p];return n=o=i(this,e.call.apply(e,[this].concat(l))),o._wrapChild=function(e){return u.createElement(c,{name:o.props.transitionName,appear:o.props.transitionAppear,enter:o.props.transitionEnter,leave:o.props.transitionLeave,appearTimeout:o.props.transitionAppearTimeout,enterTimeout:o.props.transitionEnterTimeout,leaveTimeout:o.props.transitionLeaveTimeout},e)},a=n,i(o,a)}return o(t,e),t.prototype.render=function(){return u.createElement(l,s({},this.props,{childFactory:this._wrapChild}))},t}(u.Component);p.displayName="ReactCSSTransitionGroup",p.propTypes={transitionName:c.propTypes.name,transitionAppear:u.PropTypes.bool,transitionEnter:u.PropTypes.bool,transitionLeave:u.PropTypes.bool,transitionAppearTimeout:a("Appear"),transitionEnterTimeout:a("Enter"),transitionLeaveTimeout:a("Leave")},p.defaultProps={transitionAppear:!1,transitionEnter:!0,transitionLeave:!0},e.exports=p},function(e,t,n){"use strict";var r=n(39),i=n(579),o=n(440),a=n(589),s=n(214),u=17,l=r.createClass({displayName:"ReactCSSTransitionGroupChild",propTypes:{name:r.PropTypes.oneOfType([r.PropTypes.string,r.PropTypes.shape({enter:r.PropTypes.string,leave:r.PropTypes.string,active:r.PropTypes.string}),r.PropTypes.shape({enter:r.PropTypes.string,enterActive:r.PropTypes.string,leave:r.PropTypes.string,leaveActive:r.PropTypes.string,appear:r.PropTypes.string,appearActive:r.PropTypes.string})]).isRequired,appear:r.PropTypes.bool,enter:r.PropTypes.bool,leave:r.PropTypes.bool,appearTimeout:r.PropTypes.number,enterTimeout:r.PropTypes.number,leaveTimeout:r.PropTypes.number},transition:function(e,t,n){var r=i.getReactDOM().findDOMNode(this);if(!r)return void(t&&t());var s=this.props.name[e]||this.props.name+"-"+e,u=this.props.name[e+"Active"]||s+"-active",l=null,c=function(e){e&&e.target!==r||(clearTimeout(l),o.removeClass(r,s),o.removeClass(r,u),a.removeEndEventListener(r,c),t&&t())};o.addClass(r,s),this.queueClassAndNode(u,r),n?(l=setTimeout(c,n),this.transitionTimeouts.push(l)):a.addEndEventListener(r,c)},queueClassAndNode:function(e,t){this.classNameAndNodeQueue.push({className:e,node:t}),this.timeout||(this.timeout=setTimeout(this.flushClassNameAndNodeQueue,u))},flushClassNameAndNodeQueue:function(){this.isMounted()&&this.classNameAndNodeQueue.forEach(function(e){o.addClass(e.node,e.className)}),this.classNameAndNodeQueue.length=0,this.timeout=null},componentWillMount:function(){this.classNameAndNodeQueue=[],this.transitionTimeouts=[]},componentWillUnmount:function(){this.timeout&&clearTimeout(this.timeout),this.transitionTimeouts.forEach(function(e){clearTimeout(e)}),this.classNameAndNodeQueue.length=0},componentWillAppear:function(e){this.props.appear?this.transition("appear",e,this.props.appearTimeout):e()},componentWillEnter:function(e){this.props.enter?this.transition("enter",e,this.props.enterTimeout):e()},componentWillLeave:function(e){this.props.leave?this.transition("leave",e,this.props.leaveTimeout):e()},render:function(){return s(this.props.children)}});e.exports=l},function(e,t,n){"use strict";function r(e){return(""+e).replace(b,"$&/")}function i(e,t){this.func=e,this.context=t,this.count=0}function o(e,t,n){var r=e.func,i=e.context;r.call(i,t,e.count++)}function a(e,t,n){if(null==e)return e;var r=i.getPooled(t,n);m(e,o,r),i.release(r)}function s(e,t,n,r){this.result=e,this.keyPrefix=t,this.func=n,this.context=r,this.count=0}function u(e,t,n){var i=e.result,o=e.keyPrefix,a=e.func,s=e.context,u=a.call(s,t,e.count++);Array.isArray(u)?l(u,i,n,_.thatReturnsArgument):null!=u&&(y.isValidElement(u)&&(u=y.cloneAndReplaceKey(u,o+(!u.key||t&&t.key===u.key?"":r(u.key)+"/")+n)),i.push(u))}function l(e,t,n,i,o){var a="";null!=n&&(a=r(n)+"/");var l=s.getPooled(t,a,i,o);m(e,u,l),s.release(l)}function c(e,t,n){if(null==e)return e;var r=[];return l(e,r,null,t,n),r}function p(e,t,n){return null}function f(e,t){return m(e,p,null)}function d(e){var t=[];return l(e,t,null,_.thatReturnsArgument),t}var h=n(578),y=n(61),_=n(31),m=n(215),v=h.twoArgumentPooler,g=h.fourArgumentPooler,b=/\/+/g;i.prototype.destructor=function(){this.func=null,this.context=null,this.count=0},h.addPoolingTo(i,v),s.prototype.destructor=function(){this.result=null,this.keyPrefix=null,this.func=null,this.context=null,this.count=0},h.addPoolingTo(s,g);var E={forEach:a,map:c,mapIntoWithKeyPrefixInternal:l,count:f,toArray:d};e.exports=E},function(e,t,n){"use strict";function r(e){return e}function i(e,t){var n=b.hasOwnProperty(t)?b[t]:null;S.hasOwnProperty(t)&&("OVERRIDE_BASE"!==n?f("73",t):void 0),e&&("DEFINE_MANY"!==n&&"DEFINE_MANY_MERGED"!==n?f("74",t):void 0)}function o(e,t){if(t){"function"==typeof t?f("75"):void 0,y.isValidElement(t)?f("76"):void 0;var n=e.prototype,r=n.__reactAutoBindPairs;t.hasOwnProperty(v)&&E.mixins(e,t.mixins);for(var o in t)if(t.hasOwnProperty(o)&&o!==v){var a=t[o],s=n.hasOwnProperty(o);if(i(s,o),E.hasOwnProperty(o))E[o](e,a);else{var c=b.hasOwnProperty(o),p="function"==typeof a,d=p&&!c&&!s&&t.autobind!==!1;if(d)r.push(o,a),n[o]=a;else if(s){var h=b[o];!c||"DEFINE_MANY_MERGED"!==h&&"DEFINE_MANY"!==h?f("77",h,o):void 0,"DEFINE_MANY_MERGED"===h?n[o]=u(n[o],a):"DEFINE_MANY"===h&&(n[o]=l(n[o],a))}else n[o]=a}}}else;}function a(e,t){if(t)for(var n in t){var r=t[n];if(t.hasOwnProperty(n)){var i=n in E;i?f("78",n):void 0;var o=n in e;o?f("79",n):void 0,e[n]=r}}}function s(e,t){e&&t&&"object"==typeof e&&"object"==typeof t?void 0:f("80");for(var n in t)t.hasOwnProperty(n)&&(void 0!==e[n]?f("81",n):void 0,e[n]=t[n]);return e}function u(e,t){return function(){var n=e.apply(this,arguments),r=t.apply(this,arguments);if(null==n)return r;if(null==r)return n;var i={};return s(i,n),s(i,r),i}}function l(e,t){return function(){e.apply(this,arguments),t.apply(this,arguments)}}function c(e,t){var n=t.bind(e);return n}function p(e){for(var t=e.__reactAutoBindPairs,n=0;n<t.length;n+=2){var r=t[n],i=t[n+1];e[r]=c(e,i)}}var f=n(62),d=n(11),h=n(132),y=n(61),_=(n(211),n(134)),m=n(66),v=(n(4),n(6),"mixins"),g=[],b={mixins:"DEFINE_MANY",statics:"DEFINE_MANY",propTypes:"DEFINE_MANY",contextTypes:"DEFINE_MANY",childContextTypes:"DEFINE_MANY",getDefaultProps:"DEFINE_MANY_MERGED",getInitialState:"DEFINE_MANY_MERGED",getChildContext:"DEFINE_MANY_MERGED",render:"DEFINE_ONCE",componentWillMount:"DEFINE_MANY",componentDidMount:"DEFINE_MANY",componentWillReceiveProps:"DEFINE_MANY",shouldComponentUpdate:"DEFINE_ONCE",componentWillUpdate:"DEFINE_MANY",componentDidUpdate:"DEFINE_MANY",componentWillUnmount:"DEFINE_MANY",updateComponent:"OVERRIDE_BASE"},E={displayName:function(e,t){e.displayName=t},mixins:function(e,t){if(t)for(var n=0;n<t.length;n++)o(e,t[n])},childContextTypes:function(e,t){e.childContextTypes=d({},e.childContextTypes,t)},contextTypes:function(e,t){e.contextTypes=d({},e.contextTypes,t)},getDefaultProps:function(e,t){e.getDefaultProps?e.getDefaultProps=u(e.getDefaultProps,t):e.getDefaultProps=t},propTypes:function(e,t){e.propTypes=d({},e.propTypes,t)},statics:function(e,t){a(e,t)},autobind:function(){}},S={replaceState:function(e,t){this.updater.enqueueReplaceState(this,e),t&&this.updater.enqueueCallback(this,t,"replaceState")},isMounted:function(){return this.updater.isMounted(this)}},T=function(){};d(T.prototype,h.prototype,S);var w={createClass:function(e){var t=r(function(e,n,r){this.__reactAutoBindPairs.length&&p(this),this.props=e,this.context=n,this.refs=m,this.updater=r||_,this.state=null;var i=this.getInitialState?this.getInitialState():null;"object"!=typeof i||Array.isArray(i)?f("82",t.displayName||"ReactCompositeComponent"):void 0,this.state=i});t.prototype=new T,t.prototype.constructor=t,t.prototype.__reactAutoBindPairs=[],g.forEach(o.bind(null,t)),o(t,e),t.getDefaultProps&&(t.defaultProps=t.getDefaultProps()),t.prototype.render?void 0:f("83");for(var n in b)t.prototype[n]||(t.prototype[n]=null);return t},injection:{injectMixin:function(e){g.push(e)}}};e.exports=w},function(e,t,n){"use strict";var r=n(61),i=r.createFactory,o={a:i("a"),abbr:i("abbr"),address:i("address"),area:i("area"),article:i("article"),aside:i("aside"),audio:i("audio"),b:i("b"),base:i("base"),bdi:i("bdi"),bdo:i("bdo"),big:i("big"),blockquote:i("blockquote"),body:i("body"),br:i("br"),button:i("button"),canvas:i("canvas"),caption:i("caption"),cite:i("cite"),code:i("code"),col:i("col"),colgroup:i("colgroup"),data:i("data"),datalist:i("datalist"),dd:i("dd"),del:i("del"),details:i("details"),dfn:i("dfn"),dialog:i("dialog"),div:i("div"),dl:i("dl"),dt:i("dt"),em:i("em"),embed:i("embed"),fieldset:i("fieldset"),figcaption:i("figcaption"),figure:i("figure"),footer:i("footer"),form:i("form"),h1:i("h1"),h2:i("h2"),h3:i("h3"),h4:i("h4"),h5:i("h5"),h6:i("h6"),head:i("head"),header:i("header"),hgroup:i("hgroup"),hr:i("hr"),html:i("html"),i:i("i"),iframe:i("iframe"),img:i("img"),input:i("input"),ins:i("ins"),kbd:i("kbd"),keygen:i("keygen"),label:i("label"),legend:i("legend"),li:i("li"),link:i("link"),main:i("main"),map:i("map"),mark:i("mark"),menu:i("menu"),menuitem:i("menuitem"),meta:i("meta"),meter:i("meter"),nav:i("nav"),noscript:i("noscript"),object:i("object"),ol:i("ol"),optgroup:i("optgroup"),option:i("option"),output:i("output"),p:i("p"),param:i("param"),picture:i("picture"),pre:i("pre"),progress:i("progress"),q:i("q"),rp:i("rp"),rt:i("rt"),ruby:i("ruby"),s:i("s"),samp:i("samp"),script:i("script"),section:i("section"),select:i("select"),small:i("small"),source:i("source"),span:i("span"),strong:i("strong"),style:i("style"),sub:i("sub"),summary:i("summary"),sup:i("sup"),table:i("table"),tbody:i("tbody"),td:i("td"),textarea:i("textarea"),tfoot:i("tfoot"),th:i("th"),thead:i("thead"),time:i("time"),title:i("title"),tr:i("tr"),track:i("track"),u:i("u"),ul:i("ul"),var:i("var"),video:i("video"),wbr:i("wbr"),circle:i("circle"),clipPath:i("clipPath"),defs:i("defs"),ellipse:i("ellipse"),g:i("g"),image:i("image"),line:i("line"),linearGradient:i("linearGradient"),mask:i("mask"),path:i("path"),pattern:i("pattern"),polygon:i("polygon"),polyline:i("polyline"),radialGradient:i("radialGradient"),rect:i("rect"),stop:i("stop"),svg:i("svg"),text:i("text"),tspan:i("tspan")};e.exports=o},function(e,t,n){"use strict";function r(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}function i(e){this.message=e,this.stack=""}function o(e){function t(t,n,r,o,a,s,u){o=o||O,s=s||r;if(null==n[r]){var l=S[a];return t?new i(null===n[r]?"The "+l+" `"+s+"` is marked as required "+("in `"+o+"`, but its value is `null`."):"The "+l+" `"+s+"` is marked as required in "+("`"+o+"`, but its value is `undefined`.")):null}return e(n,r,o,a,s)}var n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n}function a(e){function t(t,n,r,o,a,s){var u=t[n],l=v(u);if(l!==e){var c=S[o],p=g(u);return new i("Invalid "+c+" `"+a+"` of type "+("`"+p+"` supplied to `"+r+"`, expected ")+("`"+e+"`."))}return null}return o(t)}function s(){return o(w.thatReturns(null))}function u(e){function t(t,n,r,o,a){if("function"!=typeof e)return new i("Property `"+a+"` of component `"+r+"` has invalid PropType notation inside arrayOf.");var s=t[n];if(!Array.isArray(s)){var u=S[o],l=v(s);return new i("Invalid "+u+" `"+a+"` of type "+("`"+l+"` supplied to `"+r+"`, expected an array."))}for(var c=0;c<s.length;c++){var p=e(s,c,r,o,a+"["+c+"]",T);if(p instanceof Error)return p}return null}return o(t)}function l(){function e(e,t,n,r,o){var a=e[t];if(!E.isValidElement(a)){var s=S[r],u=v(a);return new i("Invalid "+s+" `"+o+"` of type "+("`"+u+"` supplied to `"+n+"`, expected a single ReactElement."))}return null}return o(e)}function c(e){function t(t,n,r,o,a){if(!(t[n]instanceof e)){var s=S[o],u=e.name||O,l=b(t[n]);return new i("Invalid "+s+" `"+a+"` of type "+("`"+l+"` supplied to `"+r+"`, expected ")+("instance of `"+u+"`."))}return null}return o(t)}function p(e){function t(t,n,o,a,s){for(var u=t[n],l=0;l<e.length;l++)if(r(u,e[l]))return null;var c=S[a],p=JSON.stringify(e);return new i("Invalid "+c+" `"+s+"` of value `"+u+"` "+("supplied to `"+o+"`, expected one of "+p+"."))}return Array.isArray(e)?o(t):w.thatReturnsNull}function f(e){function t(t,n,r,o,a){if("function"!=typeof e)return new i("Property `"+a+"` of component `"+r+"` has invalid PropType notation inside objectOf.");var s=t[n],u=v(s);if("object"!==u){var l=S[o];return new i("Invalid "+l+" `"+a+"` of type "+("`"+u+"` supplied to `"+r+"`, expected an object."))}for(var c in s)if(s.hasOwnProperty(c)){var p=e(s,c,r,o,a+"."+c,T);if(p instanceof Error)return p}return null}return o(t)}function d(e){function t(t,n,r,o,a){for(var s=0;s<e.length;s++){var u=e[s];if(null==u(t,n,r,o,a,T))return null}var l=S[o];return new i("Invalid "+l+" `"+a+"` supplied to "+("`"+r+"`."))}return Array.isArray(e)?o(t):w.thatReturnsNull}function h(){function e(e,t,n,r,o){if(!_(e[t])){var a=S[r];return new i("Invalid "+a+" `"+o+"` supplied to "+("`"+n+"`, expected a ReactNode."))}return null}return o(e)}function y(e){function t(t,n,r,o,a){var s=t[n],u=v(s);if("object"!==u){var l=S[o];return new i("Invalid "+l+" `"+a+"` of type `"+u+"` "+("supplied to `"+r+"`, expected `object`."))}for(var c in e){var p=e[c];if(p){var f=p(s,c,r,o,a+"."+c,T);if(f)return f}}return null}return o(t)}function _(e){switch(typeof e){case"number":case"string":case"undefined":return!0;case"boolean":return!e;case"object":if(Array.isArray(e))return e.every(_);if(null===e||E.isValidElement(e))return!0;var t=C(e);if(!t)return!1;var n,r=t.call(e);if(t!==e.entries){for(;!(n=r.next()).done;)if(!_(n.value))return!1}else for(;!(n=r.next()).done;){var i=n.value;if(i&&!_(i[1]))return!1}return!0;default:return!1}}function m(e,t){return"symbol"===e||("Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol)}function v(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":m(t,e)?"symbol":t}function g(e){var t=v(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function b(e){return e.constructor&&e.constructor.name?e.constructor.name:O}var E=n(61),S=n(211),T=n(586),w=n(31),C=n(213),O=(n(6),"<<anonymous>>"),k={array:a("array"),bool:a("boolean"),func:a("function"),number:a("number"),object:a("object"),string:a("string"),symbol:a("symbol"),any:s(),arrayOf:u,element:l(),instanceOf:c,node:h(),objectOf:f,oneOf:p,oneOfType:d,shape:y};i.prototype=Error.prototype,e.exports=k},512,function(e,t,n){"use strict";function r(e,t,n){this.props=e,this.context=t,this.refs=u,this.updater=n||s}function i(){}var o=n(11),a=n(132),s=n(134),u=n(66);i.prototype=a.prototype,r.prototype=new i,r.prototype.constructor=r,o(r.prototype,a.prototype),r.prototype.isPureReactComponent=!0,e.exports=r},function(e,t,n){"use strict";var r=n(592),i={getChildMapping:function(e,t){return e?r(e):e},mergeChildMappings:function(e,t){function n(n){return t.hasOwnProperty(n)?t[n]:e[n]}e=e||{},t=t||{};var r={},i=[];for(var o in e)t.hasOwnProperty(o)?i.length&&(r[o]=i,i=[]):i.push(o);var a,s={};for(var u in t){if(r.hasOwnProperty(u))for(a=0;a<r[u].length;a++){var l=r[u][a];s[r[u][a]]=n(l)}s[u]=n(u)}for(a=0;a<i.length;a++)s[i[a]]=n(i[a]);return s}};e.exports=i},function(e,t,n){"use strict";function r(){var e=s("animationend"),t=s("transitionend");e&&u.push(e),t&&u.push(t)}function i(e,t,n){e.addEventListener(t,n,!1)}function o(e,t,n){e.removeEventListener(t,n,!1)}var a=n(25),s=n(190),u=[];a.canUseDOM&&r();var l={addEndEventListener:function(e,t){return 0===u.length?void window.setTimeout(t,0):void u.forEach(function(n){i(e,n,t)})},removeEndEventListener:function(e,t){0!==u.length&&u.forEach(function(n){o(e,n,t)})}};e.exports=l},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var a=n(11),s=n(39),u=n(588),l=n(31),c=function(e){function t(){var n,o,s;r(this,t);for(var l=arguments.length,c=Array(l),p=0;p<l;p++)c[p]=arguments[p];return n=o=i(this,e.call.apply(e,[this].concat(c))),o.state={children:u.getChildMapping(o.props.children)},o.performAppear=function(e){o.currentlyTransitioningKeys[e]=!0;var t=o.refs[e];t.componentWillAppear?t.componentWillAppear(o._handleDoneAppearing.bind(o,e)):o._handleDoneAppearing(e)},o._handleDoneAppearing=function(e){var t=o.refs[e];t.componentDidAppear&&t.componentDidAppear(),delete o.currentlyTransitioningKeys[e];var n=u.getChildMapping(o.props.children);n&&n.hasOwnProperty(e)||o.performLeave(e)},o.performEnter=function(e){o.currentlyTransitioningKeys[e]=!0;var t=o.refs[e];t.componentWillEnter?t.componentWillEnter(o._handleDoneEntering.bind(o,e)):o._handleDoneEntering(e)},o._handleDoneEntering=function(e){var t=o.refs[e];t.componentDidEnter&&t.componentDidEnter(),delete o.currentlyTransitioningKeys[e];var n=u.getChildMapping(o.props.children);n&&n.hasOwnProperty(e)||o.performLeave(e)},o.performLeave=function(e){o.currentlyTransitioningKeys[e]=!0;var t=o.refs[e];t.componentWillLeave?t.componentWillLeave(o._handleDoneLeaving.bind(o,e)):o._handleDoneLeaving(e)},o._handleDoneLeaving=function(e){var t=o.refs[e];t.componentDidLeave&&t.componentDidLeave(),delete o.currentlyTransitioningKeys[e];var n=u.getChildMapping(o.props.children);n&&n.hasOwnProperty(e)?o.performEnter(e):o.setState(function(t){var n=a({},t.children);return delete n[e],{children:n}})},s=n,i(o,s)}return o(t,e),t.prototype.componentWillMount=function(){this.currentlyTransitioningKeys={},this.keysToEnter=[],this.keysToLeave=[]},t.prototype.componentDidMount=function(){var e=this.state.children;for(var t in e)e[t]&&this.performAppear(t)},t.prototype.componentWillReceiveProps=function(e){var t=u.getChildMapping(e.children),n=this.state.children;this.setState({children:u.mergeChildMappings(n,t)});var r;for(r in t){var i=n&&n.hasOwnProperty(r);!t[r]||i||this.currentlyTransitioningKeys[r]||this.keysToEnter.push(r)}for(r in n){var o=t&&t.hasOwnProperty(r);!n[r]||o||this.currentlyTransitioningKeys[r]||this.keysToLeave.push(r)}},t.prototype.componentDidUpdate=function(){var e=this.keysToEnter;this.keysToEnter=[],e.forEach(this.performEnter);var t=this.keysToLeave;this.keysToLeave=[],t.forEach(this.performLeave)},t.prototype.render=function(){var e=[];for(var t in this.state.children){var n=this.state.children[t];n&&e.push(s.cloneElement(this.props.childFactory(n),{ref:t,key:t}))}var r=a({},this.props);return delete r.transitionLeave,delete r.transitionName,delete r.transitionAppear,delete r.transitionEnter,delete r.childFactory,delete r.transitionLeaveTimeout,delete r.transitionEnterTimeout,delete r.transitionAppearTimeout,delete r.component,s.createElement(this.props.component,r,e)},t}(s.Component);c.displayName="ReactTransitionGroup",c.propTypes={component:s.PropTypes.any,childFactory:s.PropTypes.func},c.defaultProps={component:"span",childFactory:l.thatReturnsArgument},e.exports=c},517,function(e,t,n){(function(t){"use strict";function r(e,t,n,r){if(e&&"object"==typeof e){var i=e,o=void 0===i[n];o&&null!=t&&(i[n]=t)}}function i(e,t){if(null==e)return e;var n={};return o(e,r,n),n}var o=(n(209),n(215));n(6);e.exports=i}).call(t,n(67))},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(e){return function(n,r,i){var a=e(n,r,i),u=a.dispatch,l=[],c={getState:a.getState,dispatch:function(e){return u(e)}};return l=t.map(function(e){return e(c)}),u=s.default.apply(void 0,l)(a.dispatch),o({},a,{dispatch:u})}}}t.__esModule=!0;var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};t.default=i;var a=n(216),s=r(a)},function(e,t){"use strict";function n(e,t){return function(){return t(e.apply(void 0,arguments))}}function r(e,t){if("function"==typeof e)return n(e,t);if("object"!=typeof e||null===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var r=Object.keys(e),i={},o=0;o<r.length;o++){var a=r[o],s=e[a];"function"==typeof s&&(i[a]=n(s,t))}return i}t.__esModule=!0,t.default=r},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){var n=t&&t.type,r=n&&'"'+n.toString()+'"'||"an action";return"Given action "+r+', reducer "'+e+'" returned undefined. To ignore an action, you must explicitly return the previous state.'}function o(e){Object.keys(e).forEach(function(t){var n=e[t],r=n(void 0,{type:s.ActionTypes.INIT});if("undefined"==typeof r)throw new Error('Reducer "'+t+'" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined.');var i="@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".");if("undefined"==typeof n(void 0,{type:i}))throw new Error('Reducer "'+t+'" returned undefined when probed with a random type. '+("Don't try to handle "+s.ActionTypes.INIT+' or other actions in "redux/*" ')+"namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined.")})}function a(e){for(var t=Object.keys(e),n={},r=0;r<t.length;r++){var a=t[r];"function"==typeof e[a]&&(n[a]=e[a])}var s,u=Object.keys(n);try{o(n)}catch(e){s=e}return function(){var e=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],t=arguments[1];if(s)throw s;for(var r=!1,o={},a=0;a<u.length;a++){var l=u[a],c=n[l],p=e[l],f=c(p,t);if("undefined"==typeof f){var d=i(l,t);throw new Error(d)}o[l]=f,r=r||f!==p}return r?o:e}}t.__esModule=!0,t.default=a;var s=n(217),u=n(111),l=(r(u),n(218));r(l)},function(e,t,n){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var o=n(378),a=r(o),s=n(379),u=r(s),l=n(380),c=r(l),p=n(381),f=r(p),d=n(382),h=r(d),y=n(45),_=n(107),m="s/",v=2,g=function(){function e(t,n){var r=this;i(this,e),
this._onScroll=function(){if(null===r._savePositionHandle&&(r._savePositionHandle=(0,h.default)(r._savePosition)),r._scrollTarget){var e=r._scrollTarget,t=e[0],n=e[1],i=(0,c.default)(window),o=(0,f.default)(window);i===t&&o===n&&(r._scrollTarget=null,r._cancelCheckScroll())}},this._savePosition=function(){r._savePositionHandle=null,(0,_.saveState)(r._getKey(r._getCurrentLocation()),[(0,c.default)(window),(0,f.default)(window)])},this._checkScrollPosition=function(){if(r._checkScrollHandle=null,r._scrollTarget){var e=r._scrollTarget,t=e[0],n=e[1];return window.scrollTo(t,n),++r._numScrollAttempts,r._numScrollAttempts>=v?void(r._scrollTarget=null):void(r._checkScrollHandle=(0,h.default)(r._checkScrollPosition))}},this._history=t,this._getCurrentLocation=n,"scrollRestoration"in window.history?(this._oldScrollRestoration=window.history.scrollRestoration,window.history.scrollRestoration="manual"):this._oldScrollRestoration=null,this._savePositionHandle=null,this._checkScrollHandle=null,this._scrollTarget=null,this._numScrollAttempts=0,(0,u.default)(window,"scroll",this._onScroll),this._unlistenBefore=t.listenBefore(function(){null!==r._savePositionHandle&&(h.default.cancel(r._savePositionHandle),r._savePositionHandle=null)})}return e.prototype.stop=function(){this._oldScrollRestoration&&(window.history.scrollRestoration=this._oldScrollRestoration),(0,a.default)(window,"scroll",this._onScroll),this._cancelCheckScroll(),this._unlistenBefore()},e.prototype.updateScroll=function(e){this._cancelCheckScroll(),e&&!Array.isArray(e)?this._scrollTarget=this._getDefaultScrollTarget():this._scrollTarget=e,this._onScroll(),this._scrollTarget&&(this._numScrollAttempts=0,this._checkScrollPosition())},e.prototype.readPosition=function(e){return(0,_.readState)(this._getKey(e))},e.prototype._getKey=function(e){var t=e.key||this._history.createPath(e);return""+m+t},e.prototype._cancelCheckScroll=function(){null!==this._checkScrollHandle&&(h.default.cancel(this._checkScrollHandle),this._checkScrollHandle=null)},e.prototype._getDefaultScrollTarget=function(){var e=this._getCurrentLocation();return e.action===y.PUSH?[0,0]:this.readPosition(e)||[0,0]},e}();t.default=g,e.exports=t.default},function(e,t,n){(function(e,t){!function(e,n){"use strict";function r(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),n=0;n<t.length;n++)t[n]=arguments[n+1];var r={callback:e,args:t};return y[h]=r,d(h),h++}function i(e){delete y[e]}function o(e){var t=e.callback,r=e.args;switch(r.length){case 0:t();break;case 1:t(r[0]);break;case 2:t(r[0],r[1]);break;case 3:t(r[0],r[1],r[2]);break;default:t.apply(n,r)}}function a(e){if(_)setTimeout(a,0,e);else{var t=y[e];if(t){_=!0;try{o(t)}finally{i(e),_=!1}}}}function s(){d=function(e){t.nextTick(function(){a(e)})}}function u(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}function l(){var t="setImmediate$"+Math.random()+"$",n=function(n){n.source===e&&"string"==typeof n.data&&0===n.data.indexOf(t)&&a(+n.data.slice(t.length))};e.addEventListener?e.addEventListener("message",n,!1):e.attachEvent("onmessage",n),d=function(n){e.postMessage(t+n,"*")}}function c(){var e=new MessageChannel;e.port1.onmessage=function(e){var t=e.data;a(t)},d=function(t){e.port2.postMessage(t)}}function p(){var e=m.documentElement;d=function(t){var n=m.createElement("script");n.onreadystatechange=function(){a(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}function f(){d=function(e){setTimeout(a,0,e)}}if(!e.setImmediate){var d,h=1,y={},_=!1,m=e.document,v=Object.getPrototypeOf&&Object.getPrototypeOf(e);v=v&&v.setTimeout?v:e,"[object process]"==={}.toString.call(e.process)?s():u()?l():e.MessageChannel?c():m&&"onreadystatechange"in m.createElement("script")?p():f(),v.setImmediate=r,v.clearImmediate=i}}("undefined"==typeof self?"undefined"==typeof e?this:e:self)}).call(t,function(){return this}(),n(67))},function(e,t,n){"use strict";function r(e,t){o.call(this);var n=t||{};this._session=e,this._endpoint=n.endpoint||s,this._dataDeferred=a.defer(),this._flagMap={},this._init()}var i=n(20),o=n(19),a=n(12),s="https://@webgate/abba-service";i(r,o),r.forSession=function(e,t){return new r(e,t)},r.prototype._init=function(){this._session.on("authenticated",this._fetchData.bind(this))},r.prototype._fetchData=function(){var e=this._dataDeferred;this._dataDeferred=a.defer(),this._dataDeferred.promise.then(e.resolve,e.reject);var t=this._endpoint+"/v1/resolve?format=json";return this._session.request(t,{authorize:!0,responseType:"json"}).then(this._parseData.bind(this)).catch(function(e){this.emit("error",{name:"abbaError",error:e}),this._dataDeferred.resolve(!1)}.bind(this))},r.prototype._parseData=function(e){var t=e.body;if(200!==e.status)throw new Error("Request to abba-service failed with status code "+e.status);if(!t)throw new Error("Unexpected empty response from abba service.");var n=this._flagMap,r=t.flags;if(!r)throw new Error("Unexpected response format from abba service.");for(var i=0,o=r.length;i<o;i++){var a=r[i];n[a.featureName]=a.cell}this._dataDeferred.resolve(!0)},r.prototype.getCell=function(e){return this._dataDeferred.promise.then(function(t){var n={value:null,exists:!1,featureName:e,fromAbba:t},r=this._flagMap;return e in r&&(n.value=r[e],n.exists=!0),n}.bind(this))},e.exports=r},function(e,t,n){"use strict";function r(e,t,n){this.tag=e,this.description=t,this._predicate=n,this._tagParts=e.split("."),this._tagText="["+e+"]","true"==={NODE_ENV:"production"}.DEBUG?this._enabled=!0:this._enabled=!1,this._level=0,this.log=this.log.bind(this),this.debug=this.debug.bind(this),this.warn=this.warn.bind(this),this.error=this.error.bind(this)}var i={LOG:1,DEBUG:2,INFO:4,WARN:8,ERROR:16},o=Array.prototype.slice;r.prototype.matchesTag=function(e){var t=Array.isArray(e)?e:e.split("."),n=this._tagParts;if(t.length>n.length)return!1;for(var r=0,i=t.length;r<i;r++)if(("*"!==t[r]||!n[r])&&t[r]!==n[r])return!1;return!0},r.prototype.setLevel=function(e){var t=0;switch(e){case"error":t=i.ERROR;break;case"warn":t=i.WARN|i.ERROR;break;case"info":t=i.INFO|i.WARN|i.ERROR;break;case"debug":t=i.DEBUG|i.INFO|i.WARN|i.ERROR;break;case"log":default:t=i.LOG|i.DEBUG|i.INFO|i.WARN|i.ERROR}this._level=t},r.prototype.enable=function(){"true"==={NODE_ENV:"production"}.DEBUG&&(this._enabled=!0)},r.prototype.disable=function(){"true"==={NODE_ENV:"production"}.DEBUG&&(this._enabled=!1)},r.prototype.log=function(){if("true"==={NODE_ENV:"production"}.DEBUG){if(!(this._enabled||this._level&i.LOG))return;var e=o.call(arguments),t=[this._tagText].concat(e),n={type:"log",tag:this.tag,args:e};if(this._predicate(n))return;console.log.apply(console,t)}},r.prototype.debug=function(){if("true"==={NODE_ENV:"production"}.DEBUG){if(!(this._enabled||this._level&i.DEBUG))return;var e=o.call(arguments),t=[this._tagText].concat(e),n={type:"debug",tag:this.tag,args:e};if(this._predicate(n))return;console.debug.apply(console,t)}},r.prototype.info=function(){if("true"==={NODE_ENV:"production"}.DEBUG){if(!(this._enabled||this._level&i.INFO))return;var e=o.call(arguments),t=[this._tagText].concat(e),n={type:"info",tag:this.tag,args:e};if(this._predicate(n))return;console.info.apply(console,t)}},r.prototype.warn=function(){if("true"==={NODE_ENV:"production"}.DEBUG){if(!(this._enabled||this._level&i.WARN))return;var e=o.call(arguments),t=[this._tagText].concat(e),n={type:"warn",tag:this.tag,args:e};if(this._predicate(n))return;console.warn.apply(console,t)}},r.prototype.error=function(){if("true"==={NODE_ENV:"production"}.DEBUG){if(!(this._enabled||this._level&i.ERROR))return;var e=o.call(arguments),t=[this._tagText].concat(e),n={type:"error",tag:this.tag,args:e};if(this._predicate(n))return;console.error.apply(console,t)}},e.exports=r},function(e,t,n){(function(t){!function(){"use strict";function n(){var e=s.splice(0);if(e.length)for(var t=0,n=e.length;t<n;t++)try{e[t]()}finally{}}var r="undefined"!=typeof window,i="function"==typeof Object.defineProperty;if(r&&window.__modDefFn)return void(e.exports=window.__modDefFn);var o,a,s=[];if(r&&window.postMessage){if(a=window.location.origin||window.location.protocol+"//"+window.location.hostname,o=window.postMessage.bind(window,"@execute_deferreds",a),!window.__hasDeferredHandler){i?Object.defineProperty(window,"__hasDeferredHandler",{value:1}):window.__hasDeferredHandler=1;var u=function(e){e.origin!=a&&"@execute_deferreds"!=e.data||n()};window.addEventListener?window.addEventListener("message",u):window.attachEvent("onmessage",u)}}else o="undefined"!=typeof t?t.bind(null,n):setTimeout.bind(null,n,10);var l=function(e){var t=!s.length;s.push(e),t&&o()};r&&!window.__modDefFn&&(i?Object.defineProperty(window,"__modDefFn",{value:l}):window.__modDefFn=l),e.exports=l}()}).call(t,n(655).setImmediate)},function(e,t){"use strict";e.exports=function(e){return e.replace(/\b[a-z]/g,function(e){return e.toUpperCase()})}},function(e,t){"use strict";function n(e,t,n){e[t]=function(){var e=i.call(arguments),r=this[n];return e.length<=1?r[t].call(r,e[0]):r[t].apply(r,e)}}function r(e,t){for(var r in t){if(!t.hasOwnProperty(r))return;n(e,r,t[r])}}var i=Array.prototype.slice;e.exports={delegate:n,delegateAll:r}},function(e,t,n){(function(t){"use strict";function r(){var e=new t.Uint8Array(16);t.crypto.getRandomValues(e);var n=o.toHex(s.call(e,""),40);return n.slice(0,40)}function i(){for(var e=new Array(27),t=e.length;t--;)e[t]=Math.floor(8*Math.random());var n=o.toHex(e.join(""),40);return n}var o=n(136),a="function"==typeof t.Uint8Array&&"undefined"!=typeof t.crypto&&"function"==typeof t.crypto.getRandomValues,s=Array.prototype.join;e.exports=a?r:i,e.exports.withCrypto=r,e.exports.withRandom=i}).call(t,function(){return this}())},function(e,t){"use strict";var n=/(edge)[\s\/:]([\w\d\.]+)/,r=new RegExp("(opera|ie|firefox|chrome|trident|crios|version)[\\s/:]([\\w\\d\\.]+)?.*?(safari|(?:rv[\\s\\/:]|version[\\s\\/:])([\\w\\d\\.]+)|$)");e.exports=function(e,t){var i=e.toLowerCase(),o=t?t.toLowerCase():"",a=i.match(n);return a||(a=i.match(r)||[null,"unknown",0]),"trident"===a[1]?(a[1]="ie",a[4]&&(a[2]=a[4])):"crios"===a[1]&&(a[1]="chrome"),o=i.match(/ip(?:ad|od|hone)/)?"ios":(i.match(/(?:webos|android)/)||i.match(/mac|win|linux|cros/)||["other"])[0],"win"===o&&(o="windows"),{name:"version"===a[1]?a[3]:a[1],version:parseFloat("opera"===a[1]&&a[4]?a[4]:a[2]),platform:o}}},function(e,t,n){"use strict";function r(e){o.call(this),this._client=e.client,this._session=this._client.getSession(),this._version=e.version,this._playerClient=e.playerClient,this._decorate=!!e.decorateTrackWindow,this._disableProgress=e.disableProgress,this._contextPlayerState=null,this._state=null,this._progressPosition=0,this._trackingIntervalId=null,this._serverTime=0,this._serverTimeFetchedAt=0,this._metadataCache=null,this.emitEvent=this.emitEvent.bind(this),this._init()}var i=n(20),o=n(19),a=n(12),s=n(612),u=n(220),l=n(137).RepeatMode,c=2,p=20,f=500;i(r,o),r.create=function(e){return new r(e)},r.prototype._init=function(){this._decorate&&(this._metadataCache=new u(p)),this._client.addListeners({before_disconnect:this._onClientBeforeDisconnect.bind(this)}),this._playerClient.addListeners({max_subscriptions_reached:this.emitEvent,registered:this._onRegistered.bind(this),device_state_changed:this._onDeviceStateChanged.bind(this),player_state_changed:this._onPlayerStateChanged.bind(this)})},r.prototype._onClientBeforeDisconnect=function(e){e&&e.waiters.push(this._playerClient.deregister())},r.prototype._onRegistered=function(e){this._playerClient.getContextPlayerState(),this.emitEvent(e)},r.prototype._onDeviceStateChanged=function(e){var t=e.deviceState;this.emit("device_info_changed",{deviceInfo:t,deviceState:t})},r.prototype._startProgressTracking=function(){this._stopProgressTracking(),this._trackingIntervalId=setInterval(this._onProgressTracking.bind(this),f)},r.prototype._stopProgressTracking=function(){this._trackingIntervalId&&(clearInterval(this._trackingIntervalId),this._trackingIntervalId=null)},r.prototype._onProgressTracking=function(){this._progressPosition+=f,this.emit("progress",{position:this._progressPosition,timestamp:Date.now()})},r.prototype._refreshServerTime=function(){var e=(new Date).getTime();this._session.getServerTime().catch(function(){return(new Date).getTime()}).then(function(t){var n=(new Date).getTime();this._serverTimeFetchedAt=n;var r=n-e;this._serverTime=t+r}.bind(this))},r.prototype._getApproximateServerTime=function(){var e=(new Date).getTime()-this._serverTimeFetchedAt;return e>6e4&&a.resolve().then(this._refreshServerTime.bind(this)),this._serverTime+e},r.prototype._generatePlayOptions=function(e,t){var n={skip_to:void 0,seek_to:void 0,initially_paused:void 0,player_options_override:void 0};if("index"in e&&(n.skip_to={track_index:e.index}),"initialOffset"in e&&(n.seek_to=e.initialOffset),"paused"in e&&(n.initially_paused=e.paused),t)return n;var r=n.player_options_override={};if("shuffle"in e&&(r.shuffling_context=e.shuffle),"repeatMode"in e)switch(e.repeatMode){case l.CONTEXT:r.repeating_context=!0,r.repeating_track=!1;break;case l.TRACK:r.repeating_track=!0,r.repeating_context=!1;break;case l.NONE:r.repeating_track=!1,r.repeating_context=!1}return n},r.prototype._generatePlayOrigin=function(e){var t=e.playOrigin||{},n={feature_identifier:t.featureIdentifier||"harmony",feature_version:t.featureVersion||this._version,view_uri:t.viewURI,external_referrer:t.externalReferrer,referrer_identifier:t.referrerIdentifier};return n},r.prototype._onPlayerStateChanged=function(e){this._contextPlayerState=e.playerState,this._playerClient.getActiveDevice().then(this._parsePlayerState.bind(this,e.playerState)).then(function(e){this._state=e,this.emit("state_changed",{state:e}),this._disableProgress||(this._progressPosition=e.position,e.paused?this._stopProgressTracking():this._startProgressTracking())}.bind(this))},r.prototype._parsePlayerState=function(e,t){return this._getTrackWindow(e).then(function(n){var r=!t.is_active||!!e.is_paused,i={context:{uri:e.context_uri,metadata:e.context_metadata},timestamp:e.timestamp,position:r?e.position_as_of_timestamp:this._offsetPosition(e.timestamp,e.position_as_of_timestamp),paused:r,shuffle:e.options&&e.options.shuffling_context,repeatMode:this._getStateRepeatMode(e),trackWindow:n,bitrate:null};return i}.bind(this))},r.prototype._offsetPosition=function(e,t){var n=this._getApproximateServerTime(),r=n-e,i=t+r;return i<0?0:i},r.prototype._getTrackWindow=function(e){var t={currentTrack:null,nextTracks:[],previousTracks:[]},n={},r=[];if(!e.track)return a.resolve(t);var i=e.track.uri;if(!i)return a.resolve(t);var o=s.from(i),u=this._parseLocalTrack(o),l=this._parseAd(o,e.track);return t.currentTrack=u||l||{uri:i},u||l||(n[i]=1,r.push(i)),this._fillWindow(r,t.nextTracks,n,e.next_tracks.slice(0,5)),this._fillWindow(r,t.previousTracks,n,e.prev_tracks.slice(-5),!0),this._decorate?this._decorateMetadata(r,t):a.resolve(t)},r.prototype._fillWindow=function(e,t,n,r,i){i&&r.reverse();for(var o=0,a=r.length;o<a;o++){var u=r[o].uri,l=s.from(u);if(u&&"spotify:delimiter"!==u&&(!l||l.type!==s.Type.AD)){var p=this._parseLocalTrack(l),f=p||{uri:u};if(p||u in n||(n[u]=1,e.push(u)),i?t.unshift(f):t.push(f),t.length===c)break}}},r.prototype._parseLocalTrack=function(e){if(!e||e.type!==s.Type.LOCAL)return null;var t={id:null,uri:e.toURI(),name:e.track,artists:[{uri:s.localArtistURI(e.artist).toURI(),name:e.artist}],album:{uri:s.localAlbumURI(e.artist,e.album),name:e.album,images:[{url:""}]},duration_ms:1e3*e.duration||0,is_playable:!1};return t},r.prototype._parseAd=function(e,t){if(!e||e.type!==s.Type.AD)return null;if(!t||!t.metadata)return null;var n=t.metadata,r={id:e.id,uri:e.toURI(),name:n.title,artists:[{uri:n.click_url,name:n.advertiser}],album:{uri:"",name:"",images:[{url:n.image_url}]},duration_ms:n.duration,is_playable:!1};return r},r.prototype._decorateMetadata=function(e,t){for(var n=this._metadataCache,r=[],i=[],o=0,u=e.length;o<u;o++){var l=e[o];if(!n.get(l)){var c=s.from(l);if(c){var p=s.hexToId(c.id);c.type===s.Type.TRACK?i.push(p):r.push(this._requestPodcastData(p,l))}}}return a.all([a.all(r).then(function(e){return e.indexOf(!1)===-1}),!!i.length&&this._requestTracksData(i)]).spread(function(e,n){return e||n?this._performDecoration(t):t}.bind(this))},r.prototype._requestTracksData=function(e){var t=this._metadataCache,n="https://@webapi/v1/tracks?ids="+e.join(",");return this._session.request(n,{responseType:"json"}).then(function(e){if(200!==e.status)return!1;var n=e.body;if(!n)return!1;for(var r=n.tracks,i=r.length;i--;){var o=r[i];o&&t.set(o.uri,o)}return!0})},r.prototype._requestPodcastData=function(e,t){var n=this._metadataCache,r="https://@webapi/v1/episodes/"+e;return this._session.request(r,{responseType:"json"}).then(function(e){if(200!==e.status)return!1;var r=e.body;if(!r)return!1;var i={id:null,uri:t,name:r.name,artists:[{uri:r.show.uri,name:r.show.publisher}],album:{uri:r.show.uri,name:r.show.name,images:r.images},duration_ms:r.duration_ms||0,is_playable:!0};return n.set(t,i),!0}).catch(function(){return!1})},r.prototype._performDecoration=function(e){var t,n,r,i=this._metadataCache,o={currentTrack:null,nextTracks:[],previousTracks:[]};for(e.currentTrack&&(n=i.get(e.currentTrack.uri),o.currentTrack=n||e.currentTrack),t=e.nextTracks.length;t--;)r=e.nextTracks[t],n=i.get(r.uri),o.nextTracks[t]=n||r;for(t=e.previousTracks.length;t--;)r=e.previousTracks[t],n=i.get(r.uri),o.previousTracks[t]=n||r;return o},r.prototype._getStateRepeatMode=function(e){var t=e.options;if(t){if(t.repeating_track)return l.TRACK;if(t.repeating_context)return l.CONTEXT}return l.OFF},r.prototype.getActiveDevice=function(){return this._playerClient.getActiveDevice()},r.prototype.getCurrentState=function(){var e=a.defer(),t=this._state;return t?(t.paused||(t.position=this._offsetPosition(t.timestamp,t.position)),e.resolve(t)):this.once("state_changed",function(t){e.resolve(t.state)}),e.promise},r.prototype.getContextPlayerState=function(){return this._playerClient.getContextPlayerState()},r.prototype.getDevices=function(){return this._playerClient.getDevices()},r.prototype._play=function(e,t,n){var r=n||{},i={context:e,play_origin:this._generatePlayOrigin(r),options:this._generatePlayOptions(r)};return this._playerClient.play(i,t)},r.prototype.playURI=function(e,t,n){var r=n||{};if(!s.from(e))return a.reject(new TypeError("Invalid Spotify URI"));var i={uri:e,url:"context://"+e};return this._play(i,t,r)},r.prototype.playTracks=function(e,t,n){var r=n||{};return Array.isArray(e)?this._prepareTracks(e).then(function(e){var n={uri:r.contextURI||"spotify:app:playerapi-client",pages:[{tracks:e}]};return this._play(n,t,r)}.bind(this)):a.reject(new TypeError("Invalid tracks array."))},r.prototype.setQueue=function(e,t,n){return Array.isArray(e)?Array.isArray(t)?a.all([this._prepareTracks(e),this._prepareTracks(t)]).spread(function(e,t){var r={next_tracks:e.length?e:void 0,prev_tracks:t.length?t:void 0};return this._playerClient.setQueue(r,n)}.bind(this)):a.reject(new TypeError("Invalid previousTracks array.")):a.reject(new TypeError("Invalid nextTracks array."))},r.prototype.addToQueue=function(e,t){return Array.isArray(e)?a.all([this._prepareTracks(e,{queued:!0}),this._playerClient.getContextPlayerState()]).spread(function(e,n){for(var r=n.next_tracks.slice(0),i=0,o=r.length;i<o;i++){var a=r[i];if(!a||!a.metadata||"true"!==a.metadata.is_queued){r.splice.apply(r,[i,0].concat(e));break}}var s={next_tracks:r,prev_tracks:n.prev_tracks};return this._playerClient.setQueue(s,t)}.bind(this)):a.reject(new TypeError("Invalid nextTracks array."))},r.prototype._prepareTracks=function(e,t){for(var n=[],r=[s.Type.TRACK,s.Type.EPISODE],i=0,o=e.length;i<o;i++){var u=e[i];if(!u)return a.reject(new TypeError("Null value inside track array."));var l;if("string"==typeof u?(l=s.from(u),u={uri:u}):l=s.from(u.uri),r.indexOf(l.type)===-1)return a.reject(new TypeError("Invalid track uri: "+u.uri));u.metadata||(u.metadata={}),t&&t.queued&&(u.metadata.is_queued="true"),n.push(u)}return a.resolve(n)},r.prototype.togglePlay=function(e){return this._playerClient.togglePlay(e)},r.prototype.transfer=function(e,t){var n=this._generatePlayOptions(t||{},!0);return this._playerClient.transfer(e,n)},r.prototype.pause=function(e){return this._playerClient.pause(e)},r.prototype.resume=function(e){return this._playerClient.resume(e)},r.prototype.nextTrack=function(e){return this._playerClient.nextTrack(e)},r.prototype.previousTrack=function(e){return this._playerClient.previousTrack(e)},r.prototype.seek=function(e,t){return this._playerClient.seek(e,t)},r.prototype.setShuffle=function(e,t){return this._playerClient.setShuffle(e,t)},r.prototype.setVolume=function(e,t){return this._playerClient.setVolume(e,t)},r.prototype.setRepeatMode=function(e,t){switch(e){case l.OFF:return a.all([this._playerClient.setRepeatingContext(!1,t),this._playerClient.setRepeatingTrack(!1,t)]).then(function(){return!0});case l.CONTEXT:return a.all([this._playerClient.setRepeatingContext(!0,t),this._playerClient.setRepeatingTrack(!1,t)]).then(function(){return!0});case l.TRACK:return a.all([this._playerClient.setRepeatingContext(!1,t),this._playerClient.setRepeatingTrack(!0,t)]).then(function(){return!0});default:return a.reject(new TypeError("Unknown repeat mode."))}},e.exports=r},function(e,t,n){(function(t){"use strict";function r(e){o.call(this),this._client=e.client,this._streamer=e.streamer,this._controller=e.controller,this._onlyLocalState=e.onlyLocalState,this._preferController=!this._onlyLocalState&&e.preferControllerState,this._localPlayback=!1,this._disconnectBeforeUnload=e.disconnectBeforeUnload,this._deferredStreamer=a.defer(),this.emitEvent=this.emitEvent.bind(this),this._init()}var i=n(20),o=n(19),a=n(12),s=n(602).delegateAll,u=Array.prototype.slice;i(r,o),r.create=function(e){return new r(e)},s(r.prototype,{getVersionDescriptor:"_client",getUserInfo:"_client",getProductState:"_client",getABBAClient:"_client",getSession:"_client",getClientDescriptor:"_client",connect:"_client",disconnect:"_client"}),r.prototype._init=function(){this._client.addListeners({connected:this.emitEvent,connection_error:this.emitEvent,authenticated:this.emitEvent,authentication_error:this.emitEvent,before_disconnect:this.emitEvent,reconnecting:this.emitEvent,reconnected:this.emitEvent,product_state_changed:this.emitEvent,error:this.emitEvent,unrecoverable_failure:this.emitEvent}),this._controller.addListeners({max_subscriptions_reached:this.emitEvent,device_info_changed:this._onDeviceStateChanged.bind(this),state_changed:this._onPlayerStateChanged.bind(this),progress:this._onControllerProgress.bind(this),registered:this._emitAs.bind(this,"remote_observer_enabled"),deregistered:this._emitAs.bind(this,"remote_observer_disabled")}),this._streamer.addListeners({max_subscriptions_reached:this.emitEvent,registered:this._onStreamerRegistered.bind(this),progress:this._onStreamerProgress.bind(this),state_changed:this._onStreamerStateChanged.bind(this),duration_changed:this.emitEvent,playback_capped:this.emitEvent,player_initialization_done:this.emitEvent,player_initialization_failed:this.emitEvent,context_ended:this._emitAs.bind(this,"local_context_ended"),deregistered:this._emitAs.bind(this,"local_player_disabled"),logged_out:this._emitAs.bind(this,"local_player_logged_out")}),this._delegateAwaitStreamer({getContextPlayerState:"_controller",getDevices:"_controller",setQueue:"_controller",addToQueue:"_controller",transfer:"_controller",setShuffle:"_controller",setRepeatMode:"_controller"}),this._disconnectBeforeUnload&&t.addEventListener&&t.addEventListener("beforeunload",function(){this.disconnect()}.bind(this))},r.prototype._awaitStreamer=function(e,t){this[e]=function(){var n=u.call(arguments),r=this[t],i=function(){return n.length<=1?r[e].call(r,n[0]):r[e].apply(r,n)};return this._deferredStreamer.promise.then(i)}},r.prototype._delegateAwaitStreamer=function(e){for(var t in e){if(!e.hasOwnProperty(t))return;this._awaitStreamer(t,e[t])}},r.prototype._emitAs=function(e){this.emit(e)},r.prototype._onStreamerRegistered=function(e){this._deferredStreamer.resolve(e),this.emit("local_player_enabled")},r.prototype._onStreamerConnect=function(){return this._deferredStreamer.promise},r.prototype._onDeviceStateChanged=function(e){var t=e.deviceState,n=t.local;return this._localPlayback=n,n?void this._streamer.getVolume().then(function(n){t.volume=n,this.emitEvent(e)}.bind(this)).catch(function(){}):void this.emitEvent(e)},r.prototype._onPlayerStateChanged=function(e){this._onlyLocalState||!this._preferController&&this._localPlayback||this.emit("state_changed",e)},r.prototype._onControllerProgress=function(e){this._onlyLocalState||this._localPlayback||this.emit("progress",e)},r.prototype._onStreamerStateChanged=function(e){(this._onlyLocalState||!this._preferController&&this._localPlayback)&&this.emit("state_changed",e)},r.prototype._onStreamerProgress=function(e){this.emit("progress",e)},r.prototype.getActiveDevice=function(){return this._onStreamerConnect().then(function(){return a.all([this._controller.getActiveDevice(),this._streamer.getVolume()])}.bind(this)).spread(function(e,t){return e.volume=t,e})},r.prototype.getCurrentState=function(){return this._onlyLocalState?this._streamer.getCurrentState():this._preferController||!this._localPlayback?this._controller.getCurrentState():this._onStreamerConnect().then(this._streamer.getCurrentState.bind(this._streamer))},r.prototype.togglePlay=function(e){return!this._localPlayback||e&&"@local"!==e?this._controller.togglePlay(e):this._onStreamerConnect().then(this._streamer.togglePlay.bind(this._streamer))},r.prototype.pause=function(e){return!this._localPlayback||e&&"@local"!==e?this._controller.pause(e):this._onStreamerConnect().then(this._streamer.pause.bind(this._streamer))},r.prototype.resume=function(e){return!this._localPlayback||e&&"@local"!==e?this._controller.resume(e):this._onStreamerConnect().then(this._streamer.resume.bind(this._streamer))},r.prototype.playURI=function(e,t,n){return this._canStartNewContext(t).then(function(){return this._controller.playURI(e,t,n)}.bind(this))},r.prototype.playTracks=function(e,t,n){return this._canStartNewContext(t).then(function(){return this._controller.playTracks(e,t,n)}.bind(this))},r.prototype._canStartNewContext=function(e){return!this._localPlayback||e&&"@local"!==e?a.resolve(!0):this._onStreamerConnect().then(this._streamer.canChangeTrack.bind(this._streamer)).then(function(e){return!!e||a.reject(new Error("FORBIDDEN"))})},r.prototype.nextTrack=function(e){return!this._localPlayback||e&&"@local"!==e?this._controller.nextTrack(e):this._onStreamerConnect().then(this._streamer.nextTrack.bind(this._streamer,"fwdbtn"))},r.prototype.previousTrack=function(e){return!this._localPlayback||e&&"@local"!==e?this._controller.previousTrack(e):this._onStreamerConnect().then(this._streamer.previousTrack.bind(this._streamer,"backbtn"))},r.prototype.seek=function(e,t){return!this._localPlayback||t&&"@local"!==t?this._controller.seek(e,t):this._onStreamerConnect().then(this._streamer.seek.bind(this._streamer,e))},r.prototype.getVolume=function(){return this._streamer.getVolume()},r.prototype.setVolume=function(e,t){return!this._localPlayback||t&&"@local"!==t?this._controller.setVolume(e):this._onStreamerConnect().then(this._streamer.setVolume.bind(this._streamer,e))},e.exports=r}).call(t,function(){return this}())},function(e,t,n){"use strict";function r(e,t){u.call(this),this._tpApiClient=e;var n=t||{};this._numPreviousTracks=n.numPrevious||2,this._numNextTracks=n.numNextTracks||2,this._manifestFormats=n.manifestFormats||o.resolve([]),this._state=null,this._init()}var i=n(49).forTag("stream.PlaybackStateObserver"),o=n(12),a=n(20),s=n(222),u=n(19),l=n(137);a(r,u),r.prototype._init=function(){this._tpApiClient.addListeners({state_changed:this._onStateChanged.bind(this),state_cleared:this._onStateCleared.bind(this)})},r.prototype._onStateChanged=function(e){var t=e.position,n=e.duration,r=e.paused,o=e.stateMachine,a=e.stateRef.state_index,u=o.states,l=u[a];if(!l)return void i.warn("_onStateChanged called with no current state",e);var c=this,p=function(e,t){return c._getTrackMetadata(o,e,t)},f={currentTrack:p(l,n),nextTracks:this._getNextStates(l,u).map(p),previousTracks:this._getPreviousStates(l,u).map(p)},d=this._getRepeatSetting(o),h={context:{uri:null},bitrate:null,position:t,paused:r,shuffle:this._getShuffleSetting(o),repeatMode:d,trackWindow:f,repeat:d},y=o.tracks[l.track];y&&y.metadata&&y.metadata.context_uri&&(h.context.uri=y.metadata.context_uri),this._manifestFormats.then(function(e){var t=s(e,y);h.bitrate=t.bitrate,this._state=h,this.emit("state_changed",{state:h})}.bind(this))},r.prototype._onStateCleared=function(){this._state=null,this.emit("state_changed",{state:null})},r.prototype._getRepeatSetting=function(e){var t=e.attributes.options;return t.repeating_track?l.RepeatMode.TRACK:t.repeating_context?l.RepeatMode.CONTEXT:l.RepeatMode.OFF},r.prototype._getShuffleSetting=function(e){return e.attributes.options.shuffling_context},r.prototype._getNextStates=function(e,t){for(var n=this._numNextTracks,r=[],i=e;i&&"show_next"in i.transitions&&i.transitions.show_next;){var o=i.transitions,a=t[o.show_next.state_index];if(r.push(a),i=a,r.length>=n)break}return r},r.prototype._getPreviousStates=function(e,t){for(var n=this._numPreviousTracks,r=[],i=e;i&&"show_prev"in i.transitions&&i.transitions.show_prev;){var o=i.transitions,a=t[o.show_prev.state_index];if(r.unshift(a),i=a,r.length>=n)break}return r},r.prototype._getTrackMetadata=function(e,t,n){var r=e.tracks[t.track];if(!r&&r.metadata)return null;var i=r.metadata,o=i.uri;return{id:o?o.split(":")[2]:null,uri:i.uri,name:i.name,duration_ms:n?n:i.duration,artists:i.authors,album:{uri:i.group_uri,name:i.group_name,images:i.images},is_playable:!0}},r.prototype._getTrackBitrate=function(e,t){var n=e.tracks[t.track];if(!n&&n.metadata)return null;var r=n.manifest;return r.file_ids_mp4?r.file_ids_mp4.map(function(e){return e.bitrate}):r.file_ids_mp3.map(function(e){return e.bitrate})},r.prototype.getCurrentState=function(){return o.resolve(this._state)},r.prototype.getCurrentTrackBitrate=function(){var e=o.defer();return this._state?e.resolve(this._state.bitrate):this.once("state_changed",function(t){t.state&&e.resolve(t.state.bitrate)}),e.promise},e.exports=r},function(e,t,n){"use strict";function r(e){o.call(this),this._descriptor=e.descriptor,this._client=e.client,this._listPlayer=e.listPlayer,this._tpApiClient=e.tpApiClient,this._playerPromise=e.playerPromise,this.emitEvent=this.emitEvent.bind(this),this._init()}var i=n(20),o=n(19),a=n(607);i(r,o),r.prototype._init=function(){this._client.addListeners({before_disconnect:this._onClientBeforeDisconnect.bind(this)}),this._listPlayer.addListeners({progress:this.emitEvent,track_loaded:this.emitEvent,playing:this.emitEvent,paused:this.emitEvent,capped:this._onCapped.bind(this),list_ended:this._onListEnded.bind(this),duration_changed:this._onDurationChanged.bind(this),position_changed:this._onPositionChanged.bind(this),error:this._onError.bind(this,"listplayer")}),this._tpApiClient.addListeners({deregistered:this.emitEvent,max_subscriptions_reached:this.emitEvent,logout:this._onTPAPILogout.bind(this),registered:this._onTPAPIRegistered.bind(this),error:this._onError.bind(this,"tpapi-client")});var e=new a(this._tpApiClient,{manifestFormats:this._descriptor.then(function(e){return e.capabilities.manifest_formats})});e.on("state_changed",this.emitEvent),this._playbackState=e,this._playerPromise.then(function(){this.emit("player_initialization_done")}.bind(this),function(e){this.emit("player_initialization_failed",{reason:e.message,error:e})}.bind(this))},r.prototype._onClientBeforeDisconnect=function(e){e&&e.waiters.push(this.deregister())},r.prototype._onCapped=function(){this.emit("playback_capped")},r.prototype._onError=function(e,t){
this.emit("error",{source:e,name:t.name,error:t.error}),this._client.notifyError(e,t.name,t.error)},r.prototype._onTPAPILogout=function(){this._client.disconnect(),this.emit("logged_out")},r.prototype._onTPAPIRegistered=function(){this.emit("registered")},r.prototype._onListEnded=function(e){this.emit("context_ended",e)},r.prototype._onDurationChanged=function(e){this.emit("duration_changed",e)},r.prototype._onPositionChanged=function(e){this.emit("position_changed",e)},r.prototype.register=function(){return this._tpApiClient.register()},r.prototype.deregister=function(){return this._tpApiClient.deregister()},r.prototype.resume=function(){return this._listPlayer.resume()},r.prototype.pause=function(){return this._listPlayer.pause()},r.prototype.nextTrack=function(e){return this._listPlayer.next(e||"nextbtn")},r.prototype.canChangeTrack=function(){return this._listPlayer.canChangeTrack()},r.prototype.previousTrack=function(e){return this._listPlayer.previous(e||"prevbtn")},r.prototype.togglePlay=function(){return this._listPlayer.togglePlay()},r.prototype.setVolume=function(e){return this._listPlayer.setVolume(e)},r.prototype.getVolume=function(){return this._listPlayer.getVolume()},r.prototype.seek=function(e){return this._listPlayer.seek(e)},r.prototype.getCurrentState=function(){return this._playbackState.getCurrentState()},r.prototype.getCurrentTrackBitrate=function(){return this._playbackState.getCurrentTrackBitrate()},r.prototype.setStreamTime=function(e){this._tpApiClient.setStreamTime(e)},r.prototype.getStreamTime=function(){return this._tpApiClient.getStreamTime()},e.exports=r},function(e,t,n){(function(t){"use strict";function r(e,n){if(e&&"string"==typeof e)return e;if(n)return y();var r=t.localStorage.getItem(v);return r||(r=y(),t.localStorage.setItem(v,r)),r}function i(e){if(!e||"function"!=typeof e.getToken)throw new Error("options.getToken must be a function");this._clientDescriptor=null,this._session=null,this._abbaClient=null,this._systemInfo=a.defer(),this._sdkVersion=_,this.emitEvent=this.emitEvent.bind(this),this._init(e)}var o=n(20),a=n(12),s=n(19),u=n(640),l=n(598),c=n(646),p=n(137).DeviceType,f=n(650),d=n(604),h=n(601),y=n(603),_=n(459),m=t.navigator,v="_spharmony_device_id";o(i,s),i.create=function(e){return new i(e)},i.of=function(e){return e._client},i.prototype._parseDeviceInfo=function(e){var t=d(m.userAgent,m.platform),n=e.capabilities||{},i={change_volume:!("change_volume"in n)||n.change_volume,audio_podcasts:!("audio_podcasts"in n)||n.audio_podcasts,endsong_snooping:n.endsong_snooping,enable_play_token:!0,manifest_formats:["file_urls_mp3","file_ids_mp4"]},o={id:r(e.id,e.randomizeId),model:e.model||["harmony-",t.name,".",t.version,"-",t.platform||"unknown"].join("").toLowerCase(),name:e.name||h(["Spotify (",t.name,"/",t.platform||"unknown",")"].join("")),type:e.type||p.COMPUTER,brand:e.brand||"SpotifyHarmonyGeneric",metadata:e.metadata,capabilities:i},a=["Partner",o.brand,o.model].join(" ");return this._systemInfo.resolve(a),o},i.prototype._init=function(e){this._initDeviceDescriptor(e),this._initSession(e)},i.prototype._initDeviceDescriptor=function(e){this._clientDescriptor=a.resolve(e.descriptor||{}).then(this._parseDeviceInfo.bind(this)).catch(function(e){this._onError("harmony",{name:"device_info_error",error:e})}.bind(this))},i.prototype._initSession=function(e){var t=u.createSession({providers:{endpoints:function(){var t=f();return t().then(function(t){var n=e.endpoints;if(n)for(var r in n)n.hasOwnProperty(r)&&(t[r]=n[r]);return t})},token:function(){return new a(function(t){e.getToken(function(e,n){return"undefined"!=typeof n?void t([e,n]):void t(e)})})}},reconnectionRetries:e.reconnectionRetries,systemInfo:this._systemInfo.promise,sdkId:this.getSDKId()});t.addListeners({connected:this._onConnected.bind(this),connection_error:this._onConnectionError.bind(this),authenticated:this.emitEvent,authentication_failed:this._onAuthenticationError.bind(this),reconnecting:this.emitEvent,reconnected:this.emitEvent}),this._session=t,this._abbaClient=l.forSession(t);var n=c.create({session:t});n.on("product_state_changed",this.emitEvent),this.on("before_disconnect",function(e){e&&e.waiters.push(n.deregister())}),this._productStateObserver=n},i.prototype._onError=function(e,t){this.emit("error",{source:e,name:t.name,error:t.error}),t.error&&t.error.unrecoverable&&this.emit("unrecoverable_failure",{source:e,name:t.name,error:t.error})},i.prototype._onConnected=function(){this.emit("connected"),this._session.authenticate().catch(function(){})},i.prototype._onConnectionError=function(e){this._onError("transport",{name:"connection_error",error:e}),this.emit("connection_error",e)},i.prototype._onAuthenticationError=function(e){var t=e&&e.error?e.error:e;this._onError("transport",{name:"authentication_error",error:t}),this.emit("authentication_error",t)},i.prototype.getVersionDescriptor=function(){return this._sdkVersion},i.prototype.getSDKId=function(){return"harmony:"+this._sdkVersion.tagged},i.prototype.getSession=function(){return this._session},i.prototype.getABBAClient=function(){return this._abbaClient},i.prototype.getClientDescriptor=function(){return this._clientDescriptor},i.prototype.getUserInfo=function(){return this._session.request("https://@webapi/v1/me",{responseType:"json"}).then(function(e){var t=e.body;return t?{display_name:t.display_name,followers:t.followers,id:t.id,images:t.images,uri:t.uri}:a.reject(new Error("Unexpected empty response."))})},i.prototype.getProductState=function(){return this._productStateObserver.getCurrentState()},i.prototype.connect=function(){return this._session.connect()},i.prototype.disconnect=function(){var e=[];return this.emitSync("before_disconnect",{waiters:e}),a.all(e).then(function(){return this._session.disconnect()}.bind(this))},i.prototype.notifyError=function(e,t,n){this._onError(e,{name:t,error:n})},e.exports=i}).call(t,function(){return this}())},function(e,t,n){"use strict";var r=n(634),i=n(605);e.exports={forClient:function(e,t){var n=t||{},o=e.getSession(),a=e.getVersionDescriptor().tagged,s=r.create({descriptor:e.getClientDescriptor(),session:o});return i.create({client:e,version:a,playerClient:s,decorateTrackWindow:n.decorateTrackWindow,disableProgress:n.disableProgress})},of:function(e){return e._controller}}},function(e,t,n){"use strict";var r=n(606),i=n(609),o=n(613),a=n(610);e.exports={Client:i,Streamer:o,Controller:a,create:function(e){var t=e||{},n=i.create(e.client),s=o.forClient(n,e.streamer),u=t.controller||{};void 0===u.decorateTrackWindow&&(u.decorateTrackWindow=!0),e.onlyLocalState&&(u.decorateTrackWindow=!1,u.disableProgress=!0);var l=a.forClient(n,u);return r.create({client:n,streamer:s,controller:l,onlyLocalState:e.onlyLocalState,preferControllerState:e.preferControllerState,disconnectBeforeUnload:e.disconnectBeforeUnload})}}},function(e,t,n){"use strict";function r(e,t){this.type=e;for(var n in t)"function"!=typeof t[n]&&(this[n]=t[n])}var i=n(136),o="spotify:",a="http://play.spotify.com/",s="https://play.spotify.com/",u="http://open.spotify.com/",l="https://open.spotify.com/",c=new TypeError("Invalid Spotify URI!"),p=(new TypeError("Not implemented!"),{URI:0,URL:1}),f=function(e){var t,n,r,i=e.split("#");if(i.length>1&&(e=i.shift(),r=i.pop()),0===e.indexOf(o))t=e.slice(o.length).split(":"),n=p.URI;else{if(e=e.split("?")[0],0===e.indexOf(a))t=e.slice(a.length).split("/");else if(0===e.indexOf(s))t=e.slice(s.length).split("/");else if(0===e.indexOf(u))t=e.slice(u.length).split("/");else{if(0!==e.indexOf(l))throw c;t=e.slice(l.length).split("/")}n=p.URL}return r&&t.push(r),{format:n,components:t}},d=function(e,t){return e=encodeURIComponent(e),t===p.URI&&(e=e.replace(/%20/g,"+")),e=e.replace(/[!'()]/g,escape),e=e.replace(/\*/g,"%2A")},h=function(e,t){var n=t==p.URI?e.replace(/\+/g,"%20"):e;return decodeURIComponent(n)},y=function(e,t){var n;e.id&&(n=e._base62Id);var i,o,a;switch(e.type){case r.Type.ALBUM:return i=[r.Type.ALBUM,n],e.disc&&i.push(e.disc),i;case r.Type.AD:return[r.Type.AD,e._base62Id];case r.Type.ARTIST:return[r.Type.ARTIST,n];case r.Type.ARTIST_TOPLIST:return[r.Type.ARTIST,n,r.Type.TOP,e.toplist];case r.Type.SEARCH:return[r.Type.SEARCH,d(e.query,t)];case r.Type.TRACK:return e.anchor&&(n+="#"+e.anchor),[r.Type.TRACK,n];case r.Type.TRACKSET:var s=[];for(o=0,a=e.tracks.length;o<a;o++)s.push(e.tracks[o]._base62Id);return s=[s.join(",")],null!==e.index&&s.push("#",e.index),[r.Type.TRACKSET,d(e.name)].concat(s);case r.Type.FACEBOOK:return[r.Type.USER,r.Type.FACEBOOK,e.uid];case r.Type.AUDIO_FILE:return[r.Type.AUDIO_FILE,e.extension,e._base62Id];case r.Type.FOLDER:return[r.Type.USER,d(e.username,t),r.Type.FOLDER,e._base62Id];case r.Type.FOLLOWERS:return[r.Type.USER,d(e.username,t),r.Type.FOLLOWERS];case r.Type.FOLLOWING:return[r.Type.USER,d(e.username,t),r.Type.FOLLOWING];case r.Type.PLAYLIST:return[r.Type.USER,d(e.username,t),r.Type.PLAYLIST,n];case r.Type.STARRED:return[r.Type.USER,d(e.username,t),r.Type.STARRED];case r.Type.TEMP_PLAYLIST:return[r.Type.TEMP_PLAYLIST,e.origin,e.data];case r.Type.CONTEXT_GROUP:return[r.Type.CONTEXT_GROUP,e.origin,e.name];case r.Type.USER_TOPLIST:return[r.Type.USER,d(e.username,t),r.Type.TOP,e.toplist];case r.Type.USER_TOP_TRACKS:return[r.Type.USER,d(e.username,t),r.Type.TOPLIST];case r.Type.TOPLIST:return[r.Type.TOP,e.toplist].concat(e.global?[r.Type.GLOBAL]:["country",e.country]);case r.Type.INBOX:return[r.Type.USER,d(e.username,t),r.Type.INBOX];case r.Type.ROOTLIST:return[r.Type.USER,d(e.username,t),r.Type.ROOTLIST];case r.Type.PUBLISHED_ROOTLIST:return[r.Type.USER,d(e.username,t),r.Type.PUBLISHED_ROOTLIST];case r.Type.COLLECTION_TRACK_LIST:return[r.Type.USER,d(e.username,t),r.Type.COLLECTION_TRACK_LIST,n];case r.Type.PROFILE:return e.args&&e.args.length>0?[r.Type.USER,d(e.username,t)].concat(e.args):[r.Type.USER,d(e.username,t)];case r.Type.LOCAL_ARTIST:return[r.Type.LOCAL,d(e.artist,t)];case r.Type.LOCAL_ALBUM:return[r.Type.LOCAL,d(e.artist,t),d(e.album,t)];case r.Type.LOCAL:return[r.Type.LOCAL,d(e.artist,t),d(e.album,t),d(e.track,t),e.duration];case r.Type.LIBRARY:return[r.Type.USER,d(e.username,t),r.Type.LIBRARY].concat(e.category?[e.category]:[]);case r.Type.IMAGE:return[r.Type.IMAGE,e._base62Id];case r.Type.MOSAIC:return i=e.ids.slice(0),i.unshift(r.Type.MOSAIC),i;case r.Type.RADIO:return[r.Type.RADIO,e.args];case r.Type.SPECIAL:i=[r.Type.SPECIAL];var u=e.args||[];for(o=0,a=u.length;o<a;++o)i.push(d(u[o],t));return i;case r.Type.STATION:i=[r.Type.STATION];var u=e.args||[];for(o=0,a=u.length;o<a;o++)i.push(d(u[o],t));return i;case r.Type.APPLICATION:i=[r.Type.APP,e._base62Id];var u=e.args||[];for(o=0,a=u.length;o<a;++o)i.push(d(u[o],t));return i;case r.Type.COLLECTION_ALBUM:return[r.Type.USER,d(e.username,t),r.Type.COLLECTION,r.Type.ALBUM,n];case r.Type.COLLECTION_MISSING_ALBUM:return[r.Type.USER,d(e.username,t),r.Type.COLLECTION,r.Type.ALBUM,n,"missing"];case r.Type.COLLECTION_ARTIST:return[r.Type.USER,d(e.username,t),r.Type.COLLECTION,r.Type.ARTIST,n];case r.Type.COLLECTION:return[r.Type.USER,d(e.username,t),r.Type.COLLECTION].concat(e.category?[e.category]:[]);case r.Type.EPISODE:return[r.Type.EPISODE,n];default:throw c}},_=function(e,t){var n,i,o,a=0,s=function(){return e[a++]},u=function(){var e=s();if(e.length>22)throw new Error("Invalid ID");return e},l=function(){return e.slice(a)},f=function(){var n=t==p.URI?":":"/";return e.slice(a).join(n)},d=s();switch(d){case r.Type.ALBUM:return r.albumURI(u(),parseInt(s(),10));case r.Type.AD:return r.adURI(s());case r.Type.ARTIST:return n=u(),s()==r.Type.TOP?r.artistToplistURI(n,s()):r.artistURI(n);case r.Type.AUDIO_FILE:return r.audioFileURI(s(),s());case r.Type.TEMP_PLAYLIST:return r.temporaryPlaylistURI(s(),f());case r.Type.SEARCH:return r.searchURI(h(f(),t));case r.Type.TRACK:return r.trackURI(u(),s());case r.Type.TRACKSET:var y=h(s()),_=s(),m=s(),v=parseInt(s(),10);("%23"!==m||isNaN(v))&&(v=null);var g=[];if(_)for(_=h(_).split(","),i=0,o=_.length;i<o;i++){var b=_[i];g.push(r.trackURI(b))}return r.tracksetURI(g,y,v);case r.Type.CONTEXT_GROUP:return r.contextGroupURI(s(),s());case r.Type.TOP:var E=s();return s()==r.Type.GLOBAL?r.toplistURI(E,null,!0):r.toplistURI(E,s(),!1);case r.Type.USER:var S=h(s(),t),T=s();if(S==r.Type.FACEBOOK&&null!=T)return r.facebookURI(parseInt(T,10));if(null!=T)switch(T){case r.Type.PLAYLIST:return r.playlistURI(S,u());case r.Type.FOLDER:return r.folderURI(S,u());case r.Type.COLLECTION_TRACK_LIST:return r.collectionTrackList(S,u());case r.Type.COLLECTION:var w=s();switch(w){case r.Type.ALBUM:return n=u(),"missing"===s()?r.collectionMissingAlbumURI(S,n):r.collectionAlbumURI(S,n);case r.Type.ARTIST:return r.collectionArtistURI(S,u());default:return r.collectionURI(S,w)}case r.Type.STARRED:return r.starredURI(S);case r.Type.FOLLOWERS:return r.followersURI(S);case r.Type.FOLLOWING:return r.followingURI(S);case r.Type.TOP:return r.userToplistURI(S,s());case r.Type.INBOX:return r.inboxURI(S);case r.Type.ROOTLIST:return r.rootlistURI(S);case r.Type.PUBLISHED_ROOTLIST:return r.publishedRootlistURI(S);case r.Type.TOPLIST:return r.userTopTracksURI(S);case r.Type.LIBRARY:return r.libraryURI(S,s())}var C=l();return null!=T&&C.length>0?r.profileURI(S,[T].concat(C)):null!=T?r.profileURI(S,[T]):r.profileURI(S);case r.Type.LOCAL:var O=s(),k=O&&h(O,t),R=s(),P=R&&h(R,t),I=s(),A=I&&h(I,t),L=s(),U=parseInt(L,10);return void 0!==I?r.localURI(k,P,A,U):void 0!==R?r.localAlbumURI(k,P):r.localArtistURI(k);case r.Type.IMAGE:return r.imageURI(u());case r.Type.MOSAIC:return r.mosaicURI(e.slice(a));case r.Type.RADIO:return r.radioURI(f());case r.Type.SPECIAL:var M=l();for(i=0,o=M.length;i<o;++i)M[i]=h(M[i],t);return r.specialURI(M);case r.Type.STATION:return r.stationURI(l());case r.Type.EPISODE:return r.episodeURI(u());default:n=d===r.Type.APP?s():d;var M=l();for(i=0,o=M.length;i<o;++i)M[i]=h(M[i],t);return r.applicationURI(n,M)}throw c};Object.defineProperty(r.prototype,"id",{get:function(){return this._hexId||(this._hexId=this._base62Id?r.idToHex(this._base62Id):void 0),this._hexId},set:function(e){this._base62Id=e?r.hexToId(e):void 0,this._hexId=void 0},enumerable:!0,configurable:!0}),r.prototype.toAppType=function(){if(this.type==r.Type.APPLICATION)return r.applicationURI(this.id,this.args);var e=y(this,p.URL),t=e.shift(),n=e.length;if(n)for(;n--;)e[n]=h(e[n],p.URL);this.type==r.Type.RADIO&&(e=e.shift().split(":"));var i=r.applicationURI(t,e);return i},r.prototype.toRealType=function(){return this.type==r.Type.APPLICATION?_([this.id].concat(this.args),p.URI):new r(null,this)},r.prototype.toURI=function(){return o+y(this,p.URI).join(":")},r.prototype.toString=function(){return this.toURI()},r.prototype.toURLPath=function(e){var t=y(this,p.URL);t[0]===r.Type.APP&&t.shift();var n=t[0]===r.Type.TRACKSET,i=t[0]===r.Type.LOCAL,o=!n&&!i;if(o){for(var a=[],s=0,u=t.length;s<u;s++){var l=t[s];l&&a.push(l)}t=a}var c=t.join("/");return e?"/"+c:c},r.prototype.toPlayURL=function(){return s+this.toURLPath()},r.prototype.toURL=function(){return this.toPlayURL()},r.prototype.toOpenURL=function(){return l+this.toURLPath()},r.prototype.toSecurePlayURL=function(){return this.toPlayURL()},r.prototype.toSecureURL=function(){return this.toPlayURL()},r.prototype.toSecureOpenURL=function(){return this.toOpenURL()},r.prototype.idToByteString=function(){var e=i.toBytes(this._base62Id);for(e=e.map(function(e){return String.fromCharCode(e)}).join("");e.length<16;)e=String.fromCharCode(0)+e;return e},r.Type={EMPTY:"empty",ALBUM:"album",AD:"ad",APP:"app",APPLICATION:"application",ARTIST:"artist",ARTIST_TOPLIST:"artist-toplist",AUDIO_FILE:"audiofile",COLLECTION:"collection",COLLECTION_ALBUM:"collection-album",COLLECTION_MISSING_ALBUM:"collection-missing-album",COLLECTION_ARTIST:"collection-artist",CONTEXT_GROUP:"context-group",EPISODE:"episode",FACEBOOK:"facebook",FOLDER:"folder",FOLLOWERS:"followers",FOLLOWING:"following",GLOBAL:"global",IMAGE:"image",INBOX:"inbox",LOCAL_ARTIST:"local-artist",LOCAL_ALBUM:"local-album",LOCAL:"local",LIBRARY:"library",MOSAIC:"mosaic",PLAYLIST:"playlist",PROFILE:"profile",PUBLISHED_ROOTLIST:"published-rootlist",RADIO:"radio",ROOTLIST:"rootlist",COLLECTION_TRACK_LIST:"collectiontracklist",SEARCH:"search",SPECIAL:"special",STARRED:"starred",STATION:"station",TEMP_PLAYLIST:"temp-playlist",TOP:"top",TOPLIST:"toplist",TRACK:"track",TRACKSET:"trackset",USER:"user",USER_TOPLIST:"user-toplist",USER_TOP_TRACKS:"user-top-tracks",USET_TOP_TRACKS:"user-top-tracks"},r.fromString=function(e){var t=f(e);return _(t.components,t.format)},r.from=function(e){try{return e instanceof r?e:"object"==typeof e&&e.type?new r(null,e):r.fromString(e.toString())}catch(e){return null}},r.fromByteString=function(e,t,n){for(var o=[],a=0;a<t.length;a++)o.push(t.charCodeAt(a));var s=i.fromBytes(o,22),u=n||{};return u.id=s,new r(e,u)},r.clone=function(e){return e instanceof r?new r(null,e):null},r.getCanonical=function(e){return this.getCanonical(e)},r.getCanonicalUsername=function(e){return d(e,p.URI)},r.getDisplayUsername=function(e){return h(e,p.URI)},r.idToHex=function(e){return 22==e.length?i.toHex(e,32):e},r.hexToId=function(e){return 32==e.length?i.fromHex(e,22):e},r.emptyURI=function(){return new r(r.Type.EMPTY,{})},r.albumURI=function(e,t){return new r(r.Type.ALBUM,{id:e,disc:t})},r.adURI=function(e){return new r(r.Type.AD,{id:e})},r.audioFileURI=function(e,t){return new r(r.Type.AUDIO_FILE,{id:t,extension:e})},r.artistURI=function(e){return new r(r.Type.ARTIST,{id:e})},r.artistToplistURI=function(e,t){return new r(r.Type.ARTIST_TOPLIST,{id:e,toplist:t})},r.searchURI=function(e){return new r(r.Type.SEARCH,{query:e})},r.trackURI=function(e,t){return new r(r.Type.TRACK,{id:e,anchor:t})},r.tracksetURI=function(e,t,n){return new r(r.Type.TRACKSET,{tracks:e,name:t||"",index:isNaN(n)?null:n})},r.facebookURI=function(e){return new r(r.Type.FACEBOOK,{uid:e})},r.followersURI=function(e){return new r(r.Type.FOLLOWERS,{username:e})},r.followingURI=function(e){return new r(r.Type.FOLLOWING,{username:e})},r.playlistURI=function(e,t){return new r(r.Type.PLAYLIST,{username:e,id:t})},r.folderURI=function(e,t){return new r(r.Type.FOLDER,{username:e,id:t})},r.collectionTrackList=function(e,t){return new r(r.Type.COLLECTION_TRACK_LIST,{username:e,id:t})},r.starredURI=function(e){return new r(r.Type.STARRED,{username:e})},r.userToplistURI=function(e,t){return new r(r.Type.USER_TOPLIST,{username:e,toplist:t})},r.userTopTracksURI=function(e){return new r(r.Type.USER_TOP_TRACKS,{username:e})},r.toplistURI=function(e,t,n){return new r(r.Type.TOPLIST,{toplist:e,country:t,global:!!n})},r.inboxURI=function(e){return new r(r.Type.INBOX,{username:e})},r.rootlistURI=function(e){return new r(r.Type.ROOTLIST,{username:e})},r.publishedRootlistURI=function(e){return new r(r.Type.PUBLISHED_ROOTLIST,{username:e})},r.localArtistURI=function(e){return new r(r.Type.LOCAL_ARTIST,{artist:e})},r.localAlbumURI=function(e,t){return new r(r.Type.LOCAL_ALBUM,{artist:e,album:t})},r.localURI=function(e,t,n,i){return new r(r.Type.LOCAL,{artist:e,album:t,track:n,duration:i})},r.libraryURI=function(e,t){return new r(r.Type.LIBRARY,{username:e,category:t})},r.collectionURI=function(e,t){return new r(r.Type.COLLECTION,{username:e,category:t})},r.temporaryPlaylistURI=function(e,t){return new r(r.Type.TEMP_PLAYLIST,{origin:e,data:t})},r.contextGroupURI=function(e,t){return new r(r.Type.CONTEXT_GROUP,{origin:e,name:t})},r.profileURI=function(e,t){return new r(r.Type.PROFILE,{username:e,args:t})},r.imageURI=function(e){return new r(r.Type.IMAGE,{id:e})},r.mosaicURI=function(e){return new r(r.Type.MOSAIC,{ids:e})},r.radioURI=function(e){return e="undefined"==typeof e?"":e,new r(r.Type.RADIO,{args:e})},r.specialURI=function(e){return e="undefined"==typeof e?[]:e,new r(r.Type.SPECIAL,{args:e})},r.stationURI=function(e){return e="undefined"==typeof e?[]:e,new r(r.Type.STATION,{args:e})},r.applicationURI=function(e,t){return t="undefined"==typeof t?[]:t,new r(r.Type.APPLICATION,{id:e,args:t})},r.collectionAlbumURI=function(e,t){return new r(r.Type.COLLECTION_ALBUM,{username:e,id:t})},r.collectionMissingAlbumURI=function(e,t){return new r(r.Type.COLLECTION_MISSING_ALBUM,{username:e,id:t})},r.collectionArtistURI=function(e,t){return new r(r.Type.COLLECTION_ARTIST,{username:e,id:t})},r.episodeURI=function(e){return new r(r.Type.EPISODE,{id:e})},e.exports=r},function(e,t,n){"use strict";function r(e,t){var n=t||{},r=e.getSDKId(),u=e.getSession(),l=e.getABBAClient(),c=e.getClientDescriptor(),p=i.createPlayerManager(u,n),f=p.createPlayer("main"),d=o.create({trackPlayer:f}),h=a.create({clientVersion:r,session:u,listPlayer:d,descriptor:c,endpoint:n.endpoint,abbaClient:l});return new s({client:e,descriptor:c,listPlayer:d,tpApiClient:h,playerPromise:f})}var i=n(623),o=n(629),a=n(637),s=n(608);e.exports={forClient:r,of:function(e){return e._streamer}}},function(e,t){"use strict";function n(){this._id={},this.length=0,this.first=null,this.last=null}var r="Node is null!",i="Node already exists in another list!";n.prototype.append=function(e){if(!e)throw new Error(r);if(e.listID)throw new Error(i);return e.listID=this._id,this.first?(e.prev=this.last,e.next=null,this.last.next=e,this.last=e):(this.first=e,this.last=e),++this.length},n.prototype.insertAfter=function(e,t){if(!e||!t)throw new Error(r);if(t.listID)throw new Error(i);t.listID=this._id,t.prev=e,t.next=e.next,e.next.prev=t,e.next=t,t.prev===this.last&&(this.last=t),this.length++},n.prototype.remove=function(e){if(!e)throw new Error(r);return!(!this.length||e.listID!==this._id)&&(this.length>1?(e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),e===this.first?this.first=e.next:e===this.last&&(this.last=e.prev)):(this.first=null,this.last=null),e.listID=null,e.prev=null,e.next=null,this.length--,!0)},n.Node=function(e){this.listID=null,this.key=null,this.prev=null,this.next=null,this.value=e||null},e.exports=n},function(e,t){"use strict";function n(e,t,r){this._estimatedBandwidth=n.DEFAULT_BANDWIDTH_ESTIMATE,this._lastEstimatedBandwidths=[],this._maxResolution=Number.MAX_VALUE,this._videoVariants=[],this._audioVariants=[],this._videoVariant=null,this._audioVariant=null,this._switchCallback=function(){},e&&this.setVideoVariants(e),t&&this.setAudioVariants(t),r&&this.setSwitchCallback(r)}n.DEFAULT_BANDWIDTH_ESTIMATE=512e3,n.MAX_BANDWIDTH_CONSUMPTION=.85,n.MAX_NUMBER_OF_SAMPLES=3,n.prototype.segmentDownloaded=function(e,t){var r=t/1e3,i=e/r*8,o=this._videoVariant&&this._videoVariant.max_bitrate||0,a=this._audioVariant&&this._audioVariant.max_bitrate||0,s=o+a,u=i*n.MAX_BANDWIDTH_CONSUMPTION;u<s?this._lastEstimatedBandwidths=[]:this._lastEstimatedBandwidths.length===n.MAX_NUMBER_OF_SAMPLES&&this._lastEstimatedBandwidths.shift(),this._lastEstimatedBandwidths.push(i);var l=this._lastEstimatedBandwidths.length,c=this._lastEstimatedBandwidths.reduce(function(e,t){return e+t/l},0);this.setBandwidth(c)},n.prototype.setBandwidth=function(e){this._estimatedBandwidth=e,this._updateVariant()},n.prototype.getEstimatedBandwidth=function(){return this._estimatedBandwidth},n.prototype.setMaxResolution=function(e){this._maxResolution=e,this._updateVariant()},n.prototype.setVideoVariants=function(e){this._videoVariants=this._sortByBitrate(e),this._videoVariant=this._videoVariants[0]||null},n.prototype.setAudioVariants=function(e){this._audioVariants=this._sortByBitrate(e),this._audioVariant=this._audioVariants[0]||null},n.prototype.getVideoVariant=function(){return this._videoVariant},n.prototype.getAudioVariant=function(){return this._audioVariant},n.prototype.setSwitchCallback=function(e){this._switchCallback=e},n.prototype._sortByBitrate=function(e){return e.sort(function(e,t){return e.max_bitrate-t.max_bitrate})},n.prototype._getAvailableBandwidth=function(){return this._estimatedBandwidth*n.MAX_BANDWIDTH_CONSUMPTION},n.prototype._updateVariant=function(){var e=this.getVideoVariant(),t=this.getAudioVariant(),n=this._getHighestQualityVariant(this._videoVariants),r=this._getHighestQualityVariant(this._audioVariants),i=t!==r||e!==n;i&&(this._videoVariant=n,this._audioVariant=r,this._switchCallback(n,r))},n.prototype._getHighestQualityVariant=function(e){return e.filter(function(e){var t=e.max_bitrate<=this._getAvailableBandwidth(),n=(e.video_resolution||0)<=this._maxResolution;return t&&n}.bind(this)).pop()||e[0]||null},e.exports=n},function(e,t,n){"use strict";function r(e){return Math.ceil(1e3*e)}function i(e,t){a.call(this),this._player=e,this._mediaSource=null,this._sourceBuffers={},this._appendingFragments=[],this._updateQueue=[],this._codecs=[],this._playId=0,this._tracker=t,this._onSourceOpen=this._onSourceOpen.bind(this),this.dequeueUpdates=this.dequeueUpdates.bind(this),this._init()}var o=n(20),a=n(19),s=n(12),u=n(49).forTag("playback.acme_buffer"),l=9e3;o(i,a),i.create=function(e,t){return new i(e,t)},i.prototype._awaitAllSourceBufferUpdates=function(e){for(var t=this._mediaSource.sourceBuffers,n=t.length,r=n,i=function(){if(r--,0===r){for(var i=0;i<n;i++)if(t[i].updating)return this._awaitAllSourceBufferUpdates(e);return e()}}.bind(this),o=0;o<n;o++)this._awaitSourceBufferUpdate(t[o],i)},i.prototype._awaitSourceBufferUpdate=function(e,t){e.updating?e.addEventListener("updateend",function n(){e.removeEventListener("updateend",n),t()}):t()},i.prototype._endUpdate=function(){var e=s.defer();return"ended"!==this._mediaSource.readyState?this._awaitAllSourceBufferUpdates(function(){this._mediaSource.endOfStream(),e.resolve(!0)}.bind(this)):e.resolve(!0),e.promise},i.prototype._init=function(){this._mediaSource=new MediaSource,this._mediaSource.addEventListener("sourceopen",this._onSourceOpen),this._sourceBuffers={}},i.prototype._onSourceOpen=function(){this._sourceBuffers={};var e=this._mediaSource;if(0===e.sourceBuffers.length&&"open"===e.readyState){for(var t=0,n=this._codecs.length;t<n;t++)this.addSourceBuffer(this._codecs[t]);this.dequeueUpdates()}},i.prototype._removeAppendingFragment=function(e){if(e){var t=this._appendingFragments,n=t.indexOf(e);n!==-1&&t.splice(n,1)}},i.prototype.dequeueUpdates=function(){var e=this._updateQueue;e.length&&this.tryUpdate(e.shift())},i.prototype.addSourceBuffer=function(e){var t=this._mediaSource.addSourceBuffer(e);t.addEventListener("updateend",this.dequeueUpdates.bind(this)),this._sourceBuffers[e]=t},i.prototype.abortBuffering=function(e){this.clear(),e&&e.abort(),this._appendingFragments=[]},i.prototype.appendFragment=function(e,t,n){if(this._appendingFragments.indexOf(t)!==-1)return!1;this._appendingFragments.push(t),this.emit("buffering_start");var i=Date.now(),o=this._playId,a="video"===e.getMediaType();return e.getBufferForFragment(t).then(function(e){if(o!==this._playId)return void u.info("Append fragment dropped: playId has changed.");var c=Date.now()-i;!n&&c>l&&(this._tracker.trackStutter(),this.emit("stalled",{byteStart:t.byteStart,timeStart:r(t.timeStart),stallAmount:c-l,didTimeout:!1})),this.emit("buffering_end");var p,f=s.defer();p=a?[e.audio,e.video]:[e];for(var d=0,h=p.length;d<h;d++)this.tryUpdate({playId:o,type:"append",buffer:a?p[d].buffer:p[d],fragment:a?p[d]:t,resolve:f.resolve});return f.promise}.bind(this)).catch(function(o){this._removeAppendingFragment(t);var a=Date.now()-i;return!n&&a>l&&(this._tracker.trackStutter(),this.emit("stalled",{byteStart:t.byteStart,timeStart:r(t.timeStart),stallAmount:a-l,didTimeout:!0})),this.emit("append_error",{error:o,canPlayNext:!0,track:e.toLogJSON()}),s.reject(o)}.bind(this))},i.prototype._appendUpdate=function(e,t){try{e.appendBuffer(t.buffer);var n=this._appendingFragments.indexOf(t.fragment);n!==-1&&this._appendingFragments.splice(n,1)}catch(e){this._updateQueue.push(t)}},i.prototype.clear=function(){if(this._mediaSource)for(var e=this._mediaSource.sourceBuffers,t=0,n=e.length;t<n;t++)"open"===this._mediaSource.readyState&&e[t].abort()},i.prototype._getBufferedFor=function(e){var t,n=this._mediaSource.sourceBuffers[0];try{t=n.buffered}catch(e){return e.toString(),null}for(var r=t.length;r--;)if(t.start(r)<=e&&t.end(r)>=e)return{start:t.start(r),end:t.end(r)};return null},i.prototype.getMediaSource=function(){return this._mediaSource},i.prototype.tryUpdate=function(e,t){if(e){if(e.playId!==this._playId)return u.info("Try update dropped: playId has changed"),e.fragment&&this._removeAppendingFragment(e.fragment),e.resolve&&e.resolve(!1),void s.resolve().then(this.dequeueUpdates.bind(this));var n=this._mediaSource;if("open"!==n.readyState&&"ended"!==n.readyState)return void this._updateQueue.push(e);if("end"===e.type)this._endUpdate().then(function(){e.resolve&&e.resolve(!0)});else{var r=e.fragment.codec,i=this._sourceBuffers[r];if(!i||i.updating)return void this._updateQueue.push(e);if("append"===e.type){var o=e.fragment;o&&!o.init&&t?this._updateQueue.push(e):this._appendUpdate(i,e,t)}else"remove"===e.type&&this._removeUpdate(i,e);e.resolve&&e.resolve(!0)}}},i.prototype._removeUpdate=function(e,t){!isNaN(t.end)&&!isNaN(t.start)&&t.end>t.start&&e.remove(t.start,t.end)},i.prototype.destroy=function(){this._mediaSource&&(this._mediaSource.removeEventListener("sourceopen",this._onSourceOpen),this._mediaSource=null,Object.keys(this._sourceBuffers).forEach(function(e){var t=this._sourceBuffers[e];t.removeEventListener("updateEnd",this.dequeueUpdates),delete this._sourceBuffers[e],t=null}.bind(this)))},i.prototype.progress=function(e,t,n){var r=10,i=this._mediaSource;if(e&&("open"===i.readyState||"ended"===i.readyState)){var o=this._getBufferedFor(n),a=null;if(a=o&&o.end?o.end:n,a-n<r){var s;t&&(s=e.getFragmentForTime(a),this.appendFragment(e,s,t)),s=e.getFragmentAfterTime(a);var u="video"===e.getMediaType();u&&s&&o&&o.end<=s.timeStart&&(s=e.getFragmentForTime(a)),s?this.appendFragment(e,s,t):this.tryUpdate({playId:this._playId,type:"end"})}}},i.prototype.recreate=function(e,t){this.clear(),this.destroy(),this._player=e,this._codecs=t,this._init()},i.prototype.setDuration=function(e){this._awaitAllSourceBufferUpdates(function(){this._mediaSource.duration=e}.bind(this))},i.prototype.setPlayId=function(e){this._playId=e},e.exports=i},function(e,t){"use strict";e.exports=[{initDataType:["cenc"],audioCapabilities:[{contentType:'audio/mp4; codecs="mp4a.40.2"',robustness:"SW_SECURE_DECODE"},{contentType:'audio/webm;codecs="opus"',robustness:"SW_SECURE_DECODE"}],videoCapabilities:[{contentType:'video/webm;codecs="vp8"',robustness:"SW_SECURE_DECODE"}],distinctiveIdentifier:"optional",persistenceState:"optional",sessionTypes:["temporary"]},{initDataType:["cenc"],audioCapabilities:[{contentType:'audio/mp4; codecs="mp4a.40.2"',robustness:"SW_SECURE_CRYPTO"},{contentType:'audio/webm;codecs="opus"',robustness:"SW_SECURE_CRYPTO"}],videoCapabilities:[{contentType:'video/webm;codecs="vp8"',robustness:"SW_SECURE_CRYPTO"}],distinctiveIdentifier:"optional",persistenceState:"optional",sessionTypes:["temporary"]},{initDataType:["cenc"],audioCapabilities:[{contentType:'audio/mp4; codecs="mp4a.40.2"',robustness:"SW_SECURE_DECODE"}],videoCapabilities:[{contentType:'video/mp4; codecs="avc1.4d401f"',robustness:"SW_SECURE_DECODE"}],distinctiveIdentifier:"optional",persistenceState:"optional",sessionTypes:["temporary"]},{initDataType:["cenc"],audioCapabilities:[{contentType:'audio/mp4; codecs="mp4a.40.2"',robustness:"SW_SECURE_CRYPTO"}],videoCapabilities:[{contentType:'video/mp4; codecs="avc1.4d401f"',robustness:"SW_SECURE_CRYPTO"}],distinctiveIdentifier:"optional",persistenceState:"optional",sessionTypes:["temporary"]},{initDataType:["cenc"],audioCapabilities:[{contentType:'audio/mp4; codecs="mp4a.40.2"',robustness:"SW_SECURE_DECODE"},{contentType:'audio/mp2t; codecs="mp4a.40.2"',robustness:"SW_SECURE_DECODE"}],videoCapabilities:[{contentType:'video/mp2t; codecs="avc1.4d401f"',robustness:"SW_SECURE_DECODE"}],distinctiveIdentifier:"optional",persistenceState:"optional",sessionTypes:["temporary"]},{initDataType:["cenc"],audioCapabilities:[{contentType:'audio/mp4; codecs="mp4a.40.2"',robustness:"SW_SECURE_CRYPTO"},{contentType:'audio/mp2t; codecs="mp4a.40.2"',robustness:"SW_SECURE_CRYPTO"
}],videoCapabilities:[{contentType:'video/mp2t; codecs="avc1.4d401f"',robustness:"SW_SECURE_CRYPTO"}],distinctiveIdentifier:"optional",persistenceState:"optional",sessionTypes:["temporary"]},{initDataType:["cenc"],audioCapabilities:[{contentType:'audio/mp4; codecs="mp4a.40.2"',robustness:"SW_SECURE_DECODE"}],distinctiveIdentifier:"optional",persistenceState:"optional",sessionTypes:["temporary"]},{initDataType:["cenc"],audioCapabilities:[{contentType:'audio/mp4; codecs="mp4a.40.2"',robustness:"SW_SECURE_CRYPTO"}],distinctiveIdentifier:"optional",persistenceState:"optional",sessionTypes:["temporary"]}]},function(e,t,n){(function(t){"use strict";function r(e){l.call(this),this._session=e.session,this._keySystemDeferred=o.defer(),this._configuration=o.defer(),this._keySystemSettings=null,this._keySessions=[]}var i=n(20),o=n(12),a=n(628),s=n(627),u=n(138),l=n(19),c=n(620),p=c.KeySystem,f=c.KeySystemSetting,d=n(617),h=n(49).forTag("playback.eme_manager"),y=3,_=/([^;]+)(?:;\s?codecs="(.*)")?/;i(r,l),r.create=function(e){return o.resolve(!0).then(function(){return new r(e).init()}).catch(function(e){return o.reject(new a("Cannot initialize EMEManager: "+e.message))})},r.prototype._prepareConfiguration=function(e){var t=e.getConfiguration(),n={keySystem:e.keySystem,audioFormats:this._parseCapabilities(t.audioCapabilities),videoFormats:this._parseCapabilities(t.videoCapabilities)};return this._keySystemSettings=f[e.keySystem],this._configuration.resolve(n),n},r.prototype._parseCapabilities=function(e){if(!e)return[];for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n];if(i&&i.contentType){var o=i.contentType.match(_);t.push({contentType:i.contentType,mimeType:o[1],codec:o[2]})}}return t},r.prototype._trySetServerCertificate=function(e,t){return this._session.request(e+"/v1/application-certificate",{authorize:!0,responseType:"arraybuffer",shouldRetry:function(e,t){return e.getStatusFamily()===t.SERVER_ERROR}}).then(function(e){return t.setServerCertificate(e.body)}).then(function(){return this}.bind(this)).catch(function(e){return h.warn("Error from setting server certificate",e),this}.bind(this))},r.prototype._onMessage=function(e,n,r,i,o,l){o&&o.markStepFrom(u.LICENSE_SESSION_CREATED,u.LICENSE_MESSAGE_GENERATED);var c=l.message;if(c&&"license-request"===l.messageType){if(e===p.PLAYREADY){var f,d=(new t.DOMParser).parseFromString(String.fromCharCode.apply(null,new t.Uint16Array(c)),"application/xml");if(d.getElementsByTagName("Challenge")[0])try{f=atob(d.getElementsByTagName("Challenge")[0].childNodes[0].nodeValue)}catch(e){this.emit("license_request_error",{playId:i,error:e})}else this.emit("license_request_error",{playId:i,error:new Error("Cannot find <Challenge> in key message")});var h=d.getElementsByTagName("name"),y=d.getElementsByTagName("value");h.length!==y.length&&this.emit("license_request_error",{playId:i,error:new Error("Mismatched header <name>/<value> pair in key message")}),c=f}this._session.request(r,{method:"POST",payload:c,responseType:"arraybuffer",shouldRetry:function(e,t){return 400!==e.status&&402!==e.status&&403!==e.status&&(!e.body||e.getStatusFamily()!==t.SUCCESS)}}).then(function(e){if(o&&o.markStepFrom(u.LICENSE_MESSAGE_GENERATED,u.LICENSE_REQUEST_FINISHED),400===e.status||403===e.status)return void this.emit("license_request_error",{playId:i,error:new a("License server response with status "+e.status,!0)});if(402===e.status)return void this.emit("license_request_capped",{playId:i,error:new s("User is capped.")});if(200!==e.status)return void this.emit("license_request_error",{playId:i,error:new a("License server response with status "+e.status)});if(!e.body)return void this.emit("license_request_error",{playId:i,error:new a("License server response with empty body and status "+e.status)});var t=function(e){this.emit("license_request_error",{playId:i,error:e})}.bind(this);try{n.update(e.body).catch(t)}catch(e){t(e)}}.bind(this))}},r.prototype._saveSession=function(e){var t=this._keySessions;if(t.length+1>y)try{var n=t.shift();n.close()}catch(e){}t.push(e)},r.prototype.init=function(){var e=this._keySystemDeferred,n=t.navigator;return n.requestMediaKeySystemAccess(p.WIDEVINE,d).catch(function(){return n.requestMediaKeySystemAccess(p.PLAYREADY,d)}).then(function(t){return this._prepareConfiguration(t),e.resolve(t),this}.bind(this)).catch(function(){return e.reject(new a("No supported keysystem.")),e.promise})},r.prototype.createMediaKeys=function(e){return this._keySystemDeferred.promise.then(function(e){return e.createMediaKeys()}).then(function(t){return o.all([e.setMediaKeys(t),t])}).spread(function(t,n){if(!e.mediaKeys)throw new a("Player media key initialization failed");return this._configuration.promise.then(function(){var e=this._keySystemSettings;return e.withCertificate?this._trySetServerCertificate(e.licenseServer,n):this}.bind(this))}.bind(this))},r.prototype.getKeySystemInfo=function(){return this._configuration.promise},r.prototype.createSessionWithParams=function(e){var t=e.mediaKeys.createSession(),n=e.licenseServer||this._keySystemSettings.licenseServer;e.keySystem===p.PLAYREADY&&(n=this._keySystemSettings.licenseServer);var r=e.stepTimer,i=e.playId;return t.addEventListener("message",this._onMessage.bind(this,e.keySystem,t,n,i,r)),this._saveSession(t),r&&r.markStep(u.LICENSE_SESSION_CREATED),t.generateRequest(e.initDataType,e.initData),new o(function(e){t.addEventListener("keystatuseschange",function(){r&&r.markStepFrom(u.LICENSE_REQUEST_FINISHED,u.LICENSE_SESSION_UPDATED),e(!0)})})},e.exports=r}).call(t,function(){return this}())},function(e,t,n){"use strict";function r(e){this._session=e.session,this._sessionLogger=this._session.getLogger(),this._resolver=e.resolver,this._player=e.player,this._currentTrackingData=null,this._sequenceId=0,this._sequenceSessionStorage={},this._init()}var i=n(20),o=n(19),a=n(49).forTag("playback.logger"),s=n(460),u=9007199254740991;i(r,o),r.create=function(e){return new r(e)},r.prototype._init=function(){this._player.addListeners({load:this._onPlayerLoad.bind(this),tracking_data_created:this._onTrackingDataCreated.bind(this),tracking_data_finalized:this._onTrackingDataFinalized.bind(this),error:this._onError.bind(this),stalled:this._onStalled.bind(this),preloading_error:this._onError.bind(this)})},r.prototype._emitError=function(e,t){this.emit("error",{name:"LoggingError",error:e,data:t})},r.prototype._onError=function(e){var t=e.error,n=e.name.replace(/^[a-z]/,function(e){return e.toUpperCase()}),r=this._currentTrackingData;this._logError(n,t,{track:e.track||{},code:t&&t.code,domain:t&&t.domain,preloading:!!e.preloading,session_id:this._sessionId,playback_id:r?r.playbackId:null})},r.prototype._onStalled=function(e){var t=this._currentTrackingData;t&&t.playbackId&&this._sessionLogger.logJSSDKStall({session_id:this._sessionId,playback_id:t.playbackId,play_track:t.currentTrackUri,file_id:t.fileId,byte_offset:e.byteStart,time_offset:e.timeStart,ms_stalled:e.stallAmount,timed_out:!!e.didTimeout})},r.prototype._onPlayerLoad=function(e){var t=e.logData;if(t)if(t.impressionURLs)for(var n=t.impressionURLs.length;n--;)this._logImpression(t.impressionURLs[n]);else t.impressionURL&&this._logImpression(t.impressionURL)},r.prototype._onTrackingDataCreated=function(e){var t=e.data;t.playbackId&&!t.noLog&&(this._currentTrackingData=t,this._setSessionAndSequenceIds())},r.prototype._setSessionAndSequenceIds=function(){this._sessionId=this._session.getInitTime().toString(),this._sequenceId=this._getSequenceId(this._sessionId)},r.prototype._onTrackingDataFinalized=function(e){var t=e.data;if(t.playbackId&&!t.noLog){if(this._sessionId!==this._session.getInitTime().toString()&&this._setSessionAndSequenceIds(),!t.playIntended&&!t.played)return void this._rollbackSequenceId(this._sessionId);var n={play_track:"",playback_id:t.playbackId,ms_played:t.msPlayed,session_id:this._sessionId,sequence_id:this._sequenceId,next_playback_id:t.nextPlaybackId};a.debug("Logged TrackStreamVerification",n),this._sessionLogger.logTrackStreamVerification(n).catch(function(e){this._logError("TrackStreamVerificationError",e,n),this._emitError(e,t)}.bind(this))}},r.prototype._getSequenceId=function(e){var t=this._sequenceSessionStorage[e];return t||(t=0),t+1>=u&&(t=0),this._sequenceSessionStorage[e]=t+1,t},r.prototype._rollbackSequenceId=function(e){var t=this._sequenceSessionStorage[e];if(t)return t-1<0&&(t=1),this._sequenceSessionStorage[e]=t-1,t},r.prototype._logImpression=function(e){var t=this._session;t.touch?t.touch(e):t.send(e)},r.prototype._logError=function(e,t,n){var r="";t&&(r=t.stack,r||(r=t.toString())),this._sessionLogger.logJSSDKError({source:"playback.acme-player",source_version:s.tagged,type:e,message:t&&t.message,stack:r,json_data:n,json_data_version:"1.0.0"})},e.exports=r},function(e,t){"use strict";var n={WIDEVINE:"com.widevine.alpha",PLAYREADY:"com.microsoft.playready"},r={"com.widevine.alpha":{licenseServer:"https://@webgate/widevine-license",withCertificate:!0},"com.microsoft.playready":{licenseServer:"https://@webgate/playready-license/v1/audio/license/0000000000000000?key=3q2%2B796tvu%2Ferb7v3q2%2B7w%3D%3D",withCertificate:!1}};e.exports={KeySystem:n,KeySystemSetting:r}},function(e,t,n){(function(t){"use strict";function r(e){this._keySystem=e.keySystem,this._mediaType="audio",this._uri=e.uri,this._fileId=e.fileId,this._format=e.format,this._session=e.session,this._resolver=e.resolver,this._resolvedURL=e.resolvedURL,this._fallbackURLs=[],this._logData=e.logData||{},this._licenseFetcher=e.licenseFetcher,this._codec=e.codec||r.PROTECTED_CODEC,this._bypassResolve=!!this._resolvedURL,this._protection=null,this._psshBox=null,this._fragments=null,this._duration=0,this._frontPaddingDuration=0,this._endPaddingDuration=0,this._initFragment=null,this._headFragment=null,this._fetching=[],this._loaded=!1,this._stepTimer=null,this._lastResolveTimestamp=0,this._lastResolveToken=null}var i=n(219),o=n(12),a=n(221),s="AAAAT3Bzc2gAAAAA7e+LqXnWSs6jyCfc1R0h7QAAAC8IARIQjkdvXv0rqMqeUvuJdEQ6BxoHc3BvdGlmeSIQU5XxcNx4EeWn2APhWavFng==",u=1024/44100,l=1001;r.create=function(e){var t=e||{};return new r(t).load(t.preload)},r.UNPROTECTED_CODEC="audio/mpeg",r.PROTECTED_CODEC='audio/mp4; codecs="mp4a.40.2"',r.prototype.resolve=function(){if(this._bypassResolve)return o.resolve({lid:null,uri:this._resolvedURL,protection:!1});clearTimeout(this._lastResolveToken);var e,t=function(){return this._lastResolveTimestamp=Date.now(),this._resolver.getCDNURL(this._uri,this._fileId,this._keySystem)}.bind(this),n=Date.now()-this._lastResolveTimestamp;return e=n<l?new o(function(e,r){this._lastResolveToken=setTimeout(function(){t().then(e,r)},l-n)}.bind(this)):t(),e.then(function(e){return this._fallbackURLs=e.uris,this._resolvedURL=this._fallbackURLs.shift(),e}.bind(this)).catch(function(e){return e&&(e.track=this.toLogJSON()),o.reject(e)}.bind(this))},r.prototype._parsePSSHBox=function(e){for(var n=i.decode(e),r=new t.Uint8Array(n.length),o=0,a=n.length;o<a;o++)r[o]=n.charCodeAt(o);return r},r.prototype._calculateFragments=function(e){var t=e.offset;this._initFragment={init:!0,cacheBuffer:!0,buffer:null,byteStart:0,byteEnd:t-1,codec:this._codec};for(var n=e.segments,r=e.timescale,i=0,o=n.length,a=new Array(o),s=0,l=0,c=o;l<c;l++){var p=n[l],f=p[0],d=p[1],h=d/r;a[l]={cacheBuffer:!l,buffer:null,byteStart:t,byteEnd:t+(f-1),timeStart:i,timeEnd:i+h,codec:this._codec},t+=f,s+=d,i+=h}var y=a[a.length-1].byteEnd;a[a.length-1].isLastFragment=!0,this._fragments=a,this._duration=s/r,this._frontPaddingDuration=u,this._endPaddingDuration=(2048+(1024-y%1024))/r},r.prototype._calculateFragmentsV1=function(e){var t=e.offset;this._initFragment={init:!0,cacheBuffer:!0,buffer:null,byteStart:0,byteEnd:t-1,codec:this._codec};for(var n=e.references,r=e.timescale,i=0,o=n.length,a=new Array(o),s=0,u=0,l=o;u<l;u++){var c=n[u],p=c.duration/r;a[u]={cacheBuffer:!u,buffer:null,byteStart:t,byteEnd:t+(c.size-1),timeStart:i,timeEnd:i+p,codec:this._codec},t+=c.size,s+=c.duration,i+=p}a[a.length-1].isLastFragment=!0,this._fragments=a,this._duration=s/r},r.prototype.getBufferForFragment=function(e){if(e.buffer)return o.resolve(e.buffer);if(!this._resolvedURL)return o.reject(new TypeError("Cannot fetch buffer: Track not loaded."));var t=o.defer();this._startFetching(t.resolve);var n=e.byteEnd+1-e.byteStart;return this._session.request(this._resolvedURL,{method:"GET",responseType:"arraybuffer",headers:{Range:"bytes="+e.byteStart+"-"+e.byteEnd},canceller:t.promise,shouldRetry:function(e,t){if(0===e.status)return!0;var r=e.getStatusFamily();return r===t.BROWSER_ERROR||r===t.SERVER_ERROR||!(r!==t.SUCCESS||!e.body)&&e.body.byteLength!==n}}).then(function(r){switch(this._endFetching(t.resolve),r.status){case 0:return o.reject(new a("Request failed with status 0."));case 200:case 206:if(!r.body)return o.reject(new a("Empty response for successful buffer."));var i=r.body.slice(0);return i.byteLength!==n?o.reject(new a("Received buffer of unexpected length.")):(e.cacheBuffer&&(e.buffer=i),i);case 403:return this.resolve(!0).then(function(){return this.getBufferForFragment(e)}.bind(this));default:var s=this._fallbackURLs.shift();return s?(this._resolvedURL=s,this.getBufferForFragment(e)):o.reject(new a("Could not get buffer. Status "+r.status))}}.bind(this))},r.prototype._startFetching=function(e){this._fetching.push(e)},r.prototype._endFetching=function(e){var t=this._fetching.indexOf(e);t!==-1&&this._fetching.splice(t,1)},r.prototype.getURI=function(){return this._uri},r.prototype.getFileId=function(){return this._fileId},r.prototype.getFormat=function(){return this._format},r.prototype.getCalculatedDuration=function(){return this._duration},r.prototype.getResolvedURL=function(){return this._resolvedURL},r.prototype.getLogData=function(){return this._logData},r.prototype.getMediaType=function(){return this._mediaType},r.prototype.getInitParams=function(){var e={keySystem:this._keySystem,initDataType:this._protection,initData:this._psshBox,licenseServer:null,stepTimer:this._stepTimer};return this.getLicenseServer().then(function(t){return e.licenseServer=t,e})},r.prototype.isProtected=function(){return!!this._protection&&!!this._psshBox},r.prototype.setLogData=function(e){return this._logData=e,this},r.prototype.setStepTimer=function(e){return this._stepTimer=e,this},r.prototype.getStepTimer=function(){return this._stepTimer},r.prototype.getLicenseServer=function(e){return this._licenseFetcher?this._licenseFetcher(e):o.resolve(null)},r.prototype.load=function(e){return this._loaded?o.resolve(this):o.all([this.resolve(e),this._bypassResolve?null:this._resolver.getManifest(this._fileId,this._keySystem)]).spread(function(t,n){if(e||(this._loaded=!0),!t.protection||!n)return this;if(this._protection=n.protection||"cenc",this._psshBox=this._parsePSSHBox(n.pssh||s),n.segments)this._calculateFragments(n);else{if(!n.references){var r=new TypeError("Malformed seektable.");return r.track=this.toLogJSON(),o.reject(r)}this._calculateFragmentsV1(n)}return this}.bind(this))},r.prototype.getInitFragment=function(){return this._initFragment},r.prototype.getFirstFragment=function(){return this._fragments[0]},r.prototype.getHeadFragment=function(){return this._headFragment||null},r.prototype.getBufferForHeadFragment=function(){var e=this._initFragment,t=this._fragments[0],n={init:!0,cacheBuffer:!0,buffer:null,byteStart:e.byteStart,byteEnd:t.byteEnd,codec:this._codec};return this.getBufferForFragment(n).then(function(r){var i=r.slice(0,t.byteStart),o=r.slice(t.byteStart);return e.buffer=i,t.buffer=o,n.buffer=r,this._headFragment=n,n}.bind(this))},r.prototype.clearCachedBuffers=function(){this._headFragment&&(this._headFragment=null),this._initFragment&&(this._initFragment.buffer=null),this._fragments&&this._fragments[0]&&(this._fragments[0].buffer=null)},r.prototype.getPlayableCodecs=function(){return[this.isProtected()?this._codec:r.UNPROTECTED_CODEC]},r.prototype.getFragmentForTime=function(e){if(null===this._fragments)return null;var t=null;if(0===e||.01===e)t=this._fragments[0];else for(var n=0,r=this._fragments.length;n<r;n++)if(this._fragments[n].timeStart<=e&&this._fragments[n].timeEnd>=e){t=this._fragments[n];break}return t},r.prototype.getFragmentAfterTime=function(e){if(null===this._fragments)return null;var t=null;if(0===e||.01===e)t=this._fragments[1];else for(var n=0,r=this._fragments.length;n<r;n++)if(this._fragments[n].timeStart>e){t=this._fragments[n];break}return t},r.prototype.abort=function(){this._fetching.forEach(function(e){"function"==typeof e&&e(!0)}),this._fetching=[]},r.prototype.toLogJSON=function(){return{uri:this._uri,fileId:this._fileId,format:this._format,deviceId:this._logData&&this._logData.deviceId||"",resolvedURL:this._resolvedURL}},e.exports=r}).call(t,function(){return this}())},function(e,t,n){(function(t){"use strict";function r(e){var t=e||{};this._mediaType="video",this._loaded=!1,this._session=e.session,this._videoCodec=e.videoCodec||"vp8",this._audioCodec=e.audioCodec||"opus",this._fileId=e.fileId,this._fragments=[],this._duration=0,this._initFragment=null,this._videoProfile=null,this._audioProfile=null,this._protection=null,this._psshBox=null,this._resolver=t.resolver||i.create(t),this._abrManager=new a,this._abrManager.setSwitchCallback(this._onBitrateChanged.bind(this))}var i=n(633),o=n(12),a=n(615),s=n(219),u=n(221),l="https://@webgate/widevine-license/v1/video/license",c=4;r.create=function(e){var t=e||{};return new r(t).load(e.preload)},r.prototype._onBitrateChanged=function(e,t){this._videoProfile=e,this._audioProfile=t},r.prototype._constructAudioMimeType=function(e){return e.mime_type+';codecs="'+e.audio_codec+'"'},r.prototype._constructVideoMimeType=function(e){return e.mime_type+';codecs="'+e.video_codec+'"'},r.prototype.abort=function(){},r.prototype.getDuration=function(){return this._endTime},r.prototype._calculateFragments=function(e){this._duration=e.end_time_millis/1e3,this._initFragment={init:!0,quality:0,audio:{buffer:null,codec:this._constructAudioMimeType(this._audioProfile)},video:{buffer:null,codec:this._constructVideoMimeType(this._videoProfile)}};for(var t=0;t<this._duration;t+=c)this._fragments.push({timeStart:t,quality:0,fetchingBufferPromise:null,audio:{buffer:null,codec:this._constructAudioMimeType(this._audioProfile)},video:{buffer:null,codec:this._constructVideoMimeType(this._videoProfile)}})},r.prototype._fetchBufferForFragment=function(e,t,n){if(!e.fetchingBufferPromise){var r=Date.now(),i=this._videoProfile.video_resolution,a={method:"GET",responseType:"arraybuffer",shouldRetry:function(e,t){if(0===e.status)return!0;var n=e.getStatusFamily();return n===t.BROWSER_ERROR||n===t.SERVER_ERROR}};e.fetchingBufferPromise=o.all([this._session.request(t,a).then(this._parseFragmentResponse),this._session.request(n,a).then(this._parseFragmentResponse)]).spread(function(t,n){return e.quality=i,e.audio.buffer=t,e.video.buffer=n,e.fetchingBufferPromise=null,this._abrManager.segmentDownloaded(t.byteLength+n.byteLength,Date.now()-r),e}.bind(this)).catch(function(t){return e.fetchingBufferPromise=null,o.reject(t)})}return e.fetchingBufferPromise},r.prototype._parseFragmentResponse=function(e){switch(e.status){case 0:return o.reject(new u("Request failed with status 0."));case 200:case 206:return e.body?o.resolve(e.body):o.reject(new u("Empty response for successful buffer."));case 403:}return o.reject("Request Error")},r.prototype.getBufferForFragment=function(e){if(e.audio.buffer&&e.video.buffer&&e.quality>=this._videoProfile.video_resolution)return o.resolve(e);var t=this._resolver.getSegmentUrl(e.timeStart,this._audioProfile),n=this._resolver.getSegmentUrl(e.timeStart,this._videoProfile);return this._fetchBufferForFragment(e,t,n)},r.prototype.clearCachedBuffers=function(){this._initFragment&&(this._initFragment.audio.buffer=null,this._initFragment.video.buffer=null),this._fragments.forEach(function(e){e.audio.buffer=null,e.video.buffer=null})},r.prototype._fragmentIndexForTime=function(e){return(e-e%c)/c},r.prototype._parsePSSHBox=function(e){for(var n=s.decode(e),r=new t.Uint8Array(n.length),i=0,o=n.length;i<o;i++)r[i]=n.charCodeAt(i);return r},r.prototype.getFragmentAfterTime=function(e){return this._fragments[this._fragmentIndexForTime(e)+1]},r.prototype.getFragmentForTime=function(e){return this._fragments[this._fragmentIndexForTime(e)]},r.prototype.getInitFragment=function(){return this._initFragment},r.prototype.getBufferForHeadFragment=function(){if(this._initFragment.audio.buffer&&this._initFragment.video.buffer)return o.resolve(this._initFragment);var e=this._resolver.getInitSegmentUrl(this._audioProfile),t=this._resolver.getInitSegmentUrl(this._videoProfile);return this._fetchBufferForFragment(this._initFragment,e,t)},r.prototype.load=function(){return this._loaded?o.resolve(this):this._resolver.getManifest(this._fileId).then(function(e){var t=this._videoCodec,n=this._audioCodec;try{var r=e.contents[0].encryption_infos[0].widevine_pssh;this._psshBox=this._parsePSSHBox(r),this._protection="cenc"}catch(e){}return this._startTime=e.start_time_millis,this._endTime=e.end_time_millis,this._abrManager.setVideoVariants(e.contents[0].profiles.filter(function(e){return e.video_codec===t})),this._abrManager.setAudioVariants(e.contents[0].profiles.filter(function(e){return e.audio_codec===n})),this._videoProfile=this._abrManager.getVideoVariant(),this._audioProfile=this._abrManager.getAudioVariant(),this._calculateFragments(e),this}.bind(this))},r.prototype.setLogData=function(e){return this._logData=e,this},r.prototype.getURI=function(){return this._uri},r.prototype.getFileId=function(){return this._fileId},r.prototype.getFormat=function(){return this._format},r.prototype.getCalculatedDuration=function(){return this._duration},r.prototype.getPlayableCodecs=function(){return[this._constructVideoMimeType(this._videoProfile),this._constructAudioMimeType(this._audioProfile)]},r.prototype.getResolvedURL=function(){return this._resolvedURL},r.prototype.getLogData=function(){return this._logData},r.prototype.getInitParams=function(){var e={initDataType:this._protection,initData:this._psshBox,licenseServer:null};return this.getLicenseServer().then(function(t){return e.licenseServer=t,e})},r.prototype.isProtected=function(){return!!this._protection&&!!this._psshBox},r.prototype.getMediaType=function(){return this._mediaType},r.prototype.setStepTimer=function(e){return this._stepTimer=e,this},r.prototype.getStepTimer=function(){return this._stepTimer},r.prototype.getLicenseServer=function(e){return this._licenseFetcher?this._licenseFetcher(e):o.resolve(l)},r.prototype.toLogJSON=function(){return{uri:this._uri,fileId:this._fileId,format:this._format,deviceId:this._logData&&this._logData.deviceId||""}},e.exports=r}).call(t,function(){return this}())},function(e,t,n){"use strict";var r=n(624),i=n(631);e.exports={createPlayerManager:function(e,t){if(!e)throw new TypeError("Argument session is required.");var n=t||{},o=n.createPlayer||null,a={session:e,resolver:n.resolver||new i(e,"http"),createPlayer:o,trackCacheSize:n.trackCacheSize};return new r(a)}}},function(e,t,n){"use strict";function r(e){o.call(this),this._session=e.session,this._resolver=e.resolver,this._createPlayerNode=e.createPlayer,this._trackCacheSize=e.trackCacheSize,this._players={},this._loggers={},this._progressTrackers={},this._init()}var i=n(20),o=n(19),a=n(12),s=n(619),u=n(625);i(r,o),r.TYPE="http-html5-interface",r.prototype._init=function(){this.emit("ready")},r.prototype._getPlayerClass=function(){return u},r.prototype._onTokenLost=function(){this._eachPlayer(function(e){e.pause()})},r.prototype._eachPlayer=function(e){var t=this._players;for(var n in t)t.hasOwnProperty(n)&&e(t[n])},r.prototype._createPlayer=function(e){if(e in this._players)return a.reject(new TypeError('Cannot create duplicate player for id "'+e+'"'));var t=this._session,n=this._getPlayerClass();return n.create({id:e,session:t,resolver:this._resolver,createPlayer:this._createPlayerNode,trackCacheSize:this._trackCacheSize}).then(function(t){return this._players[e]=t,this._loggers[e]=s.create({session:this._session,resolver:this._resolver,player:t}),t}.bind(this))},r.prototype.crossfade=function(){throw new Error("This Manager does not support crossfading.")},r.prototype.createPlayer=function(e){return this._createPlayer(e)},r.prototype.getPlayerLogger=function(e){return this._loggers[e]},e.exports=r},function(e,t,n){(function(t){"use strict";function r(){return document.createElement("video")}function i(e){return Math.ceil(1e3*e)}function o(e){return e/1e3}function a(e){u.call(this),this.id=e.id,this._createPlayer=e.createPlayer||r,this._resolver=e.resolver,this._player=null,this._emeManager=e.emeManager,this._tracker=m.create(),this._activeCodecs="",this._cache=new c(e.trackCacheSize||b),p.info("Setting ACMEPlayer track cache with to:",e.trackCacheSize||b),this._deferredTrackLoadTimer=null,this._lastLoadedTS=0,this._preloadingTracks={},this._playId=0,this._loaded=!1,this._stopped=!0,this._pauseToken=null,this._seekToken=null,this._session=e.session,this._canPreloadEmitted=!1,this._playerVolume=1,this.emitEvent=this.emitEvent.bind(this),this._onTimeUpdate=this._onTimeUpdate.bind(this),this._onDurationChange=this._onDurationChange.bind(this),this._onPlaying=this._onPlaying.bind(this),this._onPause=this._onPause.bind(this),this._onSeeking=this._onSeeking.bind(this),this._onEnded=this._onEnded.bind(this),this._onError=this._onError.bind(this),this._onRequiresDuration=this._onRequiresDuration.bind(this),this._tracker.addListeners({tracking_data_created:this.emitEvent,tracking_data_finalized:this.emitEvent,played_threshold_reached:this._onPlayedThresholdReached.bind(this)}),this._emeManager.addListeners({license_request_capped:this._onLicenseRequestCapped.bind(this),license_request_error:this._onLicenseRequestError.bind(this)}),this._init()}var s=n(20),u=n(19),l=n(12),c=n(220),p=n(49).forTag("playback.acme_player"),f=n(139),d=n(621),h=n(622),y=n(618),_=n(616),m=n(632),v=n(138),g=10,b=2;s(a,u),a.prototype._onLicenseRequestError=function(e){if(e.playId===this._playId){var t=this._acmeTrack;if(t){var n=e.error;n.shouldRefreshEndpoint&&t.getLicenseServer(!0).catch(function(){}),this._emitKeyError(n,!0,t.toLogJSON())}}},a.prototype._onLicenseRequestCapped=function(e){if(e.playId===this._playId){var t=this._acmeTrack;t&&(this.pause(),this.emit("capped"))}},a.create=function(e){return y.create({session:e.session}).then(function(t){return e.emeManager=t,new a(e)})},a.createWithOptions=function(e){return new l(function(t){t(new a(e))})},a.prototype._init=function(){this._buffer=_.create(null,this._tracker),this._buffer.on("append_error",this._onBufferError.bind(this));var e=this.emit.bind(this);this._buffer.addEvents({stalled:e,buffering_start:e,buffering_end:e})},a.prototype._onBufferError=function(e){this._emitNativeError(e.error,e.canPlayNext,e.track)},a.prototype._addPlayerEvents=function(e){e.addEventListener("timeupdate",this._onTimeUpdate),e.addEventListener("durationchange",this._onDurationChange),e.addEventListener("playing",this._onPlaying),e.addEventListener("pause",this._onPause),e.addEventListener("seeking",this._onSeeking),e.addEventListener("ended",this._onEnded),e.addEventListener("error",this._onError),e.addEventListener("__requiresduration",this._onRequiresDuration)},a.prototype._removePlayerEvents=function(e){e.removeEventListener("timeupdate",this._onTimeUpdate),e.removeEventListener("durationchange",this._onDurationChange),e.removeEventListener("playing",this._onPlaying),e.removeEventListener("pause",this._onPause),e.removeEventListener("seeking",this._onSeeking),e.removeEventListener("ended",this._onEnded),e.removeEventListener("error",this._onError),e.removeEventListener("__requiresduration",this._onRequiresDuration)},a.prototype._recreatePlayer=function(e,t){if(t!==this._playId)return p.info("Recreate player dropped: playId has changed."),l.resolve(!1);var n,r;e?(n=e.isProtected(),r=e.getPlayableCodecs()):(n=!0,r=[d.PROTECTED_CODEC]);var i=this._activeCodecs===r.join(""),o=this._player,a=!0;if(o){for(var s=0,u=r.length;s<u;s++)if("probably"!==o.canPlayType(r[s])){a=!1;break}if(i&&a&&o.withProtection)return p.info("Reusing old audio player with default protection."),l.resolve(!0);if(i&&o.withProtection===n)return p.info("Reusing old audio player with variable protection."),l.resolve(!0);this._removePlayerEvents(o),o.pause(),this._player=null}this._buffer.abortBuffering(),p.info("Creating new "+(e instanceof d?"audio":"video")+" player");var c=this._createPlayer();return c.loop=!1,c.preload="auto",c.volume=this._playerVolume,c.withProtection=n,this._player=c,this._addPlayerEvents(c),this._buffer.recreate(c,r),this._activeCodecs=r.join(""),l.resolve(!0)},a.prototype._onDurationChange=function(){var e=this._playId,t=function(){return e!==this._playId?void p.info("Duration changed drop: playId has changed."):void this.emit("duration_changed",{timestamp:Date.now(),position:i(this._player.currentTime),duration:i(this._player.duration)})}.bind(this);this._loaded?t():this.once("load",t)},a.prototype._onPlaying=function(){this._stopped=!1;var e=i(this._player.currentTime);this._tracker.trackPlaying(e);var t=this._acmeTrack;this.emit("playing",{timestamp:Date.now(),position:e,logData:t?t.getLogData():null})},a.prototype._onPause=function(){var e=i(this._player.currentTime);this._tracker.trackPaused(e),this._pauseToken=setTimeout(function(){this.emit("paused",{position:e,logData:this._acmeTrack?this._acmeTrack.getLogData():null})}.bind(this),10)},a.prototype._onSeeking=function(){this._buffer.abortBuffering(),this._onTimeUpdate()},a.prototype._onRequiresDuration=function(){this._acmeTrack&&this._acmeTrack.isProtected()&&(this._player.duration=this._acmeTrack.getCalculatedDuration())},a.prototype._onEnded=function(){this._stopped=!0,clearTimeout(this._pauseToken),this.emit("ended")},a.prototype._onError=function(){var e=this._player,n=e.error,r={},i=this._acmeTrack;i&&(r=i.toLogJSON(),r.src_url=e.src,i.clearCachedBuffers());var o=!0;if(n instanceof t.MediaError){var a=t.MediaError,s="";switch(n.code){case a.MEDIA_ERR_ABORTED:s="Media aborted.";break;case a.MEDIA_ERR_NETWORK:s="Network error.";break;case a.MEDIA_ERR_DECODE:s="Media decoding error.";break;case a.MEDIA_ERR_SRC_NOT_SUPPORTED:s="Media not supported.",o=!i.isProtected();break;default:s="Unknown error."}n=new Error(s),n.unrecoverable=!o}this._emitNativeError(n,o,r)},a.prototype._onPlayedThresholdReached=function(e){this._acmeTrack&&this.emit("played_threshold_reached",{played:e.played,threshold:e.threshold,position:i(this._player.currentTime)})},a.prototype._emitNativeError=function(e,t,n){p.error("Native Error",e),this.emit("error",{name:"PlatformError",track:n,error:e,canPlayNext:t,position:i(this._player.currentTime)})},a.prototype._emitKeyError=function(e,t,n){p.error("Key Error",e),this.emit("error",{name:"KeyError",track:n,error:e,canPlayNext:t,position:i(this._player.currentTime)})},a.prototype._emitStorageError=function(e,t){p.error("Storage Error",e),this.emit("error",{name:"StorageError",track:t,error:e,canPlayNext:e.canPlayNext,position:i(this._player.currentTime)})},a.prototype._loadACMETrack=function(e,t,n){var r=e.callback;if(t!==this._playId)return p.info("Load ACMETrack dropped: playId has changed."),l.resolve(!1);this._canPreloadEmitted=!1,this.once("load",function(){return t!==this._playId?(p.info("Load ACMETrack event dropped: playId has changed."),l.resolve(!1)):void(n instanceof h?r(this._player):r())}.bind(this));var o=n.getStepTimer();return o&&this.once("playing",function(){o.markStepFrom(v.HEAD_FRAGMENT_FETCHED,v.PLAYING)}),this._recreatePlayer(n,t).then(function(r){if(!r||t!==this._playId)return p.info("Load ACMETrack dropped after recreate: playId has changed."),l.resolve(!1);var o,a=this._player;o=a.withProtection&&!a.mediaKeys?this._emeManager.createMediaKeys(a).then(function(){return!0}).catch(function(e){e.unrecoverable=!0,this._emitNativeError(e,!1,null)}.bind(this)):l.resolve(!0);
var s=function(){return a.removeEventListener("loadedmetadata",s),t!==this._playId?l.resolve(!1):(this._loaded=!0,this.emit("first_bytes"),this._tracker.trackLoadDone(i(a.currentTime)),this.emit("load",{logData:n.getLogData()}),void this._buffer.dequeueUpdates())}.bind(this);return a.addEventListener("loadedmetadata",s),n instanceof h?o.then(function(){return this._loadVideoTrack(n,e,t)}.bind(this)):n.isProtected()?o.then(function(){this._loadProtectedTrack(n,e,t)}.bind(this)):this._loadUnprotectedTrack(n,e,t)}.bind(this))},a.prototype._loadVideoTrack=function(e,n,r){if(r!==this._playId)return p.info("Load ACMEVideoTrack dropped: playId has changed."),l.resolve(!1);var i=e.getStepTimer();i&&i.markStep(v.ACME_TRACK_CREATED);var o=this._player,a=n.position||0;o.autoplay=!1,this._acmeTrack=e,o.src=t.URL.createObjectURL(this._buffer.getMediaSource());var s;s=e.isProtected()?this._requestLicense(e,this._playId):l.resolve(!0);var u=function(){return r!==this._playId?l.resolve(!1):(o.currentTime=a,n.autoplay&&o.play(),p.info("Head segment appended."),o.spload&&o.spload(),!0)}.bind(this),c=this._buffer.appendFragment.bind(this._buffer,e);return s.then(function(){var t=e.getInitFragment();return e.getBufferForHeadFragment(t).then(function(e){return i&&i.markStepFrom(v.ACME_TRACK_CREATED,v.HEAD_FRAGMENT_FETCHED),e})}).then(c).then(function(){var t=e.getFragmentForTime(a);return e.getBufferForFragment(t)}).then(c).then(this._buffer.setDuration.bind(this._buffer,e.getCalculatedDuration())).then(u)},a.prototype._loadUnprotectedTrack=function(e,t,n){if(p.info("_loadUnprotectedTrack",e.getURI()),n!==this._playId)return p.info("Load unprotected track dropped: playId has changed."),l.resolve(!1);var r=this._player;if(this._acmeTrack=e,t.position){var i=function(){return n!==this._playId?(p.info("Unprotected track seeking dropped: playId has changed."),l.resolve(!1)):(r.currentTime=t.position,r.removeEventListener("canplay",i),void(t.autoplay&&!r.error&&r.play()))}.bind(this);r.addEventListener("canplay",i)}else r.autoplay=!!t.autoplay;return r.src=e.getResolvedURL(),r.load(),!0},a.prototype._loadProtectedTrack=function(e,n,r){if(r!==this._playId)return p.info("Load protected ACMETrack dropped: playId has changed."),l.resolve(!1);var i=e.getStepTimer();i&&i.markStep(v.ACME_TRACK_CREATED),p.info("_loadProtectedTrack",e.getURI()),this._acmeTrack=e;var o=this._player;o.autoplay=!1,o.src=t.URL.createObjectURL(this._buffer.getMediaSource());var a=n.position||0,s=function(){return r!==this._playId?l.resolve(!1):(o.currentTime=a,o.spload&&o.spload(),n.autoplay&&o.play(),p.info("Head segment appended."),!0)}.bind(this),u=e.getFirstFragment();if(a>=u.timeStart&&a<=u.timeEnd){var c,f=e.getHeadFragment(),d=function(e){return new l(function(t){this._buffer.tryUpdate({type:"append",playId:this._playId,buffer:e.buffer,fragment:e,resolve:t}),i&&i.markStepFrom(v.ACME_TRACK_CREATED,v.HEAD_FRAGMENT_FETCHED)}.bind(this))}.bind(this);return c=f?d(f):e.getBufferForHeadFragment().then(function(e){return r!==this._playId?(p.info("Load head fragment dropped: playId has changed."),l.resolve(!1)):d(e)}.bind(this)),this._requestLicense(e,r),c.then(s)}var h=e.getFragmentForTime(a);return l.all([this._buffer.appendFragment(e,e.getInitFragment()).then(s),h?this._buffer.appendFragment(e,h):l.resolve(!0),this._requestLicense(e,r)]).then(function(){return r===this._playId||l.resolve(!1)}.bind(this))},a.prototype._requestLicense=function(e,t){if(t!==this._playId){var n="Request license dropped: playId has changed.";return p.info(n),l.resolve(!1)}var r=Date.now(),i=this._player.mediaKeys;return e.getInitParams().then(function(e){return e.playId=t,e.mediaKeys=i,e}).then(this._emeManager.createSessionWithParams.bind(this._emeManager)).then(function(){if(t!==this._playId)return p.info("License tracking dropped: playId has changed."),l.resolve(!1);var n=Date.now()-r;return this._tracker.trackKeyLatency(n),this.emit("key",{requestTime:n,logData:e.getLogData()}),p.info("License updated."),l.resolve(!0)}.bind(this)).catch(function(n){return n&&t===this._playId?(this._emitKeyError(n,!0,e.toLogJSON()),l.reject(n)):l.resolve(!1)}.bind(this))},a.prototype._onTimeUpdate=function(){if(this._loaded){var e=this._player.seeking,t=this._player.currentTime,n=this._acmeTrack instanceof h;this._buffer.progress(this._acmeTrack,e,t,n);var r=i(t),o=this._acmeTrack?this._acmeTrack.getLogData():null;e?(this._tracker.trackPositionChanged(r,this._player.paused),this.emit("position_changed",{position:r,logData:o})):(this._tracker.trackProgress(r),this.emit("progress",{timestamp:Date.now(),position:r,interval:500,logData:o})),!this._canPreloadEmitted&&this._player.duration-t<=g?(this._canPreloadEmitted=!0,this.emit("can_preload")):this._canPreloadEmitted=!1}},a.prototype._isPlaying=function(){return!!this._player&&(!this._player.paused&&!this._stopped)},a.prototype.getId=function(){return this.id},a.prototype.getCodecInfo=function(){return{audiocodec:"mp3",bitrate:160}},a.prototype.getMediaSource=function(){return this._buffer.getMediaSource()},a.prototype.load=function(e,t,n){var r=t||{},i=e[r.uriProperty||"uri"];p.info("load",i);var a=e.fileId,s=e.format;if(!i)return l.reject(new Error("Cannot find a playable URI."));var u=e.logData;if(!u)return l.reject(Error("Invalid track: logging info not specified"));this.stop(e.logData);var c=this._acmeTrack,y=c?c.getStepTimer():null,_=!!c&&c.isProtected();y&&this.once("tracking_data_finalized",function(e){var t=e.data;y.sendLog({json_data:{session_id:this._session.getInitTime().toString(10),playback_id:t.playbackId,was_protected:_},json_data_version:"1.0.1"});var n=y.calculate();p.info("Step Timer",n.timer_name,n)}.bind(this)),this._tracker.trackLoadStart(i,a,u),this.emit("before_load",{logData:e.logData,uri:i,timestamp:Date.now()}),this._loaded=!1,this._acmeTrack=null;var m=++this._playId;this._buffer.setPlayId(m);var v={position:o(r.position||0),autoplay:!("autoplay"in r)||r.autoplay,callback:n||function(){}};this._tracker.trackPlayIntended(v.autoplay);var g,b=this._emeManager,E=this._cache,S=this._session,T=this._resolver,w=function(){return b.getKeySystemInfo().then(function(t){return d.create({keySystem:t.keySystem,session:S,resolver:T,uri:i,fileId:a,format:s,resolvedURL:e.resolvedURL,licenseFetcher:e.licenseFetcher,logData:u,preload:!1})}).then(function(e){return e.isProtected()&&a&&E.set(a,e),e})},C=function(){return h.create({fileId:a,session:S}).then(function(e){return e.isProtected()&&a&&E.set(a,e),e})},O=r.videoTrack?C:w,k=this._preloadingTracks[a],R=E.get(a);return k?(p.info("Waiting for preloading track.",a),g=k.then(function(){return p.info("Preloading succeeded.",a),E.get(a)},function(){return p.info("Preloading failed, creating new track",a),O()})):R?(p.info("Using cached track.",a,R),g=R.resolve(!1).then(function(){return O()})):(p.info("Creating new track",a),g=O()),g.then(function(t){return t.setLogData(u).setStepTimer(e.stepTimer)}).then(this._loadACMETrack.bind(this,v,m)).catch(function(e){if(m!==this._playId)return l.resolve(!1);if(this._tracker.trackLoadFailed(),this.emit("loading_failed",{uri:i,logData:u}),e){var t=e.track||{uri:i,fileId:a,format:s,deviceId:u.deviceId};e instanceof f?this._emitStorageError(e,t):this._emitNativeError(e,!0,t)}return l.reject(e)}.bind(this))},a.prototype.preload=function(e,t){var n=e.playableURI,r=e.format;if("MP4"!==r)return l.resolve(!1);if(!t){var i=e.fileId,o=this._cache;if(o.get(i))return l.resolve(!1);var a=this._preloadingTracks;if(a[i])return a[i];p.info("Preloading track",i);var s=this._emeManager.getKeySystemInfo().then(function(t){return d.create({keySystem:t.keySystem,session:this._session,resolver:this._resolver,uri:n,fileId:i,format:e.format,resolvedURL:e.resolvedURL,licenseFetcher:e.licenseFetcher,logData:e.logData,preload:!0})}.bind(this)).then(function(e){return l.all([e,e.getBufferForHeadFragment()])}).spread(function(e){return o.set(i,e),a[i]=null,p.info("Cached",i),!0}).catch(function(e){a[i]=null;var t=e instanceof f?"storageError":"platformError";return this.emit("preloading_error",{name:t,track:e.track||null,error:e,canPlayNext:!("canPlayNext"in e)||e.canPlayNext,preloading:!0}),l.reject(e)}.bind(this));return a[i]=s,s}},a.prototype.togglePlay=function(){this._isPlaying()?this.pause():this.resume()},a.prototype.setVolume=function(e){if(e<0||e>1)throw new Error("Volume should be in range [0, 1]");this._playerVolume=e,this._player&&(this._player.volume=e)},a.prototype.getVolume=function(){return this._playerVolume},a.prototype.getPlayerState=function(){var e=this._player;return{playing:this._isPlaying(),position:e?i(e.currentTime):0,duration:e?i(e.duration):0,volume:e?e.volume:1}},a.prototype.seek=function(e){var t=this._player;if(t){var n=this._playId,r=function(){if(n!==this._playId)return void p.info("Seek dropped: playId has changed.");var r=o(e);r<0?r=0:r>=t.duration-1&&(r=t.duration-1),t.currentTime=r}.bind(this);this._loaded?r():this.once("load",r)}},a.prototype.pause=function(){this._player&&this._isPlaying()&&this._player.pause()},a.prototype.resume=function(){this._player&&!this._isPlaying()&&this._player.play()},a.prototype._assumeStopped=function(e){var t=e||{};this._tracker.trackStopped(e),this.emit("before_stop",{timestamp:Date.now(),logData:t}),this._stopped||(this._stopped=!0,this.emit("stopped"))},a.prototype.stop=function(e){this._assumeStopped(e),this._player&&this._player.removeAttribute("src"),this._buffer.clear()},e.exports=a}).call(t,function(){return this}())},function(e,t,n){"use strict";function r(){this._segments=[],this._needsEndSegment=!1,this._isFinalized=!1,this.lastPlayRequestTime=0,this.lastPlayStartTime=0,this.currentTrackUri=i.EMPTY,this.msPlayLatency=0,this.position=0,this.maxContinuous=0,this.msPlayed=0,this.msPlayedUnion=0,this.nSeeksForward=0,this.nSeeksBackward=0,this.msSeeksForward=0,this.msSeeksBackward=0,this.fileId="",this.displayTrack=i.EMPTY,this.playContext=i.EMPTY,this.sourceStart=i.UNKNOWN,this.sourceEnd=i.UNKNOWN,this.reasonStart=i.UNKNOWN,this.reasonEnd=i.UNKNOWN,this.referrer=i.UNKNOWN,this.referrerVersion=i.UNKNOWN,this.referrerVendor=i.UNKNOWN,this.gaiaDevId="none",this.msKeyLatency=0,this.nStutter=0,this.bitrate=16e4,this.audiocodec="mp3",this.streamingRule="none",this.playbackId="",this.nextPlaybackId="",this.noLog=!1,this.playIntended=!1,this.played=!1}var i=n(140).DataValue;r.create=function(){return new r},r.prototype._calculateUnion=function(){for(var e=this._segments.slice(0),t=0,n=0,r=0,i=0,o=0,a=0,s=this.maxContinuous;o<e.length;o++)o%2!==0&&"undefined"!=typeof e[o-1]&&"start"===e[o-1].type&&(a=e[o].time-e[o-1].time,s=a>s?a:s);for(this.maxContinuous=s,e.sort(function(e,t){return e.time-t.time});i<e.length;i++)"start"===e[i].type&&(0===n&&(r=i),++n),"end"===e[i].type&&(--n,0===n&&(t+=e[i].time-e[r].time));return t},r.prototype.addStartSegment=function(){this._segments.push({type:"start",time:this.position}),this._needsEndSegment=!0},r.prototype.addEndSegment=function(){this._needsEndSegment&&(this._segments.push({type:"end",time:this.position}),this._needsEndSegment=!1)},r.prototype.addMSPlayed=function(e){e&&(this.msPlayed+=e)},r.prototype.finalize=function(){if(this._isFinalized)throw new Error("TrackData already finalized.");return this.msPlayedUnion=this._calculateUnion(),this.nSeeksBackward||this.nSeeksForward||(this.msPlayed=this.maxContinuous=this.msPlayedUnion),this._isFinalized=!0,!0},r.prototype.isFinalized=function(){return this._isFinalized},e.exports=r},function(e,t){"use strict";function n(e){Error.call(this,e),this.message=e}n.prototype=new Error,n.prototype.constructor=n,n.prototype.name="CappingError",e.exports=n},function(e,t){"use strict";function n(e,t){Error.call(this,e),this.message=e,this.shouldRefreshEndpoint=!!t}n.prototype=new Error,n.prototype.constructor=n,n.prototype.name="EMEError",e.exports=n},function(e,t,n){"use strict";function r(e){var t=e||{};if(!t.trackPlayer)throw new TypeError("Argument `options.trackPlayerManager` not found.");this._trackPlayerPromise=a.defer(),this._uid=0,this._loadedList=null,this._loadedOptions=null,this._currentTrack=null,this._currentTrackOptions=null,this._listPlayCount=0,this._shuffled=!1,this._repeatMode=l.NONE,this._currentSeqId=0,this._setListOptions=this._setListOptions.bind(this),this._replaceCurrentList=this._replaceCurrentList.bind(this),this._handleCapped=this._handleCapped.bind(this),this._handlePlaying=this._handlePlaying.bind(this),this._handlePaused=this._handlePaused.bind(this),this._handleEnded=this._handleEnded.bind(this),this._handleCanPreload=this._handleCanPreload.bind(this),this._handleError=this._handleError.bind(this),this._handlePositionChanged=this._handlePositionChanged.bind(this),this._handleDurationChanged=this._handleDurationChanged.bind(this),this._handleTimeout=this._handleTimeout.bind(this),this._handlePlayedThresholdReached=this._handlePlayedThresholdReached.bind(this),this._handleTrackingData=this._handleTrackingData.bind(this),this._init(t.trackPlayer)}var i=n(20),o=n(19),a=n(12),s=n(140),u=s.OperationResult,l=s.RepeatMode,c=s.ListConstants,p=s.Reason,f=n(630),d=n(138),h=9007199254740991;i(r,o),r.create=function(e){return new r(e)},r.prototype._init=function(e){this._trackPlayerPromise.promise.catch(function(){}),a.resolve(e).then(function(e){this._attachPlayerEvents(e),this._trackPlayerPromise.resolve(e)}.bind(this)).catch(this._handlePlayerInitError.bind(this))},r.prototype._attachPlayerEvents=function(e){e.addListeners({capped:this._handleCapped,playing:this._handlePlaying,paused:this._handlePaused,can_preload:this._handleCanPreload,ended:this._handleEnded,error:this._handleError,timeout:this._handleTimeout,position_changed:this._handlePositionChanged,duration_changed:this._handleDurationChanged,progress:this.emitEvent.bind(this),buffering_start:this.emitEvent.bind(this),buffering_end:this.emitEvent.bind(this),played_threshold_reached:this._handlePlayedThresholdReached,tracking_data_created:this._handleTrackingData,tracking_data_finalized:this._handleTrackingData})},r.prototype._handlePlayerInitError=function(e){this._trackPlayerPromise.reject(u.NO_TRACK_PLAYER),this.emit("error",{name:"PlayerInitError",error:e})},r.prototype._handleCapped=function(){var e=this._currentTrack;e&&this.emit("capped",{uid:this._uid,track:e,options:this._currentTrackOptions,list:this._loadedList})},r.prototype._handlePlaying=function(e){var t=this._currentTrack;t&&this.emit("playing",{uid:this._uid,track:t,options:this._currentTrackOptions,list:this._loadedList,position:e.position})},r.prototype._handlePaused=function(e){var t=this._currentTrack;t&&this.emit("paused",{uid:this._uid,track:t,options:this._currentTrackOptions,list:this._loadedList,position:e.position})},r.prototype._handleCanPreload=function(){this._preloadUpcomingTrack()},r.prototype._handleEnded=function(){var e=this._currentTrack;e&&(this.emit("track_ended",{uid:this._uid,track:e,options:this._currentTrackOptions,list:this._loadedList}),this.next(p.TRACK_DONE))},r.prototype._handleTimeout=function(){var e=this._currentTrack;e&&(this.emit("track_timeout",{uid:this._uid,track:e,options:this._currentTrackOptions,list:this._loadedList}),this.next(p.TRACK_ERROR))},r.prototype._handlePositionChanged=function(e){var t=this._currentTrack;t&&this.emit("position_changed",{uid:this._uid,track:t,options:this._currentTrackOptions,list:this._loadedList,position:e.position})},r.prototype._handleDurationChanged=function(e){var t=this._currentTrack;t&&this.emit("duration_changed",{uid:this._uid,track:t,options:this._currentTrackOptions,list:this._loadedList,position:e.position,duration:e.duration})},r.prototype._handlePlayedThresholdReached=function(e){var t=this._currentTrack;t&&this.emit("played_threshold_reached",{uid:this._uid,track:t,options:this._currentTrackOptions,list:this._loadedList,total:e.total,threshold:e.threshold,position:e.position})},r.prototype._handleTrackingData=function(e){this.emit(e.type)},r.prototype._handleError=function(e){var t=this._currentTrack;if(t)return this.emitEvent(e),this.emitSync("error_sync",e),e.canPlayNext?void this.next(p.TRACK_ERROR):void 0},r.prototype._handleTrackLoaded=function(e){this.emitSync("track_loaded",e)},r.prototype._incrementSeqId=function(){return this._currentSeqId>=h?this._currentSeqId=0:this._currentSeqId+=1,this._currentSeqId},r.prototype._getTrackPlayer=function(){return this._trackPlayerPromise.promise},r.prototype._setListIndex=function(e,t){var n=t.index&&t.index!==-1?t.index:0;return a.all([e,t,e.startAt(n)])},r.prototype._setListOptions=function(e,t){return a.all([e.setShuffle(!!this._shuffled),e.setRepeatMode(this._repeatMode)]).then(function(){return[e,t]})},r.prototype._replaceCurrentList=function(e,t){return this.emitSync("before_list_change",{newList:e,newOptions:t,oldList:this._loadedList,oldOptions:this._loadedOptions}),this._loadedList=e,this._loadedOptions=t,this._listPlayCount=0,this.emit("list_change",{list:e,options:t}),t.stepTimer&&t.stepTimer.markStep(d.CONTEXT_LOADED),u.SUCCESS},r.prototype._preloadTrack=function(e){return this._getTrackPlayer().then(function(t){return t.preload(e),u.SUCCESS})},r.prototype._changeTrack=function(e,t,n){if(this._currentSeqId!==n)return u.CANCELLED;this.emitSync("before_track_load",{list:this._loadedList,newTrack:e,oldTrack:this._currentTrack}),this._uid++;var r=++this._listPlayCount,i=this._loadedOptions,o=!0,s=0;1===r?(o=!i.paused,s=i.initialPosition||i.position||0):s=i.position||0;var l=t===p.TRACK_DONE;if("options"in e){var c=e.options;"paused"in c&&(o=!c.paused),"position"in c&&(s=c.position)}this._currentTrack=e,this._currentTrackOptions={reason:t,paused:!o,position:s};var f=this._handleTrackLoaded.bind(this,{uid:this._uid,track:this._currentTrack,options:this._currentTrackOptions,list:this._loadedList});return this._getTrackPlayer().then(function(t){return this._currentSeqId!==n?u.CANCELLED:(a.resolve(t.load(e,{uriProperty:"playableURI",autoplay:o,position:s,continuePrevious:l},f)).catch(function(){}),u.SUCCESS)}.bind(this))},r.prototype.load=function(e,t){var n=t||this._loadedOptions||{},r=f.create(n);return this._setListIndex(e,r).spread(this._setListOptions).spread(this._replaceCurrentList)},r.prototype.play=function(e,t){var n=this;return this.load(e,t).then(function(){return n._loadedList!==e?u.CANCELLED:n.next(n._loadedOptions.reason)})},r.prototype.canChangeTrack=function(){return this._loadedList?this._loadedList.peekNext({reason:p.FORWARD_BUTTON,listConstants:c}).then(function(e){return e!==c.FORBIDDEN}):a.resolve(!0)},r.prototype._preloadUpcomingTrack=function(){var e=this._loadedList;if(!e)return a.reject(u.NO_LIST);var t={reason:p.TRACK_DONE,listConstants:c};return e.peekNext(t).then(function(e){return e===c.FORBIDDEN?u.FORBIDDEN:e===c.NULL_VALUE?this._preloadUpcomingTrack():e===c.LIST_END?u.LIST_END:e.playable?this._preloadTrack(e):u.INVALID}.bind(this))},r.prototype.next=function(e){if(!e)return a.reject(u.INVALID);var t=this._loadedList;if(!t)return a.reject(u.NO_LIST);this.emitSync("before_next",{list:t,reason:e});var n=this._incrementSeqId(),r={reason:e,listConstants:c};return t.next(r).then(function(r){return this._currentSeqId!==n?u.CANCELLED:r===c.FORBIDDEN?u.FORBIDDEN:r===c.NULL_VALUE?this.next(e):r===c.LIST_END?(this.emit("list_ended",{list:t,reason:p.END_PLAY}),this.clear(e),u.LIST_END):r.playable?(r.stepTimer&&r.stepTimer.markStep(d.NEXT_TRACK_RESOLVED),this._changeTrack(r,e,n)):(this.emit("track_unplayable",{track:r,list:t}),this.next(e))}.bind(this))},r.prototype.previous=function(e){if(!e)return a.reject(u.INVALID);var t=this._loadedList;if(!t)return a.reject(u.NO_LIST);this.emitSync("before_previous",{list:t,reason:e});var n=this._incrementSeqId(),r={reason:e,listConstants:c};return t.previous(r).then(function(r){return this._currentSeqId!==n?u.CANCELLED:r===c.FORBIDDEN?u.FORBIDDEN:r===c.NULL_VALUE?this.previous(e):r===c.LIST_START?(this.emit("list_ended",{list:t,reason:p.END_PLAY}),this.clear(e),u.LIST_END):r.playable?this._changeTrack(r,e,n):(this.emit("track_unplayable",{track:r,list:t}),this.previous(e))}.bind(this))},r.prototype.pause=function(){return this._loadedList?this._currentTrack?this._getTrackPlayer().then(function(e){return e.pause(),u.SUCCESS}):a.resolve(u.SUCCESS):a.reject(u.NO_LIST)},r.prototype.resume=function(){return this._loadedList?this._currentTrack?this._getTrackPlayer().then(function(e){return e.resume(),u.SUCCESS}):a.resolve(u.SUCCESS):a.reject(u.NO_LIST)},r.prototype.togglePlay=function(){return this._loadedList?this._currentTrack?this._getTrackPlayer().then(function(e){return e.togglePlay(),u.SUCCESS}):a.resolve(u.SUCCESS):a.reject(u.NO_LIST)},r.prototype.stop=function(e){var t={reason:e||"unknown"},n=this._currentTrack;return n&&n.logData&&(t.source=n.logData.source),this._incrementSeqId(),this._getTrackPlayer().then(function(e){return e.stop(t),this.emit("stopped",{uid:this._uid,options:this._currentTrackOptions,list:this._loadedList}),u.SUCCESS}.bind(this))},r.prototype.clear=function(e){return this.stop(e).then(function(){return this._loadedList=null,this._loadedOptions=null,this._currentTrack=null,this._currentTrackOptions=null,this.emit("cleared"),u.SUCCESS}.bind(this))},r.prototype.setShuffle=function(e){var t=!!e;if(this._shuffled!==t){this._shuffled=t,this.emit("shuffle_changed",{player:this,shuffled:t});var n=this._loadedList;n&&n.setShuffle(this._shuffled)}return a.resolve(u.SUCCESS)},r.prototype.setRepeatMode=function(e){if(!(e in l))return a.reject(u.INVALID);if(this._repeatMode!==e){this._repeatMode=e,this.emit("repeat_mode_changed",{player:this,repeatMode:e});var t=this._loadedList;t&&t.setRepeatMode(this._repeatMode)}return a.resolve(u.SUCCESS)},r.prototype.getVolume=function(){return this._getTrackPlayer().then(function(e){return e.getVolume()})},r.prototype.setVolume=function(e,t){return this._getTrackPlayer().then(function(n){return n.setVolume(e),this.emit("volume_changed",{volume:e,commandId:t||null}),u.SUCCESS}.bind(this))},r.prototype.seek=function(e){var t=this._loadedList;return t?"function"!=typeof t.allowSeeking||t.allowSeeking()?this._currentTrack?this._getTrackPlayer().then(function(t){return t.seek(e),u.SUCCESS}):a.resolve(u.SUCCESS):a.reject(u.FORBIDDEN):a.reject(u.NO_LIST)},r.prototype.getListConstants=function(){return c},r.prototype.getLoadedList=function(){return this._loadedList},r.prototype.getLoadedOptions=function(){return this._loadedOptions},r.prototype.getPlayerState=function(){return this._getTrackPlayer().then(function(e){return e.getPlayerState()})},e.exports=r},function(e,t){"use strict";function n(e){if(!(this instanceof n))return new n(e);var t=e||{};this.index="index"in t?t.index:-1,this.position="position"in t?t.position:0,this.initialPosition="initialPosition"in t?t.initialPosition:0,this.duration="duration"in t?t.duration:-1,this.paused="paused"in t&&t.paused,this.reason=t.reason||"unknown",this.stepTimer=t.stepTimer}n.create=function(e){return e instanceof n?e:new n(e)},e.exports=n},function(e,t,n){"use strict";function r(e,t){this._session=e,this._protocol=t||"http"}var i=n(12),o=n(139),a="https://seektables.scdn.co/seektable",s="https://s3-eu-west-1.amazonaws.com/kaffe.spotify/assets";r.prototype._parseResponse=function(e,t){if(200!==t.status)return i.reject(new o("Storage Resolve responded with "+t.status));var n=t.body;if(!n||!n.cdnurl||!n.cdnurl.length)return i.reject(new TypeError("Storage Resolve returned no tracks for fileId "+e));var r={uri:n.cdnurl[0],uris:n.cdnurl,protocol:"http",protection:"cenc",manifest:a+"/"+e+".json"};return r},r.prototype.getCDNURL=function(e,t,n){var r=["http://@webgate/storage-resolve/files/audio/interactive/",t,"?version=10000000&product=9&platform=39&alt=json"].join("");return this._session.request(r,{responseType:"json",shouldRetry:function(e,t){return e.getStatusFamily()!==t.SUCCESS}}).then(this._parseResponse.bind(this,t)).then(function(e){return"com.microsoft.playready"===n&&(e.uris=[s+"/frag-audio.mp4"]),e})},r.prototype.getManifest=function(e,t){var n=a+"/"+e+".json";return"com.microsoft.playready"===t&&(n=s+"/seektable.json"),this._session.request(n,{responseType:"json",shouldRetry:function(e,t){return e.getStatusFamily()!==t.SUCCESS}}).then(function(e){return 200!==e.status?i.reject(new o("Track manifest request failed with status code "+e.status)):e.body})},e.exports=r},function(e,t,n){"use strict";function r(e){var t=e||{};this._playedThreshold=t.playedThreshold||l,this._playedThresholdReached=!1,this._trackingData=null,this._totalStreamTime=0}var i=n(20),o=n(19),a=n(626),s=n(140).DataValue,u=n(49).forTag("playback.tracker"),l=31e3;i(r,o),r.create=function(e){return new r(e)},r.prototype._checkPlayedThreshold=function(){var e=this._trackingData;!e||this._playedThresholdReached||e.msPlayed<this._playedThreshold||(this._playedThresholdReached=!0,this.emit("played_threshold_reached",{played:e.msPlayed,threshold:this._playedThreshold}))},r.prototype.trackLoadStart=function(e,t,n){var r=a.create();this._trackingData=r,this._playedThresholdReached=!1,r.fileId=t,r.currentTrackUri=e,r.lastPlayRequestTime=Date.now(),r.displayTrack=n.displayTrack||s.EMPTY,r.playContext=n.playContext||s.EMPTY,r.reasonStart=n.reason||s.UNKNOWN,r.sourceStart=n.source||s.UNKNOWN;var i=n.referrer||{};r.referrer=i.name||s.UNKNOWN,r.referrerVersion=i.version||s.UNKNOWN,r.referrerVendor=i.vendor||s.UNKNOWN;var o=n.format||{};o.codec&&(r.audiocodec=o.codec),o.bitrate&&(r.bitrate=o.bitrate),r.gaiaDevId=n.deviceId||"none",r.playbackId=n.playbackId||null,r.noLog="noLog"in n&&n.noLog,this.emit("tracking_data_created",{data:r})},r.prototype.trackLoadDone=function(e){var t=this._trackingData;if(t){var n=Date.now();t.msPlayLatency=n-t.lastPlayRequestTime,t.lastPlayStartTime=n,t.position=e,t.addStartSegment()}},r.prototype.trackPlayIntended=function(e){this._trackingData.playIntended=!!e},r.prototype.trackLoadFailed=function(){var e=this._trackingData;e&&(e.msPlayLatency=Date.now()-e.lastPlayRequestTime,e.position=0,e.addStartSegment())},r.prototype.trackStutter=function(){var e=this._trackingData;e&&e.nStutter++},r.prototype.trackStopped=function(e){var t=this._trackingData;t&&!t.isFinalized()&&(t.lastPlayStartTime&&(t.addMSPlayed(Date.now()-t.lastPlayStartTime),this._checkPlayedThreshold()),t.addEndSegment(),t.sourceEnd=e.source||s.UNKNOWN,t.reasonEnd=e.reason||s.UNKNOWN,t.nextPlaybackId=e.playbackId||s.EMPTY,t.finalize(),this._totalStreamTime+=t.msPlayed,u.info("Tracker data finalized.",t),this.emit("tracking_data_finalized",{data:t}))},r.prototype.trackPositionChanged=function(e,t){var n=this._trackingData;if(n){var r=n.position;e!==r&&(n.addEndSegment(),e>r?(n.nSeeksForward++,n.msSeeksForward+=e-r):e<r&&(n.nSeeksBackward++,n.msSeeksBackward+=r-e),t||(n.lastPlayStartTime=Date.now()),n.position=e,n.addStartSegment())}},r.prototype.trackKeyLatency=function(e){var t=this._trackingData;t&&(t.msKeyLatency=e)},r.prototype.trackPlaying=function(e){var t=this._trackingData;t&&(t.played=!0,t.lastPlayStartTime=Date.now(),t.position=e)},r.prototype.trackPaused=function(e){var t=this._trackingData;t&&(t.lastPlayStartTime=0,t.position=e)},r.prototype.trackProgress=function(e){var t=this._trackingData;if(t){var n=Date.now(),r=0;t.lastPlayStartTime&&(r=n-t.lastPlayStartTime),t.lastPlayStartTime=n,t.addMSPlayed(r),this._checkPlayedThreshold(),t.position=e}},e.exports=r},function(e,t,n){"use strict";function r(e){if(this._session=e.session,this._baseUrl=null,this._segmentTemplate=null,this._initTemplate=null,this._fallbackUrls=[],this._logData=null,this._licenseFetcher=e.licenseFetcher,!this._session)throw new Error("No session!")}var i=n(12),o=n(139);r.create=function(e){return new r(e)},r.prototype.getInitSegmentUrl=function(e){var t=this._initTemplate.replace("{{profile_id}}",e.id).replace("{{file_type}}",e.file_type);return this._baseUrl+t},r.prototype.getSegmentUrl=function(e,t){var n=this._segmentTemplate.replace("{{profile_id}}",t.id).replace("{{segment_timestamp}}",e).replace("{{file_type}}",t.file_type);return this._baseUrl+n},r.prototype._constructManifestUrl=function(e){return i.resolve(["https://@webgate/manifests/v3/json/sources/",e,"/options/partner=spotify-employee-premium+supports_drm"].join(""))},r.prototype.getManifest=function(e){return this._constructManifestUrl(e).then(function(e){return this._session.request(e,{authorize:!0,responseType:"json",shouldRetry:function(e,t){return e.getStatusFamily()!==t.SUCCESS}}).then(function(e){if(200!==e.status)return i.reject(new o("Video manifest request failed with status code "+e.status));var t=e.body;return this._baseUrl=t.base_urls.shift(),this._fallbackUrls=t.base_urls,this._initTemplate=t.initialization_template,this._segmentTemplate=t.segment_template,t}.bind(this))}.bind(this))},e.exports=r},function(e,t,n){"use strict";function r(e){o.call(this),this._descriptor=e.descriptor,this._session=e.session,this._endpoint=e.endpoint||s,this._connectionId=null,this._localDeviceId=null,this._lastActiveDevice=null,this._lastKnownPlayerState=null,this._awaitingAcknowledgment={},this._deferLocalConnectionId=a.defer(),this._acknowledgementMaps=[],this._awaitResponseWithAck=this._awaitResponseWithAck.bind(this),this._init()}var i=n(20),o=n(19),a=n(12),s="https://@webgate/connect-api",u=/connect-api\/v2\/state\/subscriptions$/,l="@local",c=65535;i(r,o),r.create=function(e){return new r(e)},r.prototype._init=function(){this._session.addListeners({connection_id:this._onConnectionId.bind(this)}),this._session.matchDealerMessages(u,this._onPlayerAPIMessage.bind(this))},r.prototype._sendRequest=function(e,t,n){var r=this._acknowledgementMaps,i={};r.push(i);var o=function(){var e=r.indexOf(i);e!==-1&&r.splice(e,1)};return this._session.request(t,{method:e,payload:n?JSON.stringify(n):void 0,responseType:"json",shouldRetry:function(e,t){return 202===e.status||e.getStatusFamily()===t.SERVER_ERROR}}).then(function(e){return e.map=i,o(),e},function(e){return o(),a.reject(e)})},r.prototype._awaitResponseWithAck=function(e){if(200===e.status&&e.body&&e.body.ack_id){var t=e.body.ack_id;if(e.map&&e.map[t])return a.resolve(!0);var n=a.defer();return this._awaitingAcknowledgment[t]=n,n.promise}return a.resolve(200===e.status)},r.prototype._register=function(){return this._sendRequest("POST",this._endpoint+"/v2/state/subscriptions",{connection_id:this._connectionId,enable_discovery:!1,name:this._localDeviceId}).then(function(e){return 429===e.status?void this.emit("max_subscriptions_reached",{service:"connect-api"}):void(200===e.status&&(this.emit("registered"),this._getInitialState()))}.bind(this))},r.prototype._onConnectionId=function(e){this._connectionId=e.id,a.resolve(this._descriptor).then(function(e){this._localDeviceId=e.id,this._deferLocalConnectionId.resolve(),this._register()}.bind(this))},r.prototype._onPlayerAPIMessage=function(e){var t=e.payloads[0];if(t&&(t.player_state&&this._parseState(t),t.device_state&&(t.device_state.is_active=!0,this._parseDeviceState(t)),t.ack&&t.ack.id)){var n=t.ack.id,r=this._awaitingAcknowledgment[n];if(r)r.resolve(!0);else for(var i=this._acknowledgementMaps,o=0,a=i.length;o<a;o++)i[o][n]=1}},r.prototype._getInitialState=function(){return this._sendRequest("GET",this._endpoint+"/v2/state").then(function(e){if(200!==e.status||!e.body)return null;var t=e.body;return this._parseDeviceState(t),this._parseState(t),null}.bind(this))},r.prototype._parseState=function(e){e.player_state&&e.player_state.timestamp&&(this._lastKnownPlayerState=e.player_state,this.emit("player_state_changed",{playerState:e.player_state}))},r.prototype._parseDeviceState=function(e){if(e.device_state){var t=this._lastActiveDevice,n=this._formatDevice(e.device_state);this._lastActiveDevice=n,t&&t.id===n.id&&t.name===n.name&&t.type===n.type&&t.volume===n.volume||this.emit("device_state_changed",{deviceState:n})}},r.prototype._makeEndpoint=function(e,t,n){return this._deferLocalConnectionId.promise.then(function(){var r=this._localDeviceId,i=n;if(!i){var o=this._lastActiveDevice&&this._lastActiveDevice.id;
if(!o)return a.reject(new Error("No active device."));i=o}return i===l&&(i=r),a.resolve([this._endpoint,e,"from",r,"device",i,t].join("/"))}.bind(this))},r.prototype._parseDevices=function(e){for(var t=[],n=0,r=e.length;n<r;n++){var i=e[n];"splayer"!==i.id&&t.push(this._formatDevice(i))}return t},r.prototype._formatDevice=function(e){return e.type=e.type.toLowerCase(),e.local=e.id===this._localDeviceId,e.volume=null!==e.volume?e.volume/c:-1,e.metadata=e.metadata||{},e},r.prototype.deregister=function(){return this._sendRequest("DELETE",this._endpoint+"/v2/state/subscriptions",{connection_id:this._connectionId}).then(function(e){this._deferLocalConnectionId=a.defer(),200===e.status&&this.emit("deregistered")}.bind(this))},r.prototype.getDevices=function(){return this._sendRequest("GET",this._endpoint+"/v2/devices").then(function(e){return 200===e.status&&e.body&&e.body.length?this._parseDevices(e.body):[]}.bind(this))},r.prototype.getActiveDevice=function(){if(this._lastActiveDevice)return a.resolve(this._lastActiveDevice);var e=a.defer();return this.once("device_state_changed",function(t){e.resolve(t.deviceState)}),e.promise},r.prototype.getContextPlayerState=function(){if(this._lastKnownPlayerState)return a.resolve(this._lastKnownPlayerState);var e=a.defer();return this.once("player_state_changed",function(t){e.resolve(t.playerState)}),e.promise},r.prototype.play=function(e,t){return this._makeEndpoint("v2","play",t).then(function(t){return this._sendRequest("POST",t,e)}.bind(this)).then(this._awaitResponseWithAck)},r.prototype.setQueue=function(e,t){return this._makeEndpoint("v2","set_queue",t).then(function(t){return this._sendRequest("POST",t,e)}.bind(this)).then(this._awaitResponseWithAck)},r.prototype.togglePlay=function(e){return this.getContextPlayerState().then(function(t){return t.is_paused?this.resume(e):this.pause(e)}.bind(this))},r.prototype.transfer=function(e,t){return this._makeEndpoint("v2","transfer",e||"@local").then(function(e){return this._sendRequest("POST",e,t||{})}.bind(this)).then(this._awaitResponseWithAck)},r.prototype.pause=function(e){return this._makeEndpoint("v2","pause",e).then(function(e){return this._sendRequest("POST",e)}.bind(this)).then(this._awaitResponseWithAck)},r.prototype.resume=function(e){return this._makeEndpoint("v2","resume",e).then(function(e){return this._sendRequest("POST",e)}.bind(this)).then(this._awaitResponseWithAck)},r.prototype.nextTrack=function(e){return this._makeEndpoint("v2","skip_next",e).then(function(e){return this._sendRequest("POST",e)}.bind(this)).then(this._awaitResponseWithAck)},r.prototype.previousTrack=function(e){return this._makeEndpoint("v2","skip_prev",e).then(function(e){return this._sendRequest("POST",e)}.bind(this)).then(this._awaitResponseWithAck)},r.prototype.seek=function(e,t){return isNaN(e)||e<0?a.reject(new TypeError("Invalid position.")):this._makeEndpoint("v2","seek_to",t).then(function(t){return this._sendRequest("POST",t,{value:e})}.bind(this)).then(this._awaitResponseWithAck)},r.prototype.setShuffle=function(e,t){return this._makeEndpoint("v2","set_shuffling_context",t).then(function(t){return this._sendRequest("POST",t,{value:!!e})}.bind(this)).then(this._awaitResponseWithAck)},r.prototype.setRepeatingContext=function(e,t){return this._makeEndpoint("v2","set_repeating_context",t).then(function(t){return this._sendRequest("POST",t,{value:e})}.bind(this)).then(this._awaitResponseWithAck)},r.prototype.setRepeatingTrack=function(e,t){return this._makeEndpoint("v2","set_repeating_track",t).then(function(t){return this._sendRequest("POST",t,{value:e})}.bind(this)).then(function(e){return 200===e.status})},r.prototype.setVolume=function(e,t){if(isNaN(e)||e<0)return a.reject(new TypeError("Invalid volume."));var n=e*c;return this._makeEndpoint("v2","volume",t).then(function(e){return this._sendRequest("POST",e,{volume:n})}.bind(this)).then(this._awaitResponseWithAck)},e.exports=r},function(e,t,n){var r;(function(e,i,o){(function(){"use strict";function a(e){return"function"==typeof e||"object"==typeof e&&null!==e}function s(e){return"function"==typeof e}function u(e){return"object"==typeof e&&null!==e}function l(e){Y=e}function c(e){J=e}function p(){return function(){e.nextTick(_)}}function f(){return function(){Q(_)}}function d(){var e=0,t=new ee(_),n=document.createTextNode("");return t.observe(n,{characterData:!0}),function(){n.data=e=++e%2}}function h(){var e=new MessageChannel;return e.port1.onmessage=_,function(){e.port2.postMessage(0)}}function y(){return function(){setTimeout(_,1)}}function _(){for(var e=0;e<X;e+=2){var t=re[e],n=re[e+1];t(n),re[e]=void 0,re[e+1]=void 0}X=0}function m(){try{var e=n(659);return Q=e.runOnLoop||e.runOnContext,f()}catch(e){return y()}}function v(){}function g(){return new TypeError("You cannot resolve a promise with itself")}function b(){return new TypeError("A promises callback cannot return that same promise.")}function E(e){try{return e.then}catch(e){return se.error=e,se}}function S(e,t,n,r){try{e.call(t,n,r)}catch(e){return e}}function T(e,t,n){J(function(e){var r=!1,i=S(n,t,function(n){r||(r=!0,t!==n?O(e,n):R(e,n))},function(t){r||(r=!0,P(e,t))},"Settle: "+(e._label||" unknown promise"));!r&&i&&(r=!0,P(e,i))},e)}function w(e,t){t._state===oe?R(e,t._result):t._state===ae?P(e,t._result):I(t,void 0,function(t){O(e,t)},function(t){P(e,t)})}function C(e,t){if(t.constructor===e.constructor)w(e,t);else{var n=E(t);n===se?P(e,se.error):void 0===n?R(e,t):s(n)?T(e,t,n):R(e,t)}}function O(e,t){e===t?P(e,g()):a(t)?C(e,t):R(e,t)}function k(e){e._onerror&&e._onerror(e._result),A(e)}function R(e,t){e._state===ie&&(e._result=t,e._state=oe,0!==e._subscribers.length&&J(A,e))}function P(e,t){e._state===ie&&(e._state=ae,e._result=t,J(k,e))}function I(e,t,n,r){var i=e._subscribers,o=i.length;e._onerror=null,i[o]=t,i[o+oe]=n,i[o+ae]=r,0===o&&e._state&&J(A,e)}function A(e){var t=e._subscribers,n=e._state;if(0!==t.length){for(var r,i,o=e._result,a=0;a<t.length;a+=3)r=t[a],i=t[a+n],r?M(n,r,i,o):i(o);e._subscribers.length=0}}function L(){this.error=null}function U(e,t){try{return e(t)}catch(e){return ue.error=e,ue}}function M(e,t,n,r){var i,o,a,u,l=s(n);if(l){if(i=U(n,r),i===ue?(u=!0,o=i.error,i=null):a=!0,t===i)return void P(t,b())}else i=r,a=!0;t._state!==ie||(l&&a?O(t,i):u?P(t,o):e===oe?R(t,i):e===ae&&P(t,i))}function x(e,t){try{t(function(t){O(e,t)},function(t){P(e,t)})}catch(t){P(e,t)}}function D(e,t){var n=this;n._instanceConstructor=e,n.promise=new e(v),n._validateInput(t)?(n._input=t,n.length=t.length,n._remaining=t.length,n._init(),0===n.length?R(n.promise,n._result):(n.length=n.length||0,n._enumerate(),0===n._remaining&&R(n.promise,n._result))):P(n.promise,n._validationError())}function N(e){return new le(this,e).promise}function j(e){function t(e){O(i,e)}function n(e){P(i,e)}var r=this,i=new r(v);if(!G(e))return P(i,new TypeError("You must pass an array to race.")),i;for(var o=e.length,a=0;i._state===ie&&a<o;a++)I(r.resolve(e[a]),void 0,t,n);return i}function F(e){var t=this;if(e&&"object"==typeof e&&e.constructor===t)return e;var n=new t(v);return O(n,e),n}function B(e){var t=this,n=new t(v);return P(n,e),n}function q(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function H(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function V(e){this._id=he++,this._state=void 0,this._result=void 0,this._subscribers=[],v!==e&&(s(e)||q(),this instanceof V||H(),x(this,e))}function W(){var e;if("undefined"!=typeof i)e=i;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var t=e.Promise;t&&"[object Promise]"===Object.prototype.toString.call(t.resolve())&&!t.cast||(e.Promise=ye)}var K;K=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};var Q,Y,z,G=K,X=0,J=({}.toString,function(e,t){re[X]=e,re[X+1]=t,X+=2,2===X&&(Y?Y(_):z())}),$="undefined"!=typeof window?window:void 0,Z=$||{},ee=Z.MutationObserver||Z.WebKitMutationObserver,te="undefined"!=typeof e&&"[object process]"==={}.toString.call(e),ne="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,re=new Array(1e3);z=te?p():ee?d():ne?h():void 0===$?m():y();var ie=void 0,oe=1,ae=2,se=new L,ue=new L;D.prototype._validateInput=function(e){return G(e)},D.prototype._validationError=function(){return new Error("Array Methods must be provided an Array")},D.prototype._init=function(){this._result=new Array(this.length)};var le=D;D.prototype._enumerate=function(){for(var e=this,t=e.length,n=e.promise,r=e._input,i=0;n._state===ie&&i<t;i++)e._eachEntry(r[i],i)},D.prototype._eachEntry=function(e,t){var n=this,r=n._instanceConstructor;u(e)?e.constructor===r&&e._state!==ie?(e._onerror=null,n._settledAt(e._state,t,e._result)):n._willSettleAt(r.resolve(e),t):(n._remaining--,n._result[t]=e)},D.prototype._settledAt=function(e,t,n){var r=this,i=r.promise;i._state===ie&&(r._remaining--,e===ae?P(i,n):r._result[t]=n),0===r._remaining&&R(i,r._result)},D.prototype._willSettleAt=function(e,t){var n=this;I(e,void 0,function(e){n._settledAt(oe,t,e)},function(e){n._settledAt(ae,t,e)})};var ce=N,pe=j,fe=F,de=B,he=0,ye=V;V.all=ce,V.race=pe,V.resolve=fe,V.reject=de,V._setScheduler=l,V._setAsap=c,V._asap=J,V.prototype={constructor:V,then:function(e,t){var n=this,r=n._state;if(r===oe&&!e||r===ae&&!t)return this;var i=new this.constructor(v),o=n._result;if(r){var a=arguments[r-1];J(function(){M(r,i,a,o)})}else I(n,i,e,t);return i},catch:function(e){return this.then(null,e)}};var _e=W,me={Promise:ye,polyfill:_e};n(658).amd?(r=function(){return me}.call(t,n,t,o),!(void 0!==r&&(o.exports=r))):"undefined"!=typeof o&&o.exports?o.exports=me:"undefined"!=typeof this&&(this.ES6Promise=me),_e()}).call(this)}).call(t,n(67),function(){return this}(),n(225)(e))},function(e,t){"use strict";var n=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){setTimeout(e,1e3/60)}}(),r=function(){return window.cancelAnimationFrame||window.webkitCancelRequestAnimationFrame||window.mozCancelRequestAnimationFrame||window.msCancelRequestAnimationFrame||clearTimeout}(),i=function(e){function t(){i?(e(),o=n(t)):r(o)}var i=!1,o=null;return{subscribe:function(){i||(i=!0,o=n(t))},unsubscribe:function(){i=!1,r(o)}}};e.exports.raf=n,e.exports.rafCancel=r,e.exports.RafHandler=i},function(e,t,n){"use strict";var r=n(12),i=n(638),o=n(639);e.exports={create:function(e){if(!e)throw new TypeError("Cannot create TrackPlayerAPIClient with no options.");if(!e.clientVersion)throw new TypeError("Option `clientVersion` not provided.");if(!e.session)throw new TypeError("Option `session` not provided.");if(!e.listPlayer)throw new TypeError("Option `listPlayer` not provided.");var t=r.resolve(e.descriptor).then(function(e){if(!(e&&e.name&&e.model&&e.type))throw new TypeError("Incomplete `descriptor` value.");if(e.capabilities&&("boolean"!=typeof e.capabilities.change_volume||!Array.isArray(e.capabilities.manifest_formats)))throw new TypeError("Invalid `capabilities` value.");return e.id?e:r.reject(new TypeError("No descriptor.id provided."))}),n="initialVolume"in e?e.initialVolume:1,a={};return a.clientVersion=e.clientVersion,a.endpoint=e.endpoint,a.session=e.session,a.listPlayer=e.listPlayer,a.descriptor=t,a.ListClass=o,a.abbaClient=e.abbaClient,a.initialVolume=n,new i(a)}}},function(e,t,n){function r(e){o.call(this),this._session=e.session,this._logger=e.session.getLogger(),this._endpoint=e.endpoint||h,this._listPlayer=e.listPlayer,this._ListClass=e.ListClass,this._abbaClient=e.abbaClient,this._initialVolume=e.initialVolume,this._clientVersion=e.clientVersion,this._descriptor=e.descriptor,this._deviceInfo=null,this._deviceId=null,this._manifestFormats=[],this._registered=!1,this._connectionId=null,this._sequenceNumber=0,this._currentContext=null,this._lastSentState=null,this._totalStreamTime=0,this._queuedRejectedStates=[],this._isSendingConflict=!1,this._isSendingUpdate=!1,this._queueSendUpdate=[],this._previousTrackPosition=0,this._trackPosition=0,this._trackDuration=0,this._waitingForTrackingData=null,this._lastProcessedStateId=null,this._limitStateUpdates=!0,this._currentLicenseEndpoint=null,this._currentLicenseEndpointExpiry=0,this._performCommand=this._performCommand.bind(this),this._sendStateUpdateRequest=this._sendStateUpdateRequest.bind(this),this._parseStateUpdateResponse=this._parseStateUpdateResponse.bind(this),this.getLicenseEndpoint=this.getLicenseEndpoint.bind(this),this._init()}var i=n(20),o=n(19),a=n(12),s=n(49),u=n(461),l=s.forTag("tpapiclient"),c=s.forTag("tpapiclient.endsong"),p=500,f=/^hm:\/\/track-playback\/v1/,d=/^hm:\/\/play-token\/lost/,h="http://@webgate/track-playback",y=65535,_="tps_send_all_state_updates",m={algo:"exp",maxRetries:8},v={maxRetries:2};i(r,o),r.create=function(e){return new r(e)},r.prototype._init=function(){this._waitingForTrackingData=a.defer(),this._waitingForTrackingData.resolve(!0),this._session.addListeners({connection_id:this._onConnectionId.bind(this)}),this._session.matchDealerMessages(d,this._onPlayTokenLost.bind(this)),this._session.matchDealerMessages(f,this._onTrackPlaybackMessage.bind(this)),this._listPlayer.addListeners({capped:this._onCapped.bind(this),before_track_load:this._onBeforeTrackLoad.bind(this),track_loaded:this._onTrackLoaded.bind(this),progress:this._onProgress.bind(this),position_changed:this._onPositionChanged.bind(this),duration_changed:this._onDurationChanged.bind(this),volume_changed:this._onVolumeChanged.bind(this),error:this._onError.bind(this),paused:this._setPaused.bind(this,!0),playing:this._setPaused.bind(this,!1),played_threshold_reached:this._onPlayThresholdReached.bind(this),tracking_data_created:this._onTrackingData.bind(this,"created"),tracking_data_finalized:this._onTrackingData.bind(this,"finalized")}),this.getLicenseEndpoint().catch(function(){})},r.prototype._emitError=function(e,t,n){this._logger.logJSSDKError({source:"tpapi-client",version:u.tagged,type:e,message:t&&t.message,stack:t&&t.stack,json_data:n,json_data_version:"1.0.0"}).catch(function(e){l.error("Track-Playback Logging Error",e)}),this.emit("error",{name:e,error:t,data:n})},r.prototype._logUnsentStateUpdate=function(e){l.info("Unsent state update.",e),this._logger.logClientEvent({source:"tpapi-client",source_version:u.tagged,source_vendor:"spotify",event:"unsent-state-update",event_version:"1.0.0",json_data:e}).catch(function(e){l.error("Track-Playback Logging Error",e)})},r.prototype._setTrackPosition=function(e){this._previousTrackPosition=this._trackPosition,this._trackPosition=e},r.prototype._setAllPositions=function(e){this._previousTrackPosition=e,this._trackPosition=e},r.prototype._onConnectionId=function(e){this._connectionId=e.id,this._registered=!1,a.all([this._abbaClient?this._abbaClient.getCell(_).then(function(e){"on"===e.value&&(this._limitStateUpdates=!1)}.bind(this)).catch(function(){return!1}):null,a.resolve(this._descriptor).then(this._parseDescriptor.bind(this))]).then(this.register.bind(this))},r.prototype._parseDescriptor=function(e){return this._deviceId=e.id,this._deviceInfo={device_id:e.id,device_type:e.type,name:e.name,brand:e.brand,model:e.model,capabilities:e.capabilities,metadata:e.metadata},e.capabilities&&e.capabilities.manifest_formats&&(this._manifestFormats=e.capabilities.manifest_formats),!0},r.prototype._onPlayTokenLost=function(){this._listPlayer.pause().catch(function(){})},r.prototype._onTrackPlaybackMessage=function(e){var t=e.payloads;Array.isArray(t)&&t.length&&this._performCommand(t[0])},r.prototype._sendRegisterRequest=function(e){var t=this._endpoint+"/v1/devices";return this._session.request(t,{authorize:!0,method:"POST",headers:{"Content-Type":"application/json"},responseType:"json",payload:e,retries:m,shouldRetry:this._maybeRetry})},r.prototype._parseRegisterResponse=function(e){if(429===e.status){this.emit("max_subscriptions_reached",{service:"track-playback"});var t=new Error("Max connections reached");return t.maxedSubscriptions=!0,a.reject(t)}return 200!==e.status?a.reject(new Error("track-playback service responded with status "+e.status+" when registering device")):e.body?e.body:a.reject(new TypeError("Unexpected empty response body from registration request."))},r.prototype._performCommand=function(e){switch(e.type){case"set_volume":this._setVolume(e);break;case"log_out":this._logout();break;case"replace_state":this._replaceState(e);break;case"ping":this._updateState("ping");break;default:var t=new Error("Received unknown command.");this._emitError("UnknownCommandError",t,{command:e})}},r.prototype._logout=function(){this._listPlayer.pause().catch(function(){}),this._listPlayer.clear("logout"),this.emit("state_cleared"),this.deregister().then(function(e){this._currentContext=null,this._setTrackPosition(0),e&&this.emit("logout")}.bind(this))},r.prototype._isCurrentStateRef=function(e){var t=this._currentContext?this._currentContext.getStateRef():null;return!t&&!e||!(!t||!e)&&(t.state_machine_id===e.state_machine_id&&t.state_id===e.state_id&&t.paused===e.paused)},r.prototype._createStateRef=function(e,t){if(!t)return null;var n=e.states[t.state_index];if(!n)throw new Error("Invalid state reference.");return{state_machine_id:e.state_machine_id,state_id:n.state_id,paused:t.paused}},r.prototype._replaceState=function(e){var t=this._listPlayer,n=e.state_machine,r=e.state_ref,i=this._createStateRef(n,r);if(!this._isCurrentStateRef(e.prev_state_ref))return void this._sendStateConflict(i);if(!r)return t.pause().catch(function(){}),this._listPlayer.clear("remote"),this._currentContext=null,this._updateState("state_clear"),this._setTrackPosition(0),this._lastProcessedStateId=null,void this.emit("state_cleared");var o=this._currentContext?this._currentContext.getStateRef():null;this._lastProcessedStateId=i.state_id;var a;if(o&&o.state_id===i.state_id){a=this._currentContext,a.setStateMachine(n),a.setCurrentState(r),r.paused?(a.setPaused(!0),t.pause()):(a.setPaused(!1),t.resume());var s=parseInt(e.seek_to,10);return a.allowSeeking()&&!isNaN(s)&&(t.seek(s),this._setTrackPosition(s)),void this._updateState("modify_current_state")}var u=this._session.createStepTimer("command-to-play");u.start();var l=e.seek_to||0;a=this._ListClass.create("spotify:app:jsspeaker",this._manifestFormats,this.getLicenseEndpoint),a.setStateMachine(n),a.startAtState(r),a.setDeviceId(this._deviceId),a.setNextStepTimer(u),this._currentContext=a,a.setInitialPosition(l),this._setTrackPosition(l);var c=a.getCurrentTrack();this._trackDuration=c?c.metadata.duration:0,this._updateState("optimistic_replace_state");var p="remote";this._loading=!0,t.play(a,{reason:p,stepTimer:u})},r.prototype._shouldSendUpdateForEvent=function(e){return!(!e||e===this._lastProcessedStateId)},r.prototype._setPaused=function(e,t){var n=this._currentContext;n&&(n.setPaused(e),"position"in t&&this._setAllPositions(t.position),this._shouldSendUpdateForEvent(t.track.stateId)?this._updateState(e?"pause":"resume"):(this._lastProcessedStateId=null,this._emitStateChanged()))},r.prototype._maybeRetry=function(e,t){return e.getStatusFamily()===t.SERVER_ERROR},r.prototype._onPlayThresholdReached=function(e){this._setAllPositions(e.position),this._updateState("played_threshold_reached")},r.prototype._onTrackingData=function(e){switch(e){case"created":this._waitingForTrackingData=a.defer();break;case"finalized":this._waitingForTrackingData.resolve(!0);break;default:return}},r.prototype._onProgress=function(e){this._loading||(this._setAllPositions(e.position),e.logData&&!e.logData.noLog&&(this._totalStreamTime+=e.interval||p))},r.prototype._onError=function(e){"position"in e&&(this._setTrackPosition(e.position),this._updateState("error"))},r.prototype._onPositionChanged=function(e){this._loading||(this._setTrackPosition(e.position),this._shouldSendUpdateForEvent(e.track.stateId)?this._updateState("position_changed"):(this._lastProcessedStateId=null,this._emitStateChanged()))},r.prototype._onDurationChanged=function(e){this._trackDuration=e.duration,this._emitStateChanged()},r.prototype._onVolumeChanged=function(e){var t=e.volume*y,n=e.command_id||"",r=this._endpoint+"/v1/devices/"+this._deviceId+"/volume",i={seq_num:null,volume:t,command_id:n};return this._setSequenceNumber(i),this._session.request(r,{authorize:!0,method:"PUT",headers:{"Content-Type":"application/json"},payload:JSON.stringify(i)})},r.prototype._onCapped=function(){this._listPlayer.clear("capped"),this._currentContext=null,this._updateState("capped"),this._setTrackPosition(0),this._lastProcessedStateId=null,this.emit("state_cleared")},r.prototype._onBeforeTrackLoad=function(){this._loading=!0},r.prototype._onTrackLoaded=function(e){this._loading=!1;var t=this._currentContext;if(t){var n=t.getCurrentTrack();this._trackDuration=n&&n.metadata?n.metadata.duration||0:0;var r=e.options;t.setPaused(!!r&&r.paused),e.track&&this._shouldSendUpdateForEvent(e.track.stateId)?(this._setTrackPosition(r?r.position||0:0),this._updateState("track_loaded")):(this._lastProcessedStateId=null,this._setAllPositions(r?r.position||0:0),this._emitStateChanged())}},r.prototype._sendStateConflict=function(e){var t=this._queuedRejectedStates;if("undefined"!=typeof e&&t.push(e),!this._registered||this._isSendingConflict||!t.length)return a.resolve(!1);this._isSendingConflict=!0;var n=t.splice(0,5),r=null;this._currentContext&&(r=this._currentContext.getStateRef());var i=this._generateStatePayload(r);i.rejected_state_refs=n,this._setSequenceNumbers(i,n.length);var o=this._endpoint+"/v1/devices/"+this._deviceId+"/state_conflict";return this._session.request(o,{authorize:!0,method:"POST",headers:{"Content-Type":"application/json"},responseType:"json",payload:JSON.stringify(i),retries:v,shouldRetry:this._maybeRetry}).then(function(e){if(e.status>=200&&e.status<300){if(!e.body)return!0;var t=e.body;if(t.commands&&t.commands.length)for(var n=t.commands,r=0,i=n.length;r<i;r++)this._performCommand(n[r]);return!0}var o=new Error("Track-Playback service responded with "+e.status);return this._emitError("StateConflictError",o),!1}.bind(this)).then(function(e){return this._isSendingConflict=!1,this._sendStateConflict(),e}.bind(this))},r.prototype._setVolume=function(e){var t=e.volume/y;return this._listPlayer.setVolume(t,e.command_id)},r.prototype._updateState=function(e){if(this._registered){var t=this._currentContext?this._currentContext.getStateRef():null,n=this._generateStatePayload(t,e);if(!this._requiresStateUpdate(n))return void l.info("State update ignored.",n);if(this._emitStateChanged(),this._isSendingUpdate&&this._limitStateUpdates)return this._logUnsentStateUpdate(n),void this._queueSendUpdate.push(e);this._isSendingUpdate=!0,this._queueSendUpdate=[],this._setSequenceNumber(n),this._lastSentState=n,this._sendStateUpdateRequest(JSON.stringify(n)).then(this._parseStateUpdateResponse).then(this._updateStateMachine.bind(this,t)).catch(function(e){this._emitError("StateUpdateError",e)}.bind(this)).then(function(){this._isSendingUpdate=!1,this._queueSendUpdate.length&&this._updateState(this._queueSendUpdate.join(",")),l.info("State update sent.",n)}.bind(this))}},r.prototype._requiresStateUpdate=function(e){var t=this._lastSentState;if(!t||!t.state_ref||!e.state_ref)return!0;var n=e.state_ref,r=t.state_ref;if(n.paused!==r.paused||n.state_id!==r.state_id||n.state_machine_id!==r.state_machine_id)return!0;var i=e.sub_state,o=t.sub_state;return i.playback_speed!==o.playback_speed||i.position!==o.position||i.duration!==o.duration||i.stream_time!==o.stream_time||e.previous_position!==t.previous_position},r.prototype._emitStateChanged=function(){var e=this._currentContext;e&&this.emit("state_changed",{stateMachine:e.getStateMachine(),stateRef:e.getInternalStateRef(),position:this._trackPosition,duration:this._trackDuration,paused:e.isPaused()})},r.prototype._makeSequenceNumber=function(){return++this._sequenceNumber},r.prototype._setSequenceNumber=function(e){return e.seq_num=this._makeSequenceNumber(),e},r.prototype._setSequenceNumbers=function(e,t){e.seq_nums=[];for(var n=0;n<t;n++)e.seq_nums.push(this._makeSequenceNumber());return e},r.prototype._generateStatePayload=function(e,t){return{seq_num:void 0,seq_nums:void 0,state_ref:e,sub_state:{playback_speed:e&&!e.paused?1:0,position:this._trackPosition||0,duration:this._trackDuration||void 0,stream_time:this._totalStreamTime},previous_position:this._previousTrackPosition||0,rejected_state_refs:void 0,debug_source:t}},r.prototype._sendStateUpdateRequest=function(e){var t=this._endpoint+"/v1/devices/"+this._deviceId+"/state";return this._session.request(t,{authorize:!0,method:"PUT",headers:{"Content-Type":"application/json"},responseType:"json",payload:e,retries:m,shouldRetry:this._maybeRetry})},r.prototype._parseStateUpdateResponse=function(e){return 200!==e.status?a.reject(new Error("Service responded with status "+e.status)):e.body?e.body:a.reject(new TypeError("Unexpected empty response body from state update request."))},r.prototype._updateStateMachine=function(e,t){t.endsong&&c.log(t.endsong);var n=this._currentContext;if(n){var r=t.state_machine,i=t.updated_state_ref;this._isCurrentStateRef(e)&&(n.setStateMachine(r),n.setCurrentState(i),this._emitStateChanged())}},r.prototype._fetchNewLicenseEndpoint=function(){var e=[this._endpoint,"/v1/devices/",this._deviceId,"/license_url","?manifest_format=file_ids_mp4"].join("");return a.all([this._session.getServerTime().catch(function(){return 0}),this._session.request(e,{responseType:"json",retries:v,shouldRetry:this._maybeRetry})]).spread(function(e,t){if(200!==t.status||!t.body||!t.body.uri)return a.reject(new Error("Cannot fetch license endpoint. Track Playback responded with "+t.status));var n="https://@webgate/"+t.body.uri,r=t.body.expires;if(e){var i=1e3*r-e;this._currentLicenseEndpointExpiry=Date.now()+i}return this._currentLicenseEndpoint=n,n}.bind(this))},r.prototype.getLicenseEndpoint=function(e){return!e&&this._currentLicenseEndpoint&&Date.now()<this._currentLicenseEndpointExpiry?a.resolve(this._currentLicenseEndpoint):(this._currentLicenseEndpoint=null,this._currentLicenseEndpointExpiry=0,this._registered?this._fetchNewLicenseEndpoint():new a(function(e,t){this.on("registered",function(){this._fetchNewLicenseEndpoint().then(e,t)}.bind(this))}.bind(this)))},r.prototype.register=function(){if(this._registered)return a.resolve(!1);var e,t=this._currentContext;t?(e=this._generateStatePayload(t.getStateRef(),"register"),this._setSequenceNumber(e)):e=null;var n=JSON.stringify({device:this._deviceInfo,connection_id:this._connectionId,client_version:this._clientVersion,previous_session_state:e});return this._sendRegisterRequest(n).then(this._parseRegisterResponse.bind(this)).then(function(e){return e.endsong&&c.log(e.endsong),this._registered=!0,this._sequenceNumber=e.initial_seq_num,this.emit("registered",{deviceId:this._deviceId}),this.emit("ready",{settings:{}}),this._onVolumeChanged({volume:this._initialVolume}),!0}.bind(this)).catch(function(e){return(!e||!e.maxedSubscriptions)&&(this._emitError("RegistrationError",e),!1)}.bind(this))},r.prototype.deregister=function(){if(!this._registered)return a.resolve(!1);this._registered=!1;var e=this._listPlayer;return e.getPlayerState().then(function(t){var n=this._currentContext,r=null;n&&(n.setPaused(!t.playing),this._setAllPositions(t.position),r=n.getStateRef());var i=this._generateStatePayload(r,"deregister");this._setSequenceNumber(i);var o=this._endpoint+"/v1/devices/"+this._deviceId;return a.all([this._session.request(o,{authorize:!0,method:"DELETE",payload:JSON.stringify(i),responseType:"json",retries:v,shouldRetry:this._maybeRetry}),this._waitingForTrackingData.promise,e.stop().catch(function(){})]).spread(function(e){return e})}.bind(this),function(){return this._registered=!0,!1}.bind(this)).then(function(e){if(!e||200!==e.status&&204!==e.status)return this._registered=!0,!1;var t=e.body;return t&&t.endsong&&c.log(t.endsong),this.emit("deregistered"),!0}.bind(this))},r.prototype.getStreamTime=function(){return a.resolve(this._totalStreamTime)},r.prototype.setStreamTime=function(e){var t=parseFloat(e);if(isNaN(t)||t<this._totalStreamTime||!(t<1/0))throw new Error("Cannot set stream time to less than the current time.");this._totalStreamTime=t},e.exports=r},function(e,t,n){"use strict";function r(e,t,n){this._uri=e,this._manifestFormats=t,this._licenseFetcher=n||a,this._deviceId=null,this._stateMachine=null,this._currentState=null,this._currentStateIndex=null,this._pausedState=!1,this._initialPlaybackPosition=null,this._nextStepTimer=null}var i=n(12),o=n(222),a=function(){return i.resolve(null)};r.create=function(e,t,n){return new r(e,t,n)},r.prototype.setPaused=function(e){this._pausedState=!!e},r.prototype.isPaused=function(){return this._currentStateIndex<0?this._currentState.transitions.advance.paused:this._pausedState},r.prototype.setInitialPosition=function(e){this._initialPlaybackPosition=e},r.prototype.setStateMachine=function(e){this._stateMachine=e},r.prototype.setDeviceId=function(e){this._deviceId=e},r.prototype.setNextStepTimer=function(e){this._nextStepTimer=e},r.prototype.startAtState=function(e){var t=this._stateMachine.states[e.state_index];if(!t)throw new Error("Invalid state ref.");var n=t.transitions;this._currentStateIndex=-1,this._currentState={decoy:!0,paused:!!e.paused,track:-1,state_id:null,transitions:{advance:e,show_next:n.show_next,show_prev:n.show_prev,skip_next:e,skip_prev:n.skip_prev}}},r.prototype.setCurrentState=function(e){var t=e.state_index;this._currentStateIndex=t,this._currentState=this._stateMachine.states[t]},r.prototype.getStateMachine=function(){return this._stateMachine},r.prototype.getInternalStateRef=function(){var e=this._pausedState,t=this._currentStateIndex;if(t<0){var n=this._currentState.transitions.advance;t=n.state_index,e=n.paused}return{paused:e,state_index:t}},r.prototype.getStateRef=function(){var e=this._stateMachine;if(!e)return null;var t,n;if(this._currentStateIndex<0){var r=this._currentState.transitions.advance;t=e.states[r.state_index],n=r.paused}else t=e.states[this._currentStateIndex],n=this._pausedState;return{state_machine_id:e.state_machine_id,state_id:t.state_id,paused:n}},r.prototype.getCurrentTrack=function(){var e,t=this._stateMachine;if(this._currentStateIndex<0){var n=this._currentState.transitions.advance;e=t.states[n.state_index]}else e=t.states[this._currentStateIndex];return e?null:t.tracks[e.track]},r.prototype.startAt=function(){return i.resolve(!0)},r.prototype.setShuffle=function(){return i.resolve(!0)},r.prototype.setRepeatMode=function(){},r.prototype.next=function(e){var t=this._currentState,n=t.transitions,r=null;switch(e.reason){case"nextbtn":case"fwdbtn":"skip_next"in n&&(r=n.skip_next);break;default:"advance"in n&&(r=n.advance)}return this._transitionTo(r,e,!1)},r.prototype.peekNext=function(e){var t=this._currentState,n=t.transitions,r=null;switch(e.reason){case"nextbtn":case"fwdbtn":"skip_next"in n&&(r=n.skip_next);break;default:"advance"in n&&(r=n.advance)}return this._transitionTo(r,e,!0)},r.prototype.previous=function(e){var t=this._currentState,n=t.transitions,r=n.skip_prev;return this._transitionTo(r,e,!1)},r.prototype.allowSeeking=function(){return this._currentState&&!this._currentState.disallow_seeking},r.prototype._transitionTo=function(e,t,n){var r=t.reason,a=t.listConstants;if(!e||null===e)return i.resolve(a.FORBIDDEN);var s=this._stateMachine,u=s.states,l=u[e.state_index];if(!l)return i.resolve(a.NULL_VALUE);var c=s.tracks[l.track];if(!c||!c.metadata||!c.metadata.uri)return i.resolve(a.NULL_VALUE);var p=this._currentState,f=p.decoy?!!p.paused:e.paused;n||(this._currentState=l,this._currentStateIndex=e.state_index,this._pausedState=f);var d=0;n||null===this._initialPlaybackPosition?"initial_playback_position"in l?d=l.initial_playback_position||0:"seek_to"in l&&(d=l.seek_to||0):(d=this._initialPlaybackPosition,
this._initialPlaybackPosition=null);var h=o(this._manifestFormats,c);if(!h)return i.resolve(a.NULL_VALUE);var y=this._uri;c.metadata&&c.metadata.context_uri&&(y=c.metadata.context_uri);var _=this._nextStepTimer;this._nextStepTimer=null;var m=r,v={uri:h.uri,playableURI:h.uri,playable:h.playable,fileId:h.fileId,format:h.format,resolvedURL:h.resolvedURL,licenseServer:null,options:{position:d,paused:f},logData:{noLog:!!h.noLog,deviceId:this._deviceId,playbackId:l.state_id,reason:m,displayTrack:h.uri,playContext:y,impressionURL:h.impressionURL,impressionURLs:h.impressionURLs,format:{codec:h.format,bitrate:h.bitrate}},stateId:l.state_id,licenseFetcher:this._licenseFetcher,stepTimer:_};return i.resolve(v)},e.exports=r},function(e,t,n){"use strict";var r=n(647);e.exports={createSession:function(e){return new r(e)}}},function(e,t,n){(function(t){"use strict";function r(){o.call(this),this._navigator=t.navigator,"function"==typeof t.addEventListener&&(t.addEventListener("online",this.emitSync.bind(this,"online",{})),t.addEventListener("offline",this.emitSync.bind(this,"offline",{})))}var i=n(20),o=n(19);i(r,o),r.create=function(){return new r},r.prototype.isOnline=function(){var e=this._navigator;return!(e&&"onLine"in e)||e.onLine},e.exports=r}).call(t,function(){return this}())},function(e,t,n){(function(t){"use strict";function r(){o.call(this),this._socket=null,this._lastPingDeferred=null,this._waitingForConnectionId=!0,this._connectionId=null}var i=n(20),o=n(19),a=n(12),s=n(50).INTERNAL_SOCKET_CLOSE_CODE,u=/hm:\/\/pusher\/(?:[^]+)?\/connections\/([^]+)/;i(r,o),r.create=function(){return new r},r.prototype._prepareConnectionId=function(e){if(!e.uri)return!1;var t=e.uri.match(u);if(!t)return!1;var n=this._connectionId=t[1];return this.emit("connection_id",{id:n,uri:e.uri}),!0},r.prototype._parseMessage=function(e){var t;try{t=JSON.parse(e)}catch(e){return}this._waitingForConnectionId&&this._prepareConnectionId(t)?this._waitingForConnectionId=!1:"pong"===t.type&&this._lastPingDeferred?(this._lastPingDeferred.resolve(!0),this._lastPingDeferred=null):"message"===t.type&&this.emit("message",{data:t})},r.prototype._handleOpen=function(e){e.resolve(!0),this._connected=!0,this.emit("authenticated")},r.prototype._handleMessage=function(e){var n=this,r=e.data;if(t.Blob&&r instanceof t.Blob){var i=new t.FileReader;i.onloadend=function(){n._parseMessage(this.result)},i.readAsText(r)}else t.Buffer&&t.ArrayBuffer&&r instanceof t.ArrayBuffer?this._parseMessage(new t.Buffer(r).toString("ascii")):this._parseMessage(r)},r.prototype._handleClose=function(e){var t=this._connected;return this._connected=!1,t?void this.emitSync("disconnected",{code:e.code,reason:e.reason}):void this.emit("authentication_failed",{code:e.code,message:e.reason,raw:e})},r.prototype._handleError=function(e){e.reject(!1),this._connected=!1,this.emit("error")},r.prototype.connect=function(e){return this._endpoint=e,this._waitingForConnectionId=!0,this.emit("connected"),a.resolve(!0)},r.prototype.authenticate=function(e){var t=a.defer(),n=this._endpoint+"?access_token="+e,r=this._socket=new WebSocket(n);return r.onopen=this._handleOpen.bind(this,t),r.onclose=this._handleClose.bind(this),r.onerror=this._handleError.bind(this,t),r.onmessage=this._handleMessage.bind(this),t.promise},r.prototype.disconnect=function(){this._socket&&(this._waitingForConnectionId=!0,this._connected=!1,this._socket.close(s,"internal-close"),this._socket.onopen=null,this._socket.onerror=null,this._socket.onmessage=null,this._socket.onclose=null,this._socket=null,this.emitSync("disconnected",{code:s,reason:"internal-close"}))},r.prototype.ping=function(){return this._socket&&1===this._socket.readyState?(this._lastPingDeferred=a.defer(),this._socket.send('{"type":"ping"}'),this._lastPingDeferred.promise):a.reject(new Error("Connection closed."))},r.prototype.getConnectionId=function(){return this._waitingForConnectionId?new a(function(e){this.once("connection_id",function(t){e(t.id)})}.bind(this)):a.resolve(this._connectionId)},r.prototype.matchMessages=function(e,t){if(!e)throw new TypeError('Dealer message "matcher" cannot be null.');if("function"!=typeof t)throw new TypeError("Dealer message callback cannot be null.");var n=function(n){var r=n.data;r.uri&&r.uri.match(e)&&t(r)};n.__matchMessagesExp=e,t.__matchMessagesWrapper=n,this.on("message",n)},r.prototype.unmatchMessages=function(e,t){if("function"!=typeof t)throw new TypeError("Dealer message callback cannot be null.");var n=t.__matchMessagesWrapper;return n.__matchMessagesExp===e&&(this.removeListener("message",n),!0)},e.exports=r}).call(t,function(){return this}())},function(e,t,n){"use strict";function r(e,t,n){if("function"!=typeof e)throw new TypeError("Argument monitorFn is not a function.");o.call(this),this._monitorFn=e,this._timeout=t,this._interval="undefined"!=typeof n?n:a,this._monitorTimeout=null,this._timeoutTimeout=null,this._heartbeatToken=null,this._monitor=this._monitor.bind(this),this._onHeartbeatResponse=this._onHeartbeatResponse.bind(this),this._onHeartbeatError=this._onHeartbeatError.bind(this)}var i=n(20),o=n(19),a=3e4;i(r,o),r.prototype._monitor=function(){this._heartbeatToken=Date.now().toString(10),this._monitorFn(this._heartbeatToken).then(this._onHeartbeatResponse,this._onHeartbeatError);var e=this._timeout;e&&e>0&&(this._timeoutTimeout=setTimeout(this._onHeartbeatError,e))},r.prototype._onHeartbeatResponse=function(e){return clearTimeout(this._timeoutTimeout),e!==this._heartbeatToken?(this.stop(),void this.emit("failed")):void(this._monitorTimeout=setTimeout(this._monitor,this._interval))},r.prototype._onHeartbeatError=function(){this.stop(),this.emit("failed")},r.prototype.start=function(){this._monitor()},r.prototype.stop=function(){clearTimeout(this._monitorTimeout),clearTimeout(this._timeoutTimeout)},e.exports=r},function(e,t,n){"use strict";function r(e,t){var n=t||{};this._url=e,this._method=(n.method||"GET").toUpperCase(),this._payload=n.payload||"",this._headers=n.headers||null,this._responseType=n.responseType||null,this._canceller=n.canceller||i.defer().promise,this._ignoreResponseBody=n.ignoreResponseBody}var i=n(12),o=n(223),a=n(224),s=n(50).StatusCode,u=function(e,t,n){return Object.defineProperty?Object.defineProperty(e,t,{value:n,enumerable:!1}):e[t]=n,e},l={POST:!0,PUT:!0,DELETE:!0},c={json:!0,text:!0,document:!0},p={},f=i.resolve(p);r.request=function(e,t){return new r(e,t).send()},r.prototype._handleStateChanged=function(e,t,n){if(4===e.readyState){e.onprogress=null,e.onerror=null,e.onreadystatechange=null;var r=this._ignoreResponseBody;i.race([this._canceller,f]).then(function(i){if(i===p){var a=e.status,l={};u(l,"status_code",a);var c=new o;c.url=e.responseURL||t,c.headers=l,c.status=a,c.body=null;var f=e.getAllResponseHeaders();if(f)for(var d=f.split("\r\n"),h=0;h<d.length;h++){var y=d[h],_=y.indexOf(": ");if(_>0){var m=y.substring(0,_).toLowerCase(),v=y.substring(_+2);l[m]=v}}if(!r&&a!==s.NO_CONTENT&&2===c.getStatusFamily())if("response"in e)c.body=e.response;else if("document"===e.responseType)c.body=e.responseXML;else if("json"===e.responseType)try{c.body=JSON.parse(e.responseText)}catch(e){c.body=null}else"text"!==e.responseType&&""!==e.responseType||(c.body=e.responseText);n.resolve(c)}})}},r.prototype.send=function(){return i.race([this._canceller,f]).then(function(e){var t=i.defer();if(e!==p)return t.promise;var n=this._url;if(!n)return t.reject(new TypeError("Request URL cannot be blank.")),t.promise;var r=null,o=this._payload,s=this._method;s in l&&o?r=o:o&&(n+="?"+o);var u=new XMLHttpRequest;u.open(s,n,!0),u.onprogress=function(){},u.onerror=function(){t.reject(new a("Request cannot be completed.",u.status))},u.onreadystatechange=this._handleStateChanged.bind(this,u,n,t);var f=this._responseType;if(f){if(!("responseType"in u||f in c))return t.reject(new TypeError("Cannot set responseType: not supported in browser.")),t.promise;if(u.responseType=f,f!==u.responseType&&!(f in c))return t.reject(new TypeError('Unknown responseType "'+f+'".')),t.promise}var d=this._headers;if(d)for(var h in d)if(d.hasOwnProperty(h))try{u.setRequestHeader(h,d[h])}catch(e){return t.reject(e),t.promise}try{u.send(r)}catch(e){t.reject(e)}var y=function(){u.abort()};return this._canceller.then(y,y),t.promise}.bind(this))},e.exports=r},function(e,t,n){"use strict";function r(e){var t=e||{};if(!e.session)throw new TypeError("Logger `option.session` must be a valid session.");this._session=t.session,this._endpoint=t.endpoint||a,this._sdkId=null,this._platformId=null,this._sdkIdPromise=i.resolve(t.sdkId||"transport:1.0.0"),this._platformPromise=i.resolve(t.platform||"spotify-tranport")}var i=n(12),o=n(50).StatusCode,a="https://@webgate/melody",s={UNKNOWN:"unknown",EMPTY:"",ZERO:0,EMPTY_VERSION:"0.0.0"},u={CLIENT_EVENT:"/v1/logging/client_event",ELAPSED_TIME:"/v1/logging/elapsed_time",JSSDK_ERROR:"/v1/logging/jssdk_error",JSSDK_STALL:"/v1/logging/jssdk_stall",JSSDK_TIMER:"/v1/logging/jssdk_timer",TRACK_STREAM_VERIFICATION:"/v1/logging/track_stream_verification",METRICS:"/v1/metric"};r.create=function(e){return new r(e)},r.prototype._getIdentData=function(){return this._platformId&&this._sdkId?i.resolve({platform:this._platformId,sdk_id:this._sdkId}):i.all([this._platformPromise,this._sdkIdPromise]).spread(function(e,t){return this._platformId=e,this._sdkId=t,i.resolve({platform:e,sdk_id:t})}.bind(this))},r.prototype._decoratePayload=function(e){return this._getIdentData().then(function(t){return e.sdk_id=t.sdk_id,e.platform=t.platform,e})},r.prototype._sendLog=function(e,t){return this._session.request(this._endpoint+e,{method:"POST",payload:JSON.stringify(t),retries:5,shouldRetry:function(e){return e.status!==o.ACCEPTED}}).then(function(e){return e.status===o.ACCEPTED||i.reject(new Error("Logging service responded with status "+e.status))})},r.prototype.logClientEvent=function(e,t){if(!e)return i.reject(new TypeError("Logger.logClientEvent `data` cannot be null."));var n={sdk_id:null,platform:null,source:e.source||s.UNKNOWN,context:e.context||s.UNKNOWN,event:e.event||s.UNKNOWN,event_version:e.event_version||s.EMPTY,test_version:e.test_version||s.EMPTY,source_version:e.source_version||s.UNKNOWN,source_vendor:e.source_vendor||s.UNKNOWN,json_data:"json"===t?e.json_data||"{}":JSON.stringify(e.json_data||{})};return this._decoratePayload(n).then(this._sendLog.bind(this,u.CLIENT_EVENT))},r.prototype.logElapsedTime=function(e){if(!e)return i.reject(new TypeError("Logger.logElapsedTime `data` cannot be null."));var t=this._session,n={sdk_id:null,platform:null,unique_id:e.unique_id||t.getInitTime(),event:e.event||s.UNKNOWN,elapsed_time:e.elapsed_time||s.ZERO};return this._decoratePayload(n).then(this._sendLog.bind(this,u.ELAPSED_TIME))},r.prototype.logJSSDKError=function(e,t){if(!e)return i.reject(new TypeError("Logger.logJSSDKError `data` cannot be null."));var n={sdk_id:null,platform:null,source:e.source||s.UNKNOWN,source_version:e.source_version||s.UNKNOWN,type:e.type||s.UNKNOWN,message:e.message||s.EMPTY,stack:JSON.stringify(e.stack||s.EMPTY),json_data:"json"===t?e.json_data||"{}":JSON.stringify(e.json_data||{}),json_data_version:e.json_data_version||s.EMPTY_VERSION};return this._decoratePayload(n).then(this._sendLog.bind(this,u.JSSDK_ERROR))},r.prototype.logJSSDKStall=function(e){if(!e)return i.reject(new TypeError("Logger.logJSSDKStall `data` cannot be null."));var t={sdk_id:null,platform:null,session_id:e.session_id||s.EMPTY,playback_id:e.playback_id||s.EMPTY,play_track:e.play_track||s.EMPTY,file_id:e.file_id||s.EMPTY,byte_offset:e.byte_offset||s.ZERO,time_offset:e.time_offset||s.ZERO,ms_stalled:e.ms_stalled||s.ZERO,timed_out:!!e.timed_out};return this._decoratePayload(t).then(this._sendLog.bind(this,u.JSSDK_STALL))},r.prototype.logJSSDKTimer=function(e,t){if(!e)return i.reject(new TypeError("Logger.logJSSDKTimer `data` cannot be null."));if(!Array.isArray(e.breakdown))return i.reject(new TypeError("Logger.logJSSDKTimer `data.breakdown` must be an array."));var n={sdk_id:null,platform:null,timer_name:e.timer_name||s.EMPTY,ms_duration:e.ms_duration||s.ZERO,breakdown:JSON.stringify(e.breakdown),breakdown_version:e.breakdown_version||s.EMPTY_VERSION,json_data:"json"===t?e.json_data||"{}":JSON.stringify(e.json_data||{}),json_data_version:e.json_data_version||s.EMPTY_VERSION};return this._decoratePayload(n).then(this._sendLog.bind(this,u.JSSDK_TIMER))},r.prototype.logTrackStreamVerification=function(e){if(!e)return i.reject(new TypeError("Logger.logTrackStreamVerification `data` cannot be null."));var t={sdk_id:null,platform:null,play_track:e.play_track,playback_id:e.playback_id,ms_played:e.ms_played,session_id:e.session_id,sequence_id:e.sequence_id,next_playback_id:e.next_playback_id};return this._decoratePayload(t).then(this._sendLog.bind(this,u.TRACK_STREAM_VERIFICATION))},r.prototype.logMetrics=function(e,t){if(!e&&!t)return i.resolve(!0);var n=e||[],r=t||[];if(!n.length&&!r.length)return i.resolve(!0);if(!Array.isArray(n)||!Array.isArray(r))return i.reject(new TypeError("Logger.logMetrics `meters` and `timers` must be null or an array."));var o,a;for(o=0,a=n.length;o<a;o++){var s=n[o];if(!("what"in s&&"result"in s&&"reason"in s))return i.reject(new TypeError("Logger.logMetrics: Invalid meter format in `meters` array."))}for(o=0,a=r.length;o<a;o++){var l=r[o];if(!("what"in l&&"duration"in l))return i.reject(new TypeError("Logger.logMetrics: Invalid timer format in `timers` array."))}var c={sdk_id:null,platform:null,meters:n,timers:r};return this._decoratePayload(c).then(this._sendLog.bind(this,u.METRICS))},e.exports=r},function(e,t,n){"use strict";function r(e){o.call(this),this._session=e.session,this._endpoint=e.endpoint||u,this._currentConnectionId=null,this._init()}var i=n(20),o=n(19),a=n(12),s=n(50).StatusCode,u="@webgate/melody",l=/^hm:\/\/melody\/v1\/product_state_change/;i(r,o),r.create=function(e){return new r(e)},r.prototype._init=function(){this._session.on("connection_id",function(e){this.register(e.id).catch(function(){})}.bind(this)),this._session.matchDealerMessages(l,this._handleDealerMessage.bind(this))},r.prototype._handleDealerMessage=function(){this.getCurrentState().then(function(e){this.emit("product_state_changed",{productState:e})}.bind(this)).catch(function(){})},r.prototype.getCurrentState=function(){return this._session.request(this._endpoint+"/v1/product_state",{method:"GET",responseType:"json",shouldRetry:function(e,t){var n=e.getStatusFamily();return n===t.SERVER_ERROR||n===t.BROWSER_ERROR}}).then(function(e){return e.status!==s.OK?a.reject(new Error("Cannot get the user's product state.")):e.body})},r.prototype.register=function(e){return e||a.reject(new TypeError("ConnectionId cannot be null")),this._session.request(this._endpoint+"/v1/product_state_change/"+e,{method:"POST",ignoreResponseBody:!0,shouldRetry:function(e,t){var n=e.getStatusFamily();return n===t.SERVER_ERROR||n===t.BROWSER_ERROR}}).then(function(e){return e.status!==s.OK?a.reject("Cannot register for product state updates: service responded with status "+e.status):this.deregister()}.bind(this)).then(function(){this._connectionId=e}.bind(this))},r.prototype.deregister=function(){var e=this._connectionId;return e||a.resolve(!1),this._session.request(this._endpoint+"/v1/product_state_change/"+e,{method:"DELETE",ignoreResponseBody:!0,shouldRetry:function(e,t){var n=e.getStatusFamily();return n===t.SERVER_ERROR||n===t.BROWSER_ERROR}}).then(function(e){return a.resolve(e.status===s.OK)})},e.exports=r},function(e,t,n){(function(t){"use strict";function r(e){if(!e)throw new TypeError("Argument `config` for Session cannot be null.");if(!e.providers)throw new TypeError("Argument `config.providers` for Session cannot be null.");a.call(this),this._tokenProvider=e.providers.token,this._endpointsProvider=e.providers.endpoints,this._reconnectionRetries="reconnectionRetries"in e?e.reconnectionRetries:3,this._reconnectionCount=0,this._reconnectionPromises={},this._logger=e.logger||new d({session:this,sdkId:e.sdkId,platform:e.systemInfo}),this._dealer=new u,this._dealerHeartbeat=new l(function(e){return this.ping().then(function(){return e})}.bind(this._dealer),1e4),this._requestHTTP=this._requestHTTP.bind(this),this._endpoints=null,this._connectionObserver=new c,this._lastToken=null,this._lastTokenExpiry=0,this._refreshTokenPromise=null,this._authenticationPromise=!1,this._reconnectTimeout=null,this._initTime=0,this._stateMask=0,this._handleAuthenticated=this._handleAuthenticated.bind(this),this._handleAuthenticationFailed=this._handleAuthenticationFailed.bind(this),this._handleDealerEvent=this._handleDealerEvent.bind(this),this._isReconnecting=!1,this._init()}var i=n(20),o=n(649),a=n(19),s=n(12),u=n(642),l=n(643),c=n(641),p=n(644),f=n(223),d=n(645),h=n(648),y=n(50).StatusCode,_=n(50).StatusFamily,m=n(50).INTERNAL_SOCKET_CLOSE_CODE,v=5e3,g=/^(?:https?:\/\/)?@([^\/]+)\//,b=/^wss?:\/\//,E=/^https?:\/\//,S=/\/$/,T=3540,w=2,C={CONNECTED:1,AUTHENTICATED:8};i(r,a),r.prototype._init=function(){this._dealer.addListeners({connected:this._handleDealerEvent,disconnected:this._handleDealerEvent,authenticated:this._handleDealerEvent,authentication_failed:this._handleDealerEvent,error:this._handleDealerEvent,connection_id:this._handleDealerEvent,message:this._handleDealerEvent}),this._connectionObserver.addListeners({online:this._onOnline.bind(this),offline:this._onOffline.bind(this)})},r.prototype._handleDealerEvent=function(e){switch(e.type){case"connected":break;case"disconnected":this._disconnect(!0),e.code!==m&&this._connectionObserver.isOnline()&&this._tryToReconnect(),this._dealerHeartbeat.stop();break;case"authenticated":this._dealerHeartbeat.start();break;case"connection_id":this.emit(e.type,e);break;case"message":this.emit("dealer_message",{data:e.data})}},r.prototype._handleAuthenticated=function(){return clearTimeout(this._reconnectTimeout),this._authenticationPromise=null,this._stateMask|=C.AUTHENTICATED,this._initTime=Date.now(),this.emit("authenticated"),s.resolve(!0)},r.prototype._handleAuthenticationFailed=function(e){return this._authenticationPromise=null,this._stateMask&=~C.AUTHENTICATED,this.emit("authentication_failed",{error:e}),s.reject(!1)},r.prototype._onOffline=function(){this._disconnect(!0)},r.prototype._onOnline=function(){this._tryToReconnect()},r.prototype._tryToReconnect=function(){if(this._reconnectionRetries<0)return this._isReconnecting=!1,void this.emit("disconnected");if(!this._isReconnecting){var e=Date.now()-this._initTime;if(e<v&&!this._reconnectTimeout)return void(this._reconnectTimeout=setTimeout(this._tryToReconnect.bind(this),e));this._stateMask=0;var t=this,n=function(){return t._isReconnecting=!0,t.emit("reconnecting"),t._disconnect(!0),t.connect().then(function(){return t.authenticate()}).then(function(){return t._isReconnecting=!1,t.emit("reconnected"),!0})};o.init(n,{baseTime:1e3,maxTime:15e3,maxRetries:this._reconnectionRetries}).catch(function(){t._stateMask=0,t.emit("disconnected")})}},r.prototype.connect=function(){return this._endpointsProvider().then(this._connectToEndpoints.bind(this)).catch(function(e){return this.emit("connection_error",{error:e}),s.reject(e)}.bind(this))},r.prototype._connectToEndpoints=function(e){var t={};for(var n in e)if(e.hasOwnProperty(n)&&e[n]){var r=e[n];!b.test(r)&&!E.test(r)||S.test(r)||(r+="/"),t[n]=r}this._endpoints=t;var i=function(){return this._stateMask|=C.CONNECTED,this.emit("connected"),s.resolve(!0)}.bind(this);return e.dealer?this._dealer.connect(t.dealer).then(i):i()},r.prototype._disconnect=function(e){this._stateMask=0,this._dealerHeartbeat.stop(),this._dealer.disconnect(),e||this.emit("disconnected")},r.prototype.disconnect=function(){return this._disconnect(),s.resolve(!0)},r.prototype._refreshToken=function(e){if(!this._refreshTokenPromise){if(!e&&Date.now()<this._lastTokenExpiry)return s.resolve(this._lastToken);this._refreshTokenPromise=this._tokenProvider().then(function(e){var t,n;if(Array.isArray(e)?(t=e[0],n=parseInt(e[1]||T,10)):(t=e,n=T),!t)throw new TypeError("Token provider returned an invalid token: "+t);return this._refreshTokenPromise=null,this._lastToken=t,this._lastTokenExpiry=Date.now()+1e3*n,this.emit("access_token",{token:t}),t}.bind(this))}return this._refreshTokenPromise},r.prototype.authenticate=function(){return this._authenticationPromise||(this._authenticationPromise=o.init(function(){return this._refreshToken(!0).then(this._authenticateWithToken.bind(this))}.bind(this),{algo:"exp",maxRetries:this._reconnectionRetries}).then(this._handleAuthenticated).catch(this._handleAuthenticationFailed)),this._authenticationPromise},r.prototype._authenticateWithToken=function(e){var t=this._endpoints;return t.dealer?this._dealer.authenticate(e):s.resolve(!0)},r.prototype._processHTTPArgs=function(e,t){var n=this._endpoints,r=e,i=t||{},o={algo:"exp",maxRetries:w};if(g.test(r)){try{r=r.replace(g,function(e,t){if(!n.hasOwnProperty(t))throw new TypeError("Cannot replace endpoint @"+t+"; Endpoint undefined.");return n[t]})}catch(e){return s.reject(e)}i.authorize=!0}return"retries"in i&&("number"==typeof i.retries?o.maxRetries=i.retries:o=i.retries),i.authorize?(i.headers||(i.headers={}),this._updateBearerToken(i).then(function(){return{url:r,args:i,backoffStrategy:o}})):s.resolve({url:r,args:i,backoffStrategy:o})},r.prototype._updateBearerToken=function(e,t){return e.authorize?this._refreshToken(t).then(function(t){return e.headers.Authorization="Bearer "+t,e}):s.resolve(e)},r.prototype.request=function(e,t){var n=this,r=function(){return n._processHTTPArgs(e,t).then(n._requestHTTP)},i=!this._connectionObserver.isOnline()||g.test(e)&&!(this._stateMask&C.CONNECTED);return i?new s(function(e,t){n.once("connected",function(){r().then(e,t)})}):r()},r.prototype._renewAuthAndRetry=function(e){var t=!1,n=this,r=this._connectionObserver;return o.init(function(){var i=function(){return n._updateBearerToken(e.args,t)};return(r.isOnline()?i():new s(function(t,n){return e.args.allowOffline?void i().then(t,n):void r.on("online",function(){i().then(t,n)})})).then(function(){return p.request(e.url,e.args).then(function(n){return n.status===y.UNAUTHORIZED?(t=!0,s.reject(n)):"function"==typeof e.args.shouldRetry&&e.args.shouldRetry(n,_)?s.reject(n):n})})},e.backoffStrategy).catch(function(e){return e instanceof f?e:s.reject(e)})},r.prototype._requestHTTP=function(e){var t=this;return!e.args.authorize||this._stateMask&C.AUTHENTICATED?t._renewAuthAndRetry(e):new s(function(n,r){t.once("authenticated",function(){t._renewAuthAndRetry(e).then(n,r)})})},r.prototype.send=function(e,t){this.request(e,t)},r.prototype.touch=function(e){t.Image?(new t.Image).src=e:this.send(e)},r.prototype.getInitTime=function(){return this._initTime},r.prototype.getServerTime=function(){return this.request("http://@webgate/melody/v1/time",{responseType:"json"}).then(function(e){return e.status!==y.OK?s.reject(new Error("Endpoint responded with status "+e.status)):e.body.timestamp})},r.prototype.getConnectionId=function(){return this._dealer.getConnectionId()},r.prototype.getDealerConnectionId=function(){return this.getConnectionId()},r.prototype.getLogger=function(){return this._logger},r.prototype.matchDealerMessages=function(e,t){return this._dealer.matchMessages(e,t)},r.prototype.unmatchDealerMessages=function(e,t){return this._dealer.unmatchDealerMessages(e,t)},r.prototype.isOnline=function(){return this._connectionObserver.isOnline()},r.prototype.getProductState=function(){return this.request("https://@webgate/melody/v1/product_state",{method:"GET",responseType:"json"}).then(function(e){return e.status!==y.OK?s.reject(new Error("Cannot get the user's product state.")):e.body})},r.prototype.createStepTimer=function(e){return h.create(e,this._logger)},e.exports=r}).call(t,function(){return this}())},function(e,t){(function(t){"use strict";function n(e,t){this._name=e,this._logger=t,this._steps=[],this._stepMap={},this._rootStep=null,this._lastStep=null,this._calculated=null}var r="1.0.0",i="undefined"!=typeof t.performance&&"function"==typeof t.performance.now;n.create=function(e,t){return new n(e,t)},n.prototype._walkStepTree=function(e,t){for(var n=[],r=0,i=[],o=0,a=e.length;o<a;o++){var s=e[o],u=Math.ceil(s.timestamp-t.timestamp);if(i.push(u),n.push({name:s.name,ms_duration:u,parent:"__init__"===t.name?null:t.name}),s.children.length){var l=this._walkStepTree(s.children,s);r+=l.ms_duration,n.push.apply(n,l.breakdown)}}return r+=Math.max.apply(Math,i),{ms_duration:r,breakdown:n}},n.prototype._getTimestamp=function(){return i?performance.now():Date.now()},n.prototype.start=function(){if(this._lastStep)throw new Error("StepTimer already started.");var e={name:"__init__",timestamp:this._getTimestamp(),children:[]};return this._rootStep=e,this._stepMap.__init__=e,this._lastStep=e,this._calculated=null,this},n.prototype.markStep=function(e){if(!this._rootStep)throw new TypeError("Cannot add step to a non-started StepTimer.");var t=this._stepMap;if(e in t)return this;var n={name:e,timestamp:this._getTimestamp(),children:[]};return t[n.name]=n,this._lastStep.children.push(n),this._lastStep=n,this._calculated=null,this},n.prototype.markStepFrom=function(e,t){if(!this._lastStep)throw new TypeError("Cannot add step to a non-started StepTimer.");if(!this._rootStep)throw new TypeError("Cannot add step to a non-started StepTimer.");var n=this._stepMap;if(t in n)return this;var r=e?n[e]:this._rootStep;if(!r)return this;var i={name:t,timestamp:this._getTimestamp(),children:[]};return n[i.name]=i,r.children.push(i),this._lastStep=i,this._calculated=null,this},n.prototype.calculate=function(){if(this._calculated)return this._calculated;var e=this._walkStepTree(this._rootStep.children,this._rootStep),t={timer_name:this._name,ms_duration:Math.ceil(e.ms_duration),breakdown:e.breakdown,breakdown_version:r};return this._calculated=t,t},n.prototype.sendLog=function(e,t){var n=e||{},r=this.calculate();return r.json_data=n.json_data,r.json_data_version=n.json_data_version,this._logger.logJSSDKTimer(r,t)},e.exports=n}).call(t,function(){return this}())},function(e,t,n){"use strict";function r(e,t){var n=t||{};this._fn=e,this._baseTime=n.baseTime||a.baseTime,this._algo=n.algo||a.algorithm,this._resolver=i.defer(),this._maxDuration=n.maxDuration||a.maxDuration,this._maxRetries=n.maxRetries||a.maxRetries,this._maxTime=n.maxTime||a.maxTime,this._retryPredicate=n.retryPredicate||a.retryPredicate,this._ts=0,this._retries=0,this._tickInterval=null,this._isRunning=!1,this._tick=this._tick.bind(this)}var i=n(12),o=Array.prototype.slice,a={algorithm:"lin",baseTime:200,maxDuration:1/0,maxRetries:1/0,maxTime:1/0,retryPredicate:function(){return!0}};r.init=function(e,t){return new r(e,t).start()},r.prototype.getResolver=function(){return this._resolver.promise},r.prototype.start=function(e){if(!this._fn&&e&&(this._fn=e),!this._isRunning)return this._ts=Date.now(),this._tick(),this._isRunning=!0,this._resolver.promise},r.prototype.stop=function(){clearTimeout(this._tickInterval),this._isRunning=!1,this._destroy()},r.prototype._destroy=function(){this._fn=null,this._resolver=null},r.prototype._failure=function(e){var t=this._getTime(),n=Date.now()-this._ts+t,r=this._retries<this._maxRetries&&t<this._maxTime&&n<this._maxDuration&&this._retryPredicate(e);r?(this._retries++,this._tickInterval=setTimeout(this._tick,t)):(this._resolver.reject(e),this._destroy())},r.prototype._getTime=function(){var e;switch(this._algo){case"static":e=1;break;case"log":e=Math.log(this._retries);break;case"exp":e=Math.pow(Math.E,this._retries);break;case"lin":default:e=this._retries}return e*this._baseTime},r.prototype._success=function(){this._resolver.resolve.apply(null,o.call(arguments)),this._destroy()},r.prototype._tick=function(){this._fn().then(this._success.bind(this)).catch(this._failure.bind(this))},e.exports=r},function(e,t,n){"use strict";function r(e){return void 0===e||!!e}function i(e){var t=e||{},n={};return r(t.dealer)&&(n.dealer=u),r(t.webgate)&&(n.webgate=a),r(t.webapi)&&(n.webapi=s),function(){return o.resolve(n)}}var o=n(12),a="https://spclient.wg.spotify.com/",s="https://api.spotify.com/",u="wss://dealer.spotify.com:443/";e.exports=i},function(e,t){"use strict";e.exports=function(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})}},[661,653],function(e,t,n){(function(e,r){"use strict";function i(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o,a=n(654),s=i(a);o="undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof e?e:r;var u=(0,s.default)(o);t.default=u}).call(t,function(){return this}(),n(225)(e))},function(e,t){"use strict";function n(e){var t,n=e.Symbol;return"function"==typeof n?n.observable?t=n.observable:(t=n("observable"),n.observable=t):t="@@observable",t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=n},function(e,t,n){function r(e,t){this._id=e,this._clearFn=t}var i=Function.prototype.apply;t.setTimeout=function(){return new r(i.call(setTimeout,window,arguments),clearTimeout)},t.setInterval=function(){return new r(i.call(setInterval,window,arguments),clearInterval)},t.clearTimeout=t.clearInterval=function(e){e&&e.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(window,this._id)},t.enroll=function(e,t){clearTimeout(e._idleTimeoutId),e._idleTimeout=t},t.unenroll=function(e){clearTimeout(e._idleTimeoutId),e._idleTimeout=-1},t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;t>=0&&(e._idleTimeoutId=setTimeout(function(){e._onTimeout&&e._onTimeout()},t))},n(597),t.setImmediate=setImmediate,t.clearImmediate=clearImmediate},function(e,t){function n(){}function r(e,t){return Math.floor(Math.random()*(t-e+1))+e}n.maxFromBits=function(e){return Math.pow(2,e)},n.limitUI04=n.maxFromBits(4),n.limitUI06=n.maxFromBits(6),n.limitUI08=n.maxFromBits(8),n.limitUI12=n.maxFromBits(12),n.limitUI14=n.maxFromBits(14),n.limitUI16=n.maxFromBits(16),n.limitUI32=n.maxFromBits(32),n.limitUI40=n.maxFromBits(40),n.limitUI48=n.maxFromBits(48),n.randomUI04=function(){return r(0,n.limitUI04-1)},n.randomUI06=function(){return r(0,n.limitUI06-1)},n.randomUI08=function(){return r(0,n.limitUI08-1)},n.randomUI12=function(){return r(0,n.limitUI12-1)},n.randomUI14=function(){return r(0,n.limitUI14-1)},n.randomUI16=function(){return r(0,n.limitUI16-1)},n.randomUI32=function(){return r(0,n.limitUI32-1)},n.randomUI40=function(){return(0|Math.random()*(1<<30))+(0|1024*Math.random())*(1<<30)},n.randomUI48=function(){return(0|Math.random()*(1<<30))+(0|Math.random()*(1<<18))*(1<<30)},n.paddedString=function(e,t,n){e=String(e),n=n?n:"0";for(var r=t-e.length;r>0;r>>>=1,n+=n)1&r&&(e=n+e);return e},n.prototype.fromParts=function(e,t,r,i,o,a){return this.version=r>>12&15,this.hex=n.paddedString(e.toString(16),8)+"-"+n.paddedString(t.toString(16),4)+"-"+n.paddedString(r.toString(16),4)+"-"+n.paddedString(i.toString(16),2)+n.paddedString(o.toString(16),2)+"-"+n.paddedString(a.toString(16),12),this},n.prototype.toString=function(){return this.hex},n.prototype.toURN=function(){return"urn:uuid:"+this.hex},n.prototype.toBytes=function(){for(var e=this.hex.split("-"),t=[],n=0,r=0;r<e.length;r++)for(var i=0;i<e[r].length;i+=2)t[n++]=parseInt(e[r].substr(i,2),16);return t},n.prototype.equals=function(e){return e instanceof UUID&&this.hex===e.hex},n.getTimeFieldValues=function(e){var t=e-Date.UTC(1582,9,15),n=t/4294967296*1e4&268435455;return{low:1e4*(268435455&t)%4294967296,mid:65535&n,hi:n>>>16,timestamp:t}},n._create4=function(){return(new n).fromParts(n.randomUI32(),n.randomUI16(),16384|n.randomUI12(),128|n.randomUI06(),n.randomUI08(),n.randomUI48())},n._create1=function(){var e=(new Date).getTime(),t=n.randomUI14(),r=1099511627776*(1|n.randomUI08())+n.randomUI40(),i=n.randomUI04(),o=0,a=.25;e!=o?(e<o&&t++,o=e,i=n.randomUI04()):Math.random()<a&&i<9984?i+=1+n.randomUI04():t++;var s=n.getTimeFieldValues(o),u=s.low+i,l=4095&s.hi|4096;
t&=16383;var c=t>>>8|128,p=255&t;return(new n).fromParts(u,s.mid,l,c,p,r)},n.create=function(e){return e=e||4,this["_create"+e]()},n.fromTime=function(e,t){t=!!t&&t;var r=n.getTimeFieldValues(e),i=r.low,o=4095&r.hi|4096;return t===!1?(new n).fromParts(i,r.mid,o,0,0,0):(new n).fromParts(i,r.mid,o,128|n.limitUI06,n.limitUI08-1,n.limitUI48-1)},n.firstFromTime=function(e){return n.fromTime(e,!1)},n.lastFromTime=function(e){return n.fromTime(e,!0)},n.fromURN=function(e){var t,r=/^(?:urn:uuid:|\{)?([0-9a-f]{8})-([0-9a-f]{4})-([0-9a-f]{4})-([0-9a-f]{2})([0-9a-f]{2})-([0-9a-f]{12})(?:\})?$/i;return(t=r.exec(e))?(new n).fromParts(parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16),parseInt(t[4],16),parseInt(t[5],16),parseInt(t[6],16)):null},n.fromBytes=function(e){if(e.length<5)return null;for(var t="",r=0,i=[4,2,2,2,6],o=0;o<i.length;o++){for(var a=0;a<i[o];a++){var s=e[r++].toString(16);1==s.length&&(s="0"+s),t+=s}6!==i[o]&&(t+="-")}return n.fromURN(t)},n.fromBinary=function(e){for(var t=[],r=0;r<e.length;r++)if(t[r]=e.charCodeAt(r),t[r]>255||t[r]<0)throw new Error("Unexpected byte in binary data.");return n.fromBytes(t)},n.new=function(){return this.create(4)},n.newTS=function(){return this.create(1)},e.exports=n},36,function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},function(e,t){},function(e,t,n,r){"use strict";var i=n(r),o=(n(4),function(e){var t=this;if(t.instancePool.length){var n=t.instancePool.pop();return t.call(n,e),n}return new t(e)}),a=function(e,t){var n=this;if(n.instancePool.length){var r=n.instancePool.pop();return n.call(r,e,t),r}return new n(e,t)},s=function(e,t,n){var r=this;if(r.instancePool.length){var i=r.instancePool.pop();return r.call(i,e,t,n),i}return new r(e,t,n)},u=function(e,t,n,r){var i=this;if(i.instancePool.length){var o=i.instancePool.pop();return i.call(o,e,t,n,r),o}return new i(e,t,n,r)},l=function(e){var t=this;e instanceof t?void 0:i("25"),e.destructor(),t.instancePool.length<t.poolSize&&t.instancePool.push(e)},c=10,p=o,f=function(e,t){var n=e;return n.instancePool=[],n.getPooled=t||p,n.poolSize||(n.poolSize=c),n.release=l,n},d={addPoolingTo:f,oneArgumentPooler:o,twoArgumentPooler:a,threeArgumentPooler:s,fourArgumentPooler:u};e.exports=d},function(e,t,n,r){e.exports=n(r)}]));